(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function S_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ud={exports:{}},el={},Bd={exports:{}},be={};var Ey;function YT(){if(Ey)return be;Ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,j={};function b(N,K,oe){this.props=N,this.context=K,this.refs=j,this.updater=oe||V}b.prototype.isReactComponent={},b.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},b.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function q(){}q.prototype=b.prototype;function G(N,K,oe){this.props=N,this.context=K,this.refs=j,this.updater=oe||V}var ne=G.prototype=new q;ne.constructor=G,H(ne,b.prototype),ne.isPureReactComponent=!0;var le=Array.isArray,me=Object.prototype.hasOwnProperty,ee={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(N,K,oe){var Ce,we={},je=null,Pe=null;if(K!=null)for(Ce in K.ref!==void 0&&(Pe=K.ref),K.key!==void 0&&(je=""+K.key),K)me.call(K,Ce)&&!P.hasOwnProperty(Ce)&&(we[Ce]=K[Ce]);var Ne=arguments.length-2;if(Ne===1)we.children=oe;else if(1<Ne){for(var xe=Array(Ne),Qe=0;Qe<Ne;Qe++)xe[Qe]=arguments[Qe+2];we.children=xe}if(N&&N.defaultProps)for(Ce in Ne=N.defaultProps,Ne)we[Ce]===void 0&&(we[Ce]=Ne[Ce]);return{$$typeof:n,type:N,key:je,ref:Pe,props:we,_owner:ee.current}}function C(N,K){return{$$typeof:n,type:N.type,key:K,ref:N.ref,props:N.props,_owner:N._owner}}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function x(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return K[oe]})}var M=/\/+/g;function k(N,K){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):K.toString(36)}function Re(N,K,oe,Ce,we){var je=typeof N;(je==="undefined"||je==="boolean")&&(N=null);var Pe=!1;if(N===null)Pe=!0;else switch(je){case"string":case"number":Pe=!0;break;case"object":switch(N.$$typeof){case n:case e:Pe=!0}}if(Pe)return Pe=N,we=we(Pe),N=Ce===""?"."+k(Pe,0):Ce,le(we)?(oe="",N!=null&&(oe=N.replace(M,"$&/")+"/"),Re(we,K,oe,"",function(Qe){return Qe})):we!=null&&(D(we)&&(we=C(we,oe+(!we.key||Pe&&Pe.key===we.key?"":(""+we.key).replace(M,"$&/")+"/")+N)),K.push(we)),1;if(Pe=0,Ce=Ce===""?".":Ce+":",le(N))for(var Ne=0;Ne<N.length;Ne++){je=N[Ne];var xe=Ce+k(je,Ne);Pe+=Re(je,K,oe,xe,we)}else if(xe=S(N),typeof xe=="function")for(N=xe.call(N),Ne=0;!(je=N.next()).done;)je=je.value,xe=Ce+k(je,Ne++),Pe+=Re(je,K,oe,xe,we);else if(je==="object")throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Ye(N,K,oe){if(N==null)return N;var Ce=[],we=0;return Re(N,Ce,"","",function(je){return K.call(oe,je,we++)}),Ce}function De(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},re={transition:null},ce={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:re,ReactCurrentOwner:ee};return be.Children={map:Ye,forEach:function(N,K,oe){Ye(N,function(){K.apply(this,arguments)},oe)},count:function(N){var K=0;return Ye(N,function(){K++}),K},toArray:function(N){return Ye(N,function(K){return K})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},be.Component=b,be.Fragment=t,be.Profiler=o,be.PureComponent=G,be.StrictMode=i,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,be.cloneElement=function(N,K,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Ce=H({},N.props),we=N.key,je=N.ref,Pe=N._owner;if(K!=null){if(K.ref!==void 0&&(je=K.ref,Pe=ee.current),K.key!==void 0&&(we=""+K.key),N.type&&N.type.defaultProps)var Ne=N.type.defaultProps;for(xe in K)me.call(K,xe)&&!P.hasOwnProperty(xe)&&(Ce[xe]=K[xe]===void 0&&Ne!==void 0?Ne[xe]:K[xe])}var xe=arguments.length-2;if(xe===1)Ce.children=oe;else if(1<xe){Ne=Array(xe);for(var Qe=0;Qe<xe;Qe++)Ne[Qe]=arguments[Qe+2];Ce.children=Ne}return{$$typeof:n,type:N.type,key:we,ref:je,props:Ce,_owner:Pe}},be.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},be.createElement=A,be.createFactory=function(N){var K=A.bind(null,N);return K.type=N,K},be.createRef=function(){return{current:null}},be.forwardRef=function(N){return{$$typeof:f,render:N}},be.isValidElement=D,be.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:De}},be.memo=function(N,K){return{$$typeof:y,type:N,compare:K===void 0?null:K}},be.startTransition=function(N){var K=re.transition;re.transition={};try{N()}finally{re.transition=K}},be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},be.useCallback=function(N,K){return Fe.current.useCallback(N,K)},be.useContext=function(N){return Fe.current.useContext(N)},be.useDebugValue=function(){},be.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},be.useEffect=function(N,K){return Fe.current.useEffect(N,K)},be.useId=function(){return Fe.current.useId()},be.useImperativeHandle=function(N,K,oe){return Fe.current.useImperativeHandle(N,K,oe)},be.useInsertionEffect=function(N,K){return Fe.current.useInsertionEffect(N,K)},be.useLayoutEffect=function(N,K){return Fe.current.useLayoutEffect(N,K)},be.useMemo=function(N,K){return Fe.current.useMemo(N,K)},be.useReducer=function(N,K,oe){return Fe.current.useReducer(N,K,oe)},be.useRef=function(N){return Fe.current.useRef(N)},be.useState=function(N){return Fe.current.useState(N)},be.useSyncExternalStore=function(N,K,oe){return Fe.current.useSyncExternalStore(N,K,oe)},be.useTransition=function(){return Fe.current.useTransition()},be.version="18.2.0",be}var Ty;function np(){return Ty||(Ty=1,Bd.exports=YT()),Bd.exports}var Cy;function QT(){if(Cy)return el;Cy=1;var n=np(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var _,E={},S=null,V=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(V=g.ref);for(_ in g)i.call(g,_)&&!l.hasOwnProperty(_)&&(E[_]=g[_]);if(f&&f.defaultProps)for(_ in g=f.defaultProps,g)E[_]===void 0&&(E[_]=g[_]);return{$$typeof:e,type:f,key:S,ref:V,props:E,_owner:o.current}}return el.Fragment=t,el.jsx=h,el.jsxs=h,el}var Sy;function JT(){return Sy||(Sy=1,Ud.exports=QT()),Ud.exports}var I=JT(),F=np();const XT=S_(F);var Qu={},zd={exports:{}},cn={},$d={exports:{}},Wd={};var Iy;function ZT(){return Iy||(Iy=1,(function(n){function e(re,ce){var N=re.length;re.push(ce);e:for(;0<N;){var K=N-1>>>1,oe=re[K];if(0<o(oe,ce))re[K]=ce,re[N]=oe,N=K;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ce=re[0],N=re.pop();if(N!==ce){re[0]=N;e:for(var K=0,oe=re.length,Ce=oe>>>1;K<Ce;){var we=2*(K+1)-1,je=re[we],Pe=we+1,Ne=re[Pe];if(0>o(je,N))Pe<oe&&0>o(Ne,je)?(re[K]=Ne,re[Pe]=N,K=Pe):(re[K]=je,re[we]=N,K=we);else if(Pe<oe&&0>o(Ne,N))re[K]=Ne,re[Pe]=N,K=Pe;else break e}}return ce}function o(re,ce){var N=re.sortIndex-ce.sortIndex;return N!==0?N:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var g=[],y=[],_=1,E=null,S=3,V=!1,H=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(re){for(var ce=t(y);ce!==null;){if(ce.callback===null)i(y);else if(ce.startTime<=re)i(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(y)}}function le(re){if(j=!1,ne(re),!H)if(t(g)!==null)H=!0,De(me);else{var ce=t(y);ce!==null&&Fe(le,ce.startTime-re)}}function me(re,ce){H=!1,j&&(j=!1,q(A),A=-1),V=!0;var N=S;try{for(ne(ce),E=t(g);E!==null&&(!(E.expirationTime>ce)||re&&!x());){var K=E.callback;if(typeof K=="function"){E.callback=null,S=E.priorityLevel;var oe=K(E.expirationTime<=ce);ce=n.unstable_now(),typeof oe=="function"?E.callback=oe:E===t(g)&&i(g),ne(ce)}else i(g);E=t(g)}if(E!==null)var Ce=!0;else{var we=t(y);we!==null&&Fe(le,we.startTime-ce),Ce=!1}return Ce}finally{E=null,S=N,V=!1}}var ee=!1,P=null,A=-1,C=5,D=-1;function x(){return!(n.unstable_now()-D<C)}function M(){if(P!==null){var re=n.unstable_now();D=re;var ce=!0;try{ce=P(!0,re)}finally{ce?k():(ee=!1,P=null)}}else ee=!1}var k;if(typeof G=="function")k=function(){G(M)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ye=Re.port2;Re.port1.onmessage=M,k=function(){Ye.postMessage(null)}}else k=function(){b(M,0)};function De(re){P=re,ee||(ee=!0,k())}function Fe(re,ce){A=b(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){H||V||(H=!0,De(me))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(re){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var N=S;S=ce;try{return re()}finally{S=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var N=S;S=re;try{return ce()}finally{S=N}},n.unstable_scheduleCallback=function(re,ce,N){var K=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?K+N:K):N=K,re){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=N+oe,re={id:_++,callback:ce,priorityLevel:re,startTime:N,expirationTime:oe,sortIndex:-1},N>K?(re.sortIndex=N,e(y,re),t(g)===null&&re===t(y)&&(j?(q(A),A=-1):j=!0,Fe(le,N-K))):(re.sortIndex=oe,e(g,re),H||V||(H=!0,De(me))),re},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(re){var ce=S;return function(){var N=S;S=ce;try{return re.apply(this,arguments)}finally{S=N}}}})(Wd)),Wd}var Ay;function eC(){return Ay||(Ay=1,$d.exports=ZT()),$d.exports}var Ry;function tC(){if(Ry)return cn;Ry=1;var n=np(),e=eC();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return g.call(E,r)?!0:g.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function V(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function H(r,s,a,c){if(s===null||typeof s>"u"||V(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,c,d,p,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,G);b[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,G);b[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,G);b[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,s,a,c){var d=b.hasOwnProperty(s)?b[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var le=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),ee=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),x=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var N=Object.assign,K;function oe(r){if(K===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||""}return`
`+K+r}var Ce=!1;function we(r,s){if(!r||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var c=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){c=$}r.call(s.prototype)}else{try{throw Error()}catch($){c=$}r()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),p=c.stack.split(`
`),w=d.length-1,R=p.length-1;1<=w&&0<=R&&d[w]!==p[R];)R--;for(;1<=w&&0<=R;w--,R--)if(d[w]!==p[R]){if(w!==1||R!==1)do if(w--,R--,0>R||d[w]!==p[R]){var O=`
`+d[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=R);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?oe(r):""}function je(r){switch(r.tag){case 5:return oe(r.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return r=we(r.type,!1),r;case 11:return r=we(r.type.render,!1),r;case 1:return r=we(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case ee:return"Portal";case C:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case Re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ye:return s=r.displayName||null,s!==null?s:Pe(r.type)||"Memo";case De:s=r._payload,r=r._init;try{return Pe(r(s))}catch{}}return null}function Ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hs(r){var s=Qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function or(r){r._valueTracker||(r._valueTracker=hs(r))}function ar(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Qe(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Rn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Je(r,s){var a=s.checked;return N({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function lr(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=xe(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function St(r,s){s=s.checked,s!=null&&ne(r,"checked",s,!1)}function kn(r,s){St(r,s);var a=xe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?at(r,s.type,a):s.hasOwnProperty("defaultValue")&&at(r,s.type,xe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function vi(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function at(r,s,a){(s!=="number"||Rn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var lt=Array.isArray;function fn(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+xe(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ds(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function _i(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(lt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:xe(a)}}function ro(r,s){var a=xe(s.value),c=xe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ur(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function fs(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wi(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?fs(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var cr,Ei=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function hr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},io=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(r){io.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Hn[s]=Hn[r]})});function pn(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Hn.hasOwnProperty(r)&&Hn[r]?(""+s).trim():s+"px"}function Br(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=pn(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var ps=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(r,s){if(s){if(ps[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=null;function Ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pn=null,qn=null,Ze=null;function _t(r){if(r=ja(r)){if(typeof Pn!="function")throw Error(t(280));var s=r.stateNode;s&&(s=hu(s),Pn(r.stateNode,r.type,s))}}function ut(r){qn?Ze?Ze.push(r):Ze=[r]:qn=r}function mn(){if(qn){var r=qn,s=Ze;if(Ze=qn=null,_t(r),s)for(r=0;r<s.length;r++)_t(s[r])}}function qe(r,s){return r(s)}function Xt(){}var xn=!1;function Ci(r,s,a){if(xn)return r(s,a);xn=!0;try{return qe(r,s,a)}finally{xn=!1,(qn!==null||Ze!==null)&&(Xt(),mn())}}function dr(r,s){var a=r.stateNode;if(a===null)return null;var c=hu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Gn=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Gn=!1}function $r(r,s,a,c,d,p,w,R,O){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(X){this.onError(X)}}var gn=!1,nn=null,fr=!1,rn=null,Si={onError:function(r){gn=!0,nn=r}};function ms(r,s,a,c,d,p,w,R,O){gn=!1,nn=null,$r.apply(Si,arguments)}function gs(r,s,a,c,d,p,w,R,O){if(ms.apply(this,arguments),gn){if(gn){var $=nn;gn=!1,nn=null}else throw Error(t(198));fr||(fr=!0,rn=$)}}function yn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ke(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ge(r){if(yn(r)!==r)throw Error(t(188))}function et(r){var s=r.alternate;if(!s){if(s=yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Ge(d),r;if(p===c)return Ge(d),s;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var w=!1,R=d.child;R;){if(R===a){w=!0,a=d,c=p;break}if(R===c){w=!0,c=d,a=p;break}R=R.sibling}if(!w){for(R=p.child;R;){if(R===a){w=!0,a=p,c=d;break}if(R===c){w=!0,c=p,a=d;break}R=R.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function $t(r){return r=et(r),r!==null?It(r):null}function It(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=It(r);if(s!==null)return s;r=r.sibling}return null}var Wr=e.unstable_scheduleCallback,Ii=e.unstable_cancelCallback,Hr=e.unstable_shouldYield,qr=e.unstable_requestPaint,tt=e.unstable_now,yh=e.unstable_getCurrentPriorityLevel,so=e.unstable_ImmediatePriority,ga=e.unstable_UserBlockingPriority,ys=e.unstable_NormalPriority,ya=e.unstable_LowPriority,oo=e.unstable_IdlePriority,vs=null,vn=null;function Kl(r){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(vs,r,void 0,(r.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:_s,pr=Math.log,bn=Math.LN2;function _s(r){return r>>>=0,r===0?32:31-(pr(r)/bn|0)|0}var mr=64,Ai=4194304;function $e(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gr(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,p=r.pingedLanes,w=a&268435455;if(w!==0){var R=w&~d;R!==0?c=$e(R):(p&=w,p!==0&&(c=$e(p)))}else w=a&~d,w!==0?c=$e(w):p!==0&&(c=$e(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-_n(s),d=1<<a,c|=r[a],s&=~d;return c}function ws(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var w=31-_n(p),R=1<<w,O=d[w];O===-1?((R&a)===0||(R&c)!==0)&&(d[w]=ws(R,s)):O<=s&&(r.expiredLanes|=R),p&=~R}}function va(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _a(){var r=mr;return mr<<=1,(mr&4194240)===0&&(mr=64),r}function wa(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ts(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-_n(s),r[s]=a}function vh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-_n(a),p=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~p}}function Ea(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-_n(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Me=0;function gr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ta,ao,Ca,Sa,Ia,yr=!1,lo=[],vr=null,_r=null,Vt=null,Cs=new Map,Kr=new Map,wn=[],Yl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ri(r,s){switch(r){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Cs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(s.pointerId)}}function Kn(r,s,a,c,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ja(s),s!==null&&ao(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Ql(r,s,a,c,d){switch(s){case"focusin":return vr=Kn(vr,r,s,a,c,d),!0;case"dragenter":return _r=Kn(_r,r,s,a,c,d),!0;case"mouseover":return Vt=Kn(Vt,r,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return Cs.set(p,Kn(Cs.get(p)||null,r,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Kr.set(p,Kn(Kr.get(p)||null,r,s,a,c,d)),!0}return!1}function uo(r){var s=Rs(r.target);if(s!==null){var a=yn(s);if(a!==null){if(s=a.tag,s===13){if(s=ke(a),s!==null){r.blockedOn=s,Ia(r.priority,function(){Ca(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ke(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=co(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Dn=c,a.target.dispatchEvent(c),Dn=null}else return s=ja(a),s!==null&&ao(s),r.blockedOn=a,!1;s.shift()}return!0}function Jl(r,s,a){Ke(r)&&a.delete(s)}function _h(){yr=!1,vr!==null&&Ke(vr)&&(vr=null),_r!==null&&Ke(_r)&&(_r=null),Vt!==null&&Ke(Vt)&&(Vt=null),Cs.forEach(Jl),Kr.forEach(Jl)}function ki(r,s){r.blockedOn===s&&(r.blockedOn=null,yr||(yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_h)))}function Di(r){function s(d){return ki(d,r)}if(0<lo.length){ki(lo[0],r);for(var a=1;a<lo.length;a++){var c=lo[a];c.blockedOn===r&&(c.blockedOn=null)}}for(vr!==null&&ki(vr,r),_r!==null&&ki(_r,r),Vt!==null&&ki(Vt,r),Cs.forEach(s),Kr.forEach(s),a=0;a<wn.length;a++)c=wn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<wn.length&&(a=wn[0],a.blockedOn===null);)uo(a),a.blockedOn===null&&wn.shift()}var Yr=le.ReactCurrentBatchConfig,Qr=!0;function wr(r,s,a,c){var d=Me,p=Yr.transition;Yr.transition=null;try{Me=1,Aa(r,s,a,c)}finally{Me=d,Yr.transition=p}}function Xl(r,s,a,c){var d=Me,p=Yr.transition;Yr.transition=null;try{Me=4,Aa(r,s,a,c)}finally{Me=d,Yr.transition=p}}function Aa(r,s,a,c){if(Qr){var d=co(r,s,a,c);if(d===null)Ph(r,s,c,Er,a),Ri(r,c);else if(Ql(d,r,s,a,c))c.stopPropagation();else if(Ri(r,c),s&4&&-1<Yl.indexOf(r)){for(;d!==null;){var p=ja(d);if(p!==null&&Ta(p),p=co(r,s,a,c),p===null&&Ph(r,s,c,Er,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Ph(r,s,c,null,a)}}var Er=null;function co(r,s,a,c){if(Er=null,r=Ti(c),r=Rs(r),r!==null)if(s=yn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ke(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Er=r,null}function ho(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yh()){case so:return 1;case ga:return 4;case ys:case ya:return 16;case oo:return 536870912;default:return 16}default:return 16}}var En=null,fo=null,Jr=null;function Zl(){if(Jr)return Jr;var r,s=fo,a=s.length,c,d="value"in En?En.value:En.textContent,p=d.length;for(r=0;r<a&&s[r]===d[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===d[p-c];c++);return Jr=d.slice(r,1<c?1-c:void 0)}function Ss(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Ra(){return!1}function Wt(r){function s(a,c,d,p,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Tr:Ra,this.isPropagationStopped=Ra,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Wt(Cr),Pi=N({},Cr,{view:0,detail:0}),po=Wt(Pi),mo,go,Tn,As=N({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tn&&(Tn&&r.type==="mousemove"?(mo=r.screenX-Tn.screenX,go=r.screenY-Tn.screenY):go=mo=0,Tn=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:go}}),ka=Wt(As),eu=N({},As,{dataTransfer:0}),tu=Wt(eu),yo=N({},Pi,{relatedTarget:0}),Lt=Wt(yo),nu=N({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Wt(nu),xi=N({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Wt(xi),m=N({},Cr,{data:0}),v=Wt(m),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ie(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=W[r])?!!s[r]:!1}function Ie(){return ie}var gt=N({},Pi,{key:function(r){if(r.key){var s=T[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ss(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(r){return r.type==="keypress"?Ss(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ss(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),He=Wt(gt),wt=N({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cn=Wt(wt),Xr=N({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),Sr=Wt(Xr),Ir=N({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=Wt(Ir),Da=N({},As,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=Wt(Da),WE=[9,13,27,32],wh=f&&"CompositionEvent"in window,Pa=null;f&&"documentMode"in document&&(Pa=document.documentMode);var HE=f&&"TextEvent"in window&&!Pa,dm=f&&(!wh||Pa&&8<Pa&&11>=Pa),fm=" ",pm=!1;function mm(r,s){switch(r){case"keyup":return WE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function qE(r,s){switch(r){case"compositionend":return gm(s);case"keypress":return s.which!==32?null:(pm=!0,fm);case"textInput":return r=s.data,r===fm&&pm?null:r;default:return null}}function GE(r,s){if(_o)return r==="compositionend"||!wh&&mm(r,s)?(r=Zl(),Jr=fo=En=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dm&&s.locale!=="ko"?null:s.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!KE[r.type]:s==="textarea"}function vm(r,s,a,c){ut(c),s=lu(s,"onChange"),0<s.length&&(a=new Is("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var xa=null,Na=null;function YE(r){Lm(r,0)}function iu(r){var s=So(r);if(ar(s))return r}function QE(r,s){if(r==="change")return s}var _m=!1;if(f){var Eh;if(f){var Th="oninput"in document;if(!Th){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),Th=typeof wm.oninput=="function"}Eh=Th}else Eh=!1;_m=Eh&&(!document.documentMode||9<document.documentMode)}function Em(){xa&&(xa.detachEvent("onpropertychange",Tm),Na=xa=null)}function Tm(r){if(r.propertyName==="value"&&iu(Na)){var s=[];vm(s,Na,r,Ti(r)),Ci(YE,s)}}function JE(r,s,a){r==="focusin"?(Em(),xa=s,Na=a,xa.attachEvent("onpropertychange",Tm)):r==="focusout"&&Em()}function XE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return iu(Na)}function ZE(r,s){if(r==="click")return iu(s)}function eT(r,s){if(r==="input"||r==="change")return iu(s)}function tT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Yn=typeof Object.is=="function"?Object.is:tT;function ba(r,s){if(Yn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!Yn(r[d],s[d]))return!1}return!0}function Cm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sm(r,s){var a=Cm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cm(a)}}function Im(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Im(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Am(){for(var r=window,s=Rn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Rn(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nT(r){var s=Am(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Im(a.ownerDocument.documentElement,a)){if(c!==null&&Ch(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!r.extend&&p>c&&(d=c,c=p,p=d),d=Sm(a,p);var w=Sm(a,c);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rT=f&&"documentMode"in document&&11>=document.documentMode,wo=null,Sh=null,Oa=null,Ih=!1;function Rm(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ih||wo==null||wo!==Rn(c)||(c=wo,"selectionStart"in c&&Ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oa&&ba(Oa,c)||(Oa=c,c=lu(Sh,"onSelect"),0<c.length&&(s=new Is("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=wo)))}function su(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Eo={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},Ah={},km={};f&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ou(r){if(Ah[r])return Ah[r];if(!Eo[r])return r;var s=Eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in km)return Ah[r]=s[a];return r}var Dm=ou("animationend"),Pm=ou("animationiteration"),xm=ou("animationstart"),Nm=ou("transitionend"),bm=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(r,s){bm.set(r,s),l(s,[r])}for(var Rh=0;Rh<Om.length;Rh++){var kh=Om[Rh],iT=kh.toLowerCase(),sT=kh[0].toUpperCase()+kh.slice(1);Ni(iT,"on"+sT)}Ni(Dm,"onAnimationEnd"),Ni(Pm,"onAnimationIteration"),Ni(xm,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Nm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Vm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,gs(c,s,void 0,r),r.currentTarget=null}function Lm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var w=c.length-1;0<=w;w--){var R=c[w],O=R.instance,$=R.currentTarget;if(R=R.listener,O!==p&&d.isPropagationStopped())break e;Vm(d,R,$),p=O}else for(w=0;w<c.length;w++){if(R=c[w],O=R.instance,$=R.currentTarget,R=R.listener,O!==p&&d.isPropagationStopped())break e;Vm(d,R,$),p=O}}}if(fr)throw r=rn,fr=!1,rn=null,r}function nt(r,s){var a=s[Lh];a===void 0&&(a=s[Lh]=new Set);var c=r+"__bubble";a.has(c)||(Mm(s,r,2,!1),a.add(c))}function Dh(r,s,a){var c=0;s&&(c|=4),Mm(a,r,c,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function La(r){if(!r[au]){r[au]=!0,i.forEach(function(a){a!=="selectionchange"&&(oT.has(a)||Dh(a,!1,r),Dh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[au]||(s[au]=!0,Dh("selectionchange",!1,s))}}function Mm(r,s,a,c){switch(ho(s)){case 1:var d=wr;break;case 4:d=Xl;break;default:d=Aa}a=d.bind(null,s,a,r),d=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Ph(r,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===d||O.nodeType===8&&O.parentNode===d))return;w=w.return}for(;R!==null;){if(w=Rs(R),w===null)return;if(O=w.tag,O===5||O===6){c=p=w;continue e}R=R.parentNode}}c=c.return}Ci(function(){var $=p,X=Ti(a),Z=[];e:{var Q=bm.get(r);if(Q!==void 0){var se=Is,he=r;switch(r){case"keypress":if(Ss(a)===0)break e;case"keydown":case"keyup":se=He;break;case"focusin":he="focus",se=Lt;break;case"focusout":he="blur",se=Lt;break;case"beforeblur":case"afterblur":se=Lt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Sr;break;case Dm:case Pm:case xm:se=ru;break;case Nm:se=vo;break;case"scroll":se=po;break;case"wheel":se=$E;break;case"copy":case"cut":case"paste":se=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Cn}var de=(s&4)!==0,yt=!de&&r==="scroll",U=de?Q!==null?Q+"Capture":null:Q;de=[];for(var L=$,z;L!==null;){z=L;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=dr(L,U),te!=null&&de.push(Ma(L,te,z)))),yt)break;L=L.return}0<de.length&&(Q=new se(Q,he,null,a,X),Z.push({event:Q,listeners:de}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Q&&a!==Dn&&(he=a.relatedTarget||a.fromElement)&&(Rs(he)||he[Zr]))break e;if((se||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(he=a.relatedTarget||a.toElement,se=$,he=he?Rs(he):null,he!==null&&(yt=yn(he),he!==yt||he.tag!==5&&he.tag!==6)&&(he=null)):(se=null,he=$),se!==he)){if(de=ka,te="onMouseLeave",U="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(de=Cn,te="onPointerLeave",U="onPointerEnter",L="pointer"),yt=se==null?Q:So(se),z=he==null?Q:So(he),Q=new de(te,L+"leave",se,a,X),Q.target=yt,Q.relatedTarget=z,te=null,Rs(X)===$&&(de=new de(U,L+"enter",he,a,X),de.target=z,de.relatedTarget=yt,te=de),yt=te,se&&he)t:{for(de=se,U=he,L=0,z=de;z;z=To(z))L++;for(z=0,te=U;te;te=To(te))z++;for(;0<L-z;)de=To(de),L--;for(;0<z-L;)U=To(U),z--;for(;L--;){if(de===U||U!==null&&de===U.alternate)break t;de=To(de),U=To(U)}de=null}else de=null;se!==null&&Fm(Z,Q,se,de,!1),he!==null&&yt!==null&&Fm(Z,yt,he,de,!0)}}e:{if(Q=$?So($):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var fe=QE;else if(ym(Q))if(_m)fe=eT;else{fe=XE;var ge=JE}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(fe=ZE);if(fe&&(fe=fe(r,$))){vm(Z,fe,a,X);break e}ge&&ge(r,Q,$),r==="focusout"&&(ge=Q._wrapperState)&&ge.controlled&&Q.type==="number"&&at(Q,"number",Q.value)}switch(ge=$?So($):window,r){case"focusin":(ym(ge)||ge.contentEditable==="true")&&(wo=ge,Sh=$,Oa=null);break;case"focusout":Oa=Sh=wo=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Rm(Z,a,X);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":Rm(Z,a,X)}var ye;if(wh)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else _o?mm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(dm&&a.locale!=="ko"&&(_o||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&_o&&(ye=Zl()):(En=X,fo="value"in En?En.value:En.textContent,_o=!0)),ge=lu($,Ee),0<ge.length&&(Ee=new v(Ee,r,null,a,X),Z.push({event:Ee,listeners:ge}),ye?Ee.data=ye:(ye=gm(a),ye!==null&&(Ee.data=ye)))),(ye=HE?qE(r,a):GE(r,a))&&($=lu($,"onBeforeInput"),0<$.length&&(X=new v("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:$}),X.data=ye))}Lm(Z,s)})}function Ma(r,s,a){return{instance:r,listener:s,currentTarget:a}}function lu(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=dr(r,a),p!=null&&c.unshift(Ma(r,p,d)),p=dr(r,s),p!=null&&c.push(Ma(r,p,d))),r=r.return}return c}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Fm(r,s,a,c,d){for(var p=s._reactName,w=[];a!==null&&a!==c;){var R=a,O=R.alternate,$=R.stateNode;if(O!==null&&O===c)break;R.tag===5&&$!==null&&(R=$,d?(O=dr(a,p),O!=null&&w.unshift(Ma(a,O,R))):d||(O=dr(a,p),O!=null&&w.push(Ma(a,O,R)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var aT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function jm(r){return(typeof r=="string"?r:""+r).replace(aT,`
`).replace(lT,"")}function uu(r,s,a){if(s=jm(s),jm(r)!==s&&a)throw Error(t(425))}function cu(){}var xh=null,Nh=null;function bh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(r){return Um.resolve(null).then(r).catch(hT)}:Oh;function hT(r){setTimeout(function(){throw r})}function Vh(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),Di(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Di(s)}function bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Bm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Co,Fa="__reactProps$"+Co,Zr="__reactContainer$"+Co,Lh="__reactEvents$"+Co,dT="__reactListeners$"+Co,fT="__reactHandles$"+Co;function Rs(r){var s=r[Ar];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Zr]||a[Ar]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Bm(r);r!==null;){if(a=r[Ar])return a;r=Bm(r)}return s}r=a,a=r.parentNode}return null}function ja(r){return r=r[Ar]||r[Zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function So(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hu(r){return r[Fa]||null}var Mh=[],Io=-1;function Oi(r){return{current:r}}function rt(r){0>Io||(r.current=Mh[Io],Mh[Io]=null,Io--)}function Xe(r,s){Io++,Mh[Io]=r.current,r.current=s}var Vi={},Ht=Oi(Vi),sn=Oi(!1),ks=Vi;function Ao(r,s){var a=r.type.contextTypes;if(!a)return Vi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function on(r){return r=r.childContextTypes,r!=null}function du(){rt(sn),rt(Ht)}function zm(r,s,a){if(Ht.current!==Vi)throw Error(t(168));Xe(Ht,s),Xe(sn,a)}function $m(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ne(r)||"Unknown",d));return N({},a,c)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Vi,ks=Ht.current,Xe(Ht,r),Xe(sn,sn.current),!0}function Wm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=$m(r,s,ks),c.__reactInternalMemoizedMergedChildContext=r,rt(sn),rt(Ht),Xe(Ht,r)):rt(sn),Xe(sn,a)}var ei=null,pu=!1,Fh=!1;function Hm(r){ei===null?ei=[r]:ei.push(r)}function pT(r){pu=!0,Hm(r)}function Li(){if(!Fh&&ei!==null){Fh=!0;var r=0,s=Me;try{var a=ei;for(Me=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}ei=null,pu=!1}catch(d){throw ei!==null&&(ei=ei.slice(r+1)),Wr(so,Li),d}finally{Me=s,Fh=!1}}return null}var Ro=[],ko=0,mu=null,gu=0,On=[],Vn=0,Ds=null,ti=1,ni="";function Ps(r,s){Ro[ko++]=gu,Ro[ko++]=mu,mu=r,gu=s}function qm(r,s,a){On[Vn++]=ti,On[Vn++]=ni,On[Vn++]=Ds,Ds=r;var c=ti;r=ni;var d=32-_n(c)-1;c&=~(1<<d),a+=1;var p=32-_n(s)+d;if(30<p){var w=d-d%5;p=(c&(1<<w)-1).toString(32),c>>=w,d-=w,ti=1<<32-_n(s)+d|a<<d|c,ni=p+r}else ti=1<<p|a<<d|c,ni=r}function jh(r){r.return!==null&&(Ps(r,1),qm(r,1,0))}function Uh(r){for(;r===mu;)mu=Ro[--ko],Ro[ko]=null,gu=Ro[--ko],Ro[ko]=null;for(;r===Ds;)Ds=On[--Vn],On[Vn]=null,ni=On[--Vn],On[Vn]=null,ti=On[--Vn],On[Vn]=null}var Sn=null,In=null,st=!1,Qn=null;function Gm(r,s){var a=jn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Km(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Sn=r,In=bi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Sn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ds!==null?{id:ti,overflow:ni}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=jn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Sn=r,In=null,!0):!1;default:return!1}}function Bh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zh(r){if(st){var s=In;if(s){var a=s;if(!Km(r,s)){if(Bh(r))throw Error(t(418));s=bi(a.nextSibling);var c=Sn;s&&Km(r,s)?Gm(c,a):(r.flags=r.flags&-4097|2,st=!1,Sn=r)}}else{if(Bh(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,Sn=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function yu(r){if(r!==Sn)return!1;if(!st)return Ym(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!bh(r.type,r.memoizedProps)),s&&(s=In)){if(Bh(r))throw Qm(),Error(t(418));for(;s;)Gm(r,s),s=bi(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){In=bi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}In=null}}else In=Sn?bi(r.stateNode.nextSibling):null;return!0}function Qm(){for(var r=In;r;)r=bi(r.nextSibling)}function Do(){In=Sn=null,st=!1}function $h(r){Qn===null?Qn=[r]:Qn.push(r)}var mT=le.ReactCurrentBatchConfig;function Jn(r,s){if(r&&r.defaultProps){s=N({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}var vu=Oi(null),_u=null,Po=null,Wh=null;function Hh(){Wh=Po=_u=null}function qh(r){var s=vu.current;rt(vu),r._currentValue=s}function Gh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function xo(r,s){_u=r,Wh=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(an=!0),r.firstContext=null)}function Ln(r){var s=r._currentValue;if(Wh!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(_u===null)throw Error(t(308));Po=r,_u.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var xs=null;function Kh(r){xs===null?xs=[r]:xs.push(r)}function Jm(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Kh(s)):(a.next=d.next,d.next=a),s.interleaved=a,ri(r,c)}function ri(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Mi=!1;function Yh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ii(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,ri(r,a)}return d=c.interleaved,d===null?(s.next=s,Kh(c)):(s.next=d.next,d.next=s),c.interleaved=s,ri(r,a)}function wu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ea(r,a)}}function Zm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Eu(r,s,a,c){var d=r.updateQueue;Mi=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var O=R,$=O.next;O.next=null,w===null?p=$:w.next=$,w=O;var X=r.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==w&&(R===null?X.firstBaseUpdate=$:R.next=$,X.lastBaseUpdate=O))}if(p!==null){var Z=d.baseState;w=0,X=$=O=null,R=p;do{var Q=R.lane,se=R.eventTime;if((c&Q)===Q){X!==null&&(X=X.next={eventTime:se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=r,de=R;switch(Q=s,se=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){Z=he.call(se,Z,Q);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Q=typeof he=="function"?he.call(se,Z,Q):he,Q==null)break e;Z=N({},Z,Q);break e;case 2:Mi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Q=d.effects,Q===null?d.effects=[R]:Q.push(R))}else se={eventTime:se,lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?($=X=se,O=Z):X=X.next=se,w|=Q;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(X===null&&(O=Z),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=X,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Os|=w,r.lanes=w,r.memoizedState=Z}}function eg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var tg=new n.Component().refs;function Qh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:N({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Tu={isMounted:function(r){return(r=r._reactInternals)?yn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=en(),d=zi(r),p=ii(c,d);p.payload=s,a!=null&&(p.callback=a),s=Fi(r,p,d),s!==null&&(er(s,r,d,c),wu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=en(),d=zi(r),p=ii(c,d);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Fi(r,p,d),s!==null&&(er(s,r,d,c),wu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=en(),c=zi(r),d=ii(a,c);d.tag=2,s!=null&&(d.callback=s),s=Fi(r,d,c),s!==null&&(er(s,r,c,a),wu(s,r,c))}};function ng(r,s,a,c,d,p,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,w):s.prototype&&s.prototype.isPureReactComponent?!ba(a,c)||!ba(d,p):!0}function rg(r,s,a){var c=!1,d=Vi,p=s.contextType;return typeof p=="object"&&p!==null?p=Ln(p):(d=on(s)?ks:Ht.current,c=s.contextTypes,p=(c=c!=null)?Ao(r,d):Vi),s=new s(a,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),s}function ig(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Tu.enqueueReplaceState(s,s.state,null)}function Jh(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs=tg,Yh(r);var p=s.contextType;typeof p=="object"&&p!==null?d.context=Ln(p):(p=on(s)?ks:Ht.current,d.context=Ao(r,p)),d.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Qh(r,s,p,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Tu.enqueueReplaceState(d,d.state,null),Eu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Ua(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(w){var R=d.refs;R===tg&&(R=d.refs={}),w===null?delete R[p]:R[p]=w},s._stringRef=p,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Cu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function sg(r){var s=r._init;return s(r._payload)}function og(r){function s(U,L){if(r){var z=U.deletions;z===null?(U.deletions=[L],U.flags|=16):z.push(L)}}function a(U,L){if(!r)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function c(U,L){for(U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function d(U,L){return U=Wi(U,L),U.index=0,U.sibling=null,U}function p(U,L,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<L?(U.flags|=2,L):z):(U.flags|=2,L)):(U.flags|=1048576,L)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function R(U,L,z,te){return L===null||L.tag!==6?(L=Od(z,U.mode,te),L.return=U,L):(L=d(L,z),L.return=U,L)}function O(U,L,z,te){var fe=z.type;return fe===P?X(U,L,z.props.children,te,z.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===De&&sg(fe)===L.type)?(te=d(L,z.props),te.ref=Ua(U,L,z),te.return=U,te):(te=zu(z.type,z.key,z.props,null,U.mode,te),te.ref=Ua(U,L,z),te.return=U,te)}function $(U,L,z,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Vd(z,U.mode,te),L.return=U,L):(L=d(L,z.children||[]),L.return=U,L)}function X(U,L,z,te,fe){return L===null||L.tag!==7?(L=Fs(z,U.mode,te,fe),L.return=U,L):(L=d(L,z),L.return=U,L)}function Z(U,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Od(""+L,U.mode,z),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case me:return z=zu(L.type,L.key,L.props,null,U.mode,z),z.ref=Ua(U,null,L),z.return=U,z;case ee:return L=Vd(L,U.mode,z),L.return=U,L;case De:var te=L._init;return Z(U,te(L._payload),z)}if(lt(L)||ce(L))return L=Fs(L,U.mode,z,null),L.return=U,L;Cu(U,L)}return null}function Q(U,L,z,te){var fe=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return fe!==null?null:R(U,L,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case me:return z.key===fe?O(U,L,z,te):null;case ee:return z.key===fe?$(U,L,z,te):null;case De:return fe=z._init,Q(U,L,fe(z._payload),te)}if(lt(z)||ce(z))return fe!==null?null:X(U,L,z,te,null);Cu(U,z)}return null}function se(U,L,z,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,R(L,U,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case me:return U=U.get(te.key===null?z:te.key)||null,O(L,U,te,fe);case ee:return U=U.get(te.key===null?z:te.key)||null,$(L,U,te,fe);case De:var ge=te._init;return se(U,L,z,ge(te._payload),fe)}if(lt(te)||ce(te))return U=U.get(z)||null,X(L,U,te,fe,null);Cu(L,te)}return null}function he(U,L,z,te){for(var fe=null,ge=null,ye=L,Ee=L=0,Nt=null;ye!==null&&Ee<z.length;Ee++){ye.index>Ee?(Nt=ye,ye=null):Nt=ye.sibling;var ze=Q(U,ye,z[Ee],te);if(ze===null){ye===null&&(ye=Nt);break}r&&ye&&ze.alternate===null&&s(U,ye),L=p(ze,L,Ee),ge===null?fe=ze:ge.sibling=ze,ge=ze,ye=Nt}if(Ee===z.length)return a(U,ye),st&&Ps(U,Ee),fe;if(ye===null){for(;Ee<z.length;Ee++)ye=Z(U,z[Ee],te),ye!==null&&(L=p(ye,L,Ee),ge===null?fe=ye:ge.sibling=ye,ge=ye);return st&&Ps(U,Ee),fe}for(ye=c(U,ye);Ee<z.length;Ee++)Nt=se(ye,U,Ee,z[Ee],te),Nt!==null&&(r&&Nt.alternate!==null&&ye.delete(Nt.key===null?Ee:Nt.key),L=p(Nt,L,Ee),ge===null?fe=Nt:ge.sibling=Nt,ge=Nt);return r&&ye.forEach(function(Hi){return s(U,Hi)}),st&&Ps(U,Ee),fe}function de(U,L,z,te){var fe=ce(z);if(typeof fe!="function")throw Error(t(150));if(z=fe.call(z),z==null)throw Error(t(151));for(var ge=fe=null,ye=L,Ee=L=0,Nt=null,ze=z.next();ye!==null&&!ze.done;Ee++,ze=z.next()){ye.index>Ee?(Nt=ye,ye=null):Nt=ye.sibling;var Hi=Q(U,ye,ze.value,te);if(Hi===null){ye===null&&(ye=Nt);break}r&&ye&&Hi.alternate===null&&s(U,ye),L=p(Hi,L,Ee),ge===null?fe=Hi:ge.sibling=Hi,ge=Hi,ye=Nt}if(ze.done)return a(U,ye),st&&Ps(U,Ee),fe;if(ye===null){for(;!ze.done;Ee++,ze=z.next())ze=Z(U,ze.value,te),ze!==null&&(L=p(ze,L,Ee),ge===null?fe=ze:ge.sibling=ze,ge=ze);return st&&Ps(U,Ee),fe}for(ye=c(U,ye);!ze.done;Ee++,ze=z.next())ze=se(ye,U,Ee,ze.value,te),ze!==null&&(r&&ze.alternate!==null&&ye.delete(ze.key===null?Ee:ze.key),L=p(ze,L,Ee),ge===null?fe=ze:ge.sibling=ze,ge=ze);return r&&ye.forEach(function(KT){return s(U,KT)}),st&&Ps(U,Ee),fe}function yt(U,L,z,te){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case me:e:{for(var fe=z.key,ge=L;ge!==null;){if(ge.key===fe){if(fe=z.type,fe===P){if(ge.tag===7){a(U,ge.sibling),L=d(ge,z.props.children),L.return=U,U=L;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===De&&sg(fe)===ge.type){a(U,ge.sibling),L=d(ge,z.props),L.ref=Ua(U,ge,z),L.return=U,U=L;break e}a(U,ge);break}else s(U,ge);ge=ge.sibling}z.type===P?(L=Fs(z.props.children,U.mode,te,z.key),L.return=U,U=L):(te=zu(z.type,z.key,z.props,null,U.mode,te),te.ref=Ua(U,L,z),te.return=U,U=te)}return w(U);case ee:e:{for(ge=z.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(U,L.sibling),L=d(L,z.children||[]),L.return=U,U=L;break e}else{a(U,L);break}else s(U,L);L=L.sibling}L=Vd(z,U.mode,te),L.return=U,U=L}return w(U);case De:return ge=z._init,yt(U,L,ge(z._payload),te)}if(lt(z))return he(U,L,z,te);if(ce(z))return de(U,L,z,te);Cu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(U,L.sibling),L=d(L,z),L.return=U,U=L):(a(U,L),L=Od(z,U.mode,te),L.return=U,U=L),w(U)):a(U,L)}return yt}var No=og(!0),ag=og(!1),Ba={},Rr=Oi(Ba),za=Oi(Ba),$a=Oi(Ba);function Ns(r){if(r===Ba)throw Error(t(174));return r}function Xh(r,s){switch(Xe($a,s),Xe(za,r),Xe(Rr,Ba),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wi(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wi(s,r)}rt(Rr),Xe(Rr,s)}function bo(){rt(Rr),rt(za),rt($a)}function lg(r){Ns($a.current);var s=Ns(Rr.current),a=wi(s,r.type);s!==a&&(Xe(za,r),Xe(Rr,a))}function Zh(r){za.current===r&&(rt(Rr),rt(za))}var ct=Oi(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ed=[];function td(){for(var r=0;r<ed.length;r++)ed[r]._workInProgressVersionPrimary=null;ed.length=0}var Iu=le.ReactCurrentDispatcher,nd=le.ReactCurrentBatchConfig,bs=0,ht=null,At=null,Pt=null,Au=!1,Wa=!1,Ha=0,gT=0;function qt(){throw Error(t(321))}function rd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Yn(r[a],s[a]))return!1;return!0}function id(r,s,a,c,d,p){if(bs=p,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?wT:ET,r=a(c,d),Wa){p=0;do{if(Wa=!1,Ha=0,25<=p)throw Error(t(301));p+=1,Pt=At=null,s.updateQueue=null,Iu.current=TT,r=a(c,d)}while(Wa)}if(Iu.current=Du,s=At!==null&&At.next!==null,bs=0,Pt=At=ht=null,Au=!1,s)throw Error(t(300));return r}function sd(){var r=Ha!==0;return Ha=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ht.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Mn(){if(At===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=Pt===null?ht.memoizedState:Pt.next;if(s!==null)Pt=s,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Pt===null?ht.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function qa(r,s){return typeof s=="function"?s(r):s}function od(r){var s=Mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=At,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var R=w=null,O=null,$=p;do{var X=$.lane;if((bs&X)===X)O!==null&&(O=O.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:r(c,$.action);else{var Z={lane:X,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};O===null?(R=O=Z,w=c):O=O.next=Z,ht.lanes|=X,Os|=X}$=$.next}while($!==null&&$!==p);O===null?w=c:O.next=R,Yn(c,s.memoizedState)||(an=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=O,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do p=d.lane,ht.lanes|=p,Os|=p,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ad(r){var s=Mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do p=r(p,w.action),w=w.next;while(w!==d);Yn(p,s.memoizedState)||(an=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function ug(){}function cg(r,s){var a=ht,c=Mn(),d=s(),p=!Yn(c.memoizedState,d);if(p&&(c.memoizedState=d,an=!0),c=c.queue,ld(fg.bind(null,a,c,r),[r]),c.getSnapshot!==s||p||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,Ga(9,dg.bind(null,a,c,d,s),void 0,null),xt===null)throw Error(t(349));(bs&30)!==0||hg(a,s,d)}return d}function hg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function dg(r,s,a,c){s.value=a,s.getSnapshot=c,pg(s)&&mg(r)}function fg(r,s,a){return a(function(){pg(s)&&mg(r)})}function pg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Yn(r,a)}catch{return!0}}function mg(r){var s=ri(r,1);s!==null&&er(s,r,1,-1)}function gg(r){var s=kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},s.queue=r,r=r.dispatch=_T.bind(null,ht,r),[s.memoizedState,r]}function Ga(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function yg(){return Mn().memoizedState}function Ru(r,s,a,c){var d=kr();ht.flags|=r,d.memoizedState=Ga(1|s,a,void 0,c===void 0?null:c)}function ku(r,s,a,c){var d=Mn();c=c===void 0?null:c;var p=void 0;if(At!==null){var w=At.memoizedState;if(p=w.destroy,c!==null&&rd(c,w.deps)){d.memoizedState=Ga(s,a,p,c);return}}ht.flags|=r,d.memoizedState=Ga(1|s,a,p,c)}function vg(r,s){return Ru(8390656,8,r,s)}function ld(r,s){return ku(2048,8,r,s)}function _g(r,s){return ku(4,2,r,s)}function wg(r,s){return ku(4,4,r,s)}function Eg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Tg(r,s,a){return a=a!=null?a.concat([r]):null,ku(4,4,Eg.bind(null,s,r),a)}function ud(){}function Cg(r,s){var a=Mn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&rd(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Sg(r,s){var a=Mn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&rd(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Ig(r,s,a){return(bs&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a):(Yn(a,s)||(a=_a(),ht.lanes|=a,Os|=a,r.baseState=!0),s)}function yT(r,s){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var c=nd.transition;nd.transition={};try{r(!1),s()}finally{Me=a,nd.transition=c}}function Ag(){return Mn().memoizedState}function vT(r,s,a){var c=zi(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Rg(r))kg(s,a);else if(a=Jm(r,s,a,c),a!==null){var d=en();er(a,r,c,d),Dg(a,s,c)}}function _T(r,s,a){var c=zi(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rg(r))kg(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var w=s.lastRenderedState,R=p(w,a);if(d.hasEagerState=!0,d.eagerState=R,Yn(R,w)){var O=s.interleaved;O===null?(d.next=d,Kh(s)):(d.next=O.next,O.next=d),s.interleaved=d;return}}catch{}a=Jm(r,s,d,c),a!==null&&(d=en(),er(a,r,c,d),Dg(a,s,c))}}function Rg(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function kg(r,s){Wa=Au=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Dg(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ea(r,a)}}var Du={readContext:Ln,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},wT={readContext:Ln,useCallback:function(r,s){return kr().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:vg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ru(4194308,4,Eg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ru(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ru(4,2,r,s)},useMemo:function(r,s){var a=kr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=kr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=vT.bind(null,ht,r),[c.memoizedState,r]},useRef:function(r){var s=kr();return r={current:r},s.memoizedState=r},useState:gg,useDebugValue:ud,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=gg(!1),s=r[0];return r=yT.bind(null,r[1]),kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=ht,d=kr();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),xt===null)throw Error(t(349));(bs&30)!==0||hg(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,vg(fg.bind(null,c,p,r),[r]),c.flags|=2048,Ga(9,dg.bind(null,c,p,a,s),void 0,null),a},useId:function(){var r=kr(),s=xt.identifierPrefix;if(st){var a=ni,c=ti;a=(c&~(1<<32-_n(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ha++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=gT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ET={readContext:Ln,useCallback:Cg,useContext:Ln,useEffect:ld,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Sg,useReducer:od,useRef:yg,useState:function(){return od(qa)},useDebugValue:ud,useDeferredValue:function(r){var s=Mn();return Ig(s,At.memoizedState,r)},useTransition:function(){var r=od(qa)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Ag,unstable_isNewReconciler:!1},TT={readContext:Ln,useCallback:Cg,useContext:Ln,useEffect:ld,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Sg,useReducer:ad,useRef:yg,useState:function(){return ad(qa)},useDebugValue:ud,useDeferredValue:function(r){var s=Mn();return At===null?s.memoizedState=r:Ig(s,At.memoizedState,r)},useTransition:function(){var r=ad(qa)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Ag,unstable_isNewReconciler:!1};function Oo(r,s){try{var a="",c=s;do a+=je(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:d,digest:null}}function cd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function hd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function Pg(r,s,a){a=ii(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Lu||(Lu=!0,Ad=c),hd(r,s)},a}function xg(r,s,a){a=ii(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){hd(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){hd(r,s),typeof c!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Ng(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new CT;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=MT.bind(null,r,s,a),s.then(r,r))}function bg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Og(r,s,a,c,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ii(-1,1),s.tag=2,Fi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var ST=le.ReactCurrentOwner,an=!1;function Zt(r,s,a,c){s.child=r===null?ag(s,null,a,c):No(s,r.child,a,c)}function Vg(r,s,a,c,d){a=a.render;var p=s.ref;return xo(s,d),c=id(r,s,a,c,p,d),a=sd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,si(r,s,d)):(st&&a&&jh(s),s.flags|=1,Zt(r,s,c,d),s.child)}function Lg(r,s,a,c,d){if(r===null){var p=a.type;return typeof p=="function"&&!bd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,Mg(r,s,p,c,d)):(r=zu(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,(r.lanes&d)===0){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:ba,a(w,c)&&r.ref===s.ref)return si(r,s,d)}return s.flags|=1,r=Wi(p,c),r.ref=s.ref,r.return=s,s.child=r}function Mg(r,s,a,c,d){if(r!==null){var p=r.memoizedProps;if(ba(p,c)&&r.ref===s.ref)if(an=!1,s.pendingProps=c=p,(r.lanes&d)!==0)(r.flags&131072)!==0&&(an=!0);else return s.lanes=r.lanes,si(r,s,d)}return dd(r,s,a,c,d)}function Fg(r,s,a){var c=s.pendingProps,d=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Lo,An),An|=a;else{if((a&1073741824)===0)return r=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(Lo,An),An|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Xe(Lo,An),An|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,Xe(Lo,An),An|=c;return Zt(r,s,d,a),s.child}function jg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dd(r,s,a,c,d){var p=on(a)?ks:Ht.current;return p=Ao(s,p),xo(s,d),a=id(r,s,a,c,p,d),c=sd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,si(r,s,d)):(st&&c&&jh(s),s.flags|=1,Zt(r,s,a,d),s.child)}function Ug(r,s,a,c,d){if(on(a)){var p=!0;fu(s)}else p=!1;if(xo(s,d),s.stateNode===null)xu(r,s),rg(s,a,c),Jh(s,a,c,d),c=!0;else if(r===null){var w=s.stateNode,R=s.memoizedProps;w.props=R;var O=w.context,$=a.contextType;typeof $=="object"&&$!==null?$=Ln($):($=on(a)?ks:Ht.current,$=Ao(s,$));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==c||O!==$)&&ig(s,w,c,$),Mi=!1;var Q=s.memoizedState;w.state=Q,Eu(s,c,w,d),O=s.memoizedState,R!==c||Q!==O||sn.current||Mi?(typeof X=="function"&&(Qh(s,a,X,c),O=s.memoizedState),(R=Mi||ng(s,a,R,c,Q,O,$))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=O),w.props=c,w.state=O,w.context=$,c=R):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Xm(r,s),R=s.memoizedProps,$=s.type===s.elementType?R:Jn(s.type,R),w.props=$,Z=s.pendingProps,Q=w.context,O=a.contextType,typeof O=="object"&&O!==null?O=Ln(O):(O=on(a)?ks:Ht.current,O=Ao(s,O));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==Z||Q!==O)&&ig(s,w,c,O),Mi=!1,Q=s.memoizedState,w.state=Q,Eu(s,c,w,d);var he=s.memoizedState;R!==Z||Q!==he||sn.current||Mi?(typeof se=="function"&&(Qh(s,a,se,c),he=s.memoizedState),($=Mi||ng(s,a,$,c,Q,he,O)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,he,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,he,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),w.props=c,w.state=he,w.context=O,c=$):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return fd(r,s,a,c,p,d)}function fd(r,s,a,c,d,p){jg(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&Wm(s,a,!1),si(r,s,p);c=s.stateNode,ST.current=s;var R=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=No(s,r.child,null,p),s.child=No(s,null,R,p)):Zt(r,s,R,p),s.memoizedState=c.state,d&&Wm(s,a,!0),s.child}function Bg(r){var s=r.stateNode;s.pendingContext?zm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&zm(r,s.context,!1),Xh(r,s.containerInfo)}function zg(r,s,a,c,d){return Do(),$h(d),s.flags|=256,Zt(r,s,a,c),s.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,a){var c=s.pendingProps,d=ct.current,p=!1,w=(s.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Xe(ct,d&1),r===null)return zh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,r=c.fallback,p?(c=s.mode,p=s.child,w={mode:"hidden",children:w},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=$u(w,c,0,null),r=Fs(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=md(a),s.memoizedState=pd,r):gd(s,w));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return IT(r,s,w,c,R,d,a);if(p){p=c.fallback,w=s.mode,d=r.child,R=d.sibling;var O={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=O,s.deletions=null):(c=Wi(d,O),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?p=Wi(R,p):(p=Fs(p,w,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,w=r.child.memoizedState,w=w===null?md(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=r.childLanes&~a,s.memoizedState=pd,c}return p=r.child,r=p.sibling,c=Wi(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function gd(r,s){return s=$u({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Pu(r,s,a,c){return c!==null&&$h(c),No(s,r.child,null,a),r=gd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function IT(r,s,a,c,d,p,w){if(a)return s.flags&256?(s.flags&=-257,c=cd(Error(t(422))),Pu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,d=s.mode,c=$u({mode:"visible",children:c.children},d,0,null),p=Fs(p,d,w,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&No(s,r.child,null,w),s.child.memoizedState=md(w),s.memoizedState=pd,p);if((s.mode&1)===0)return Pu(r,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,p=Error(t(419)),c=cd(p,c,void 0),Pu(r,s,w,c)}if(R=(w&r.childLanes)!==0,an||R){if(c=xt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,ri(r,d),er(c,r,d,-1))}return Nd(),c=cd(Error(t(421))),Pu(r,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=FT.bind(null,r),d._reactRetry=s,null):(r=p.treeContext,In=bi(d.nextSibling),Sn=s,st=!0,Qn=null,r!==null&&(On[Vn++]=ti,On[Vn++]=ni,On[Vn++]=Ds,ti=r.id,ni=r.overflow,Ds=s),s=gd(s,c.children),s.flags|=4096,s)}function Wg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Gh(r.return,s,a)}function yd(r,s,a,c,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Hg(r,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;if(Zt(r,s,c.children,a),c=ct.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wg(r,a,s);else if(r.tag===19)Wg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Xe(ct,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Su(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),yd(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Su(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}yd(s,!0,a,null,p);break;case"together":yd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function si(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Wi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Wi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function AT(r,s,a){switch(s.tag){case 3:Bg(s),Do();break;case 5:lg(s);break;case 1:on(s.type)&&fu(s);break;case 4:Xh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Xe(vu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Xe(ct,ct.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?$g(r,s,a):(Xe(ct,ct.current&1),r=si(r,s,a),r!==null?r.sibling:null);Xe(ct,ct.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Hg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Xe(ct,ct.current),c)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,a)}return si(r,s,a)}var qg,vd,Gg,Kg;qg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vd=function(){},Gg=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,Ns(Rr.current);var p=null;switch(a){case"input":d=Je(r,d),c=Je(r,c),p=[];break;case"select":d=N({},d,{value:void 0}),c=N({},c,{value:void 0}),p=[];break;case"textarea":d=ds(r,d),c=ds(r,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=cu)}tn(a,c);var w;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var R=d[$];for(w in R)R.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in c){var O=c[$];if(R=d?.[$],c.hasOwnProperty($)&&O!==R&&(O!=null||R!=null))if($==="style")if(R){for(w in R)!R.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in O)O.hasOwnProperty(w)&&R[w]!==O[w]&&(a||(a={}),a[w]=O[w])}else a||(p||(p=[]),p.push($,a)),a=O;else $==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(p=p||[]).push($,O)):$==="children"?typeof O!="string"&&typeof O!="number"||(p=p||[]).push($,""+O):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(O!=null&&$==="onScroll"&&nt("scroll",r),p||R===O||(p=[])):(p=p||[]).push($,O))}a&&(p=p||[]).push("style",a);var $=p;(s.updateQueue=$)&&(s.flags|=4)}},Kg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ka(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function RT(r,s,a){var c=s.pendingProps;switch(Uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return on(s.type)&&du(),Gt(s),null;case 3:return c=s.stateNode,bo(),rt(sn),rt(Ht),td(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(yu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qn!==null&&(Dd(Qn),Qn=null))),vd(r,s),Gt(s),null;case 5:Zh(s);var d=Ns($a.current);if(a=s.type,r!==null&&s.stateNode!=null)Gg(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Gt(s),null}if(r=Ns(Rr.current),yu(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[Ar]=s,c[Fa]=p,r=(s.mode&1)!==0,a){case"dialog":nt("cancel",c),nt("close",c);break;case"iframe":case"object":case"embed":nt("load",c);break;case"video":case"audio":for(d=0;d<Va.length;d++)nt(Va[d],c);break;case"source":nt("error",c);break;case"img":case"image":case"link":nt("error",c),nt("load",c);break;case"details":nt("toggle",c);break;case"input":lr(c,p),nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},nt("invalid",c);break;case"textarea":_i(c,p),nt("invalid",c)}tn(a,p),d=null;for(var w in p)if(p.hasOwnProperty(w)){var R=p[w];w==="children"?typeof R=="string"?c.textContent!==R&&(p.suppressHydrationWarning!==!0&&uu(c.textContent,R,r),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(p.suppressHydrationWarning!==!0&&uu(c.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&nt("scroll",c)}switch(a){case"input":or(c),vi(c,p,!0);break;case"textarea":or(c),ur(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=cu)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fs(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[Ar]=s,r[Fa]=c,qg(r,s,!1,!1),s.stateNode=r;e:{switch(w=zr(a,c),a){case"dialog":nt("cancel",r),nt("close",r),d=c;break;case"iframe":case"object":case"embed":nt("load",r),d=c;break;case"video":case"audio":for(d=0;d<Va.length;d++)nt(Va[d],r);d=c;break;case"source":nt("error",r),d=c;break;case"img":case"image":case"link":nt("error",r),nt("load",r),d=c;break;case"details":nt("toggle",r),d=c;break;case"input":lr(r,c),d=Je(r,c),nt("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=N({},c,{value:void 0}),nt("invalid",r);break;case"textarea":_i(r,c),d=ds(r,c),nt("invalid",r);break;default:d=c}tn(a,d),R=d;for(p in R)if(R.hasOwnProperty(p)){var O=R[p];p==="style"?Br(r,O):p==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ei(r,O)):p==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&hr(r,O):typeof O=="number"&&hr(r,""+O):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?O!=null&&p==="onScroll"&&nt("scroll",r):O!=null&&ne(r,p,O,w))}switch(a){case"input":or(r),vi(r,c,!1);break;case"textarea":or(r),ur(r);break;case"option":c.value!=null&&r.setAttribute("value",""+xe(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?fn(r,!!c.multiple,p,!1):c.defaultValue!=null&&fn(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=cu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(r&&s.stateNode!=null)Kg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ns($a.current),Ns(Rr.current),yu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Ar]=s,(p=c.nodeValue!==a)&&(r=Sn,r!==null))switch(r.tag){case 3:uu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(c.nodeValue,a,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Ar]=s,s.stateNode=c}return Gt(s),null;case 13:if(rt(ct),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&In!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Qm(),Do(),s.flags|=98560,p=!1;else if(p=yu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Ar]=s}else Do(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),p=!1}else Qn!==null&&(Dd(Qn),Qn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ct.current&1)!==0?Rt===0&&(Rt=3):Nd())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return bo(),vd(r,s),r===null&&La(s.stateNode.containerInfo),Gt(s),null;case 10:return qh(s.type._context),Gt(s),null;case 17:return on(s.type)&&du(),Gt(s),null;case 19:if(rt(ct),p=s.memoizedState,p===null)return Gt(s),null;if(c=(s.flags&128)!==0,w=p.rendering,w===null)if(c)Ka(p,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Su(r),w!==null){for(s.flags|=128,Ka(p,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,r=c,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,r=w.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Xe(ct,ct.current&1|2),s.child}r=r.sibling}p.tail!==null&&tt()>Mo&&(s.flags|=128,c=!0,Ka(p,!1),s.lanes=4194304)}else{if(!c)if(r=Su(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ka(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!st)return Gt(s),null}else 2*tt()-p.renderingStartTime>Mo&&a!==1073741824&&(s.flags|=128,c=!0,Ka(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(a=p.last,a!==null?a.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=tt(),s.sibling=null,a=ct.current,Xe(ct,c?a&1|2:a&1),s):(Gt(s),null);case 22:case 23:return xd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(An&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function kT(r,s){switch(Uh(s),s.tag){case 1:return on(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bo(),rt(sn),rt(Ht),td(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Zh(s),null;case 13:if(rt(ct),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Do()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(ct),null;case 4:return bo(),null;case 10:return qh(s.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var Nu=!1,Kt=!1,DT=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Vo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){mt(r,s,c)}else a.current=null}function _d(r,s,a){try{a()}catch(c){mt(r,s,c)}}var Yg=!1;function PT(r,s){if(xh=Qr,r=Am(),Ch(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,R=-1,O=-1,$=0,X=0,Z=r,Q=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(R=w+d),Z!==p||c!==0&&Z.nodeType!==3||(O=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Q=Z,Z=se;for(;;){if(Z===r)break t;if(Q===a&&++$===d&&(R=w),Q===p&&++X===c&&(O=w),(se=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=se}a=R===-1||O===-1?null:{start:R,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nh={focusedElem:r,selectionRange:a},Qr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,yt=he.memoizedState,U=s.stateNode,L=U.getSnapshotBeforeUpdate(s.elementType===s.type?de:Jn(s.type,de),yt);U.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){mt(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return he=Yg,Yg=!1,he}function Ya(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&_d(s,a,p)}d=d.next}while(d!==c)}}function bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function wd(r){var s=r.ref;if(s!==null){var a=r.stateNode;r.tag,r=a,typeof s=="function"?s(r):s.current=r}}function Qg(r){var s=r.alternate;s!==null&&(r.alternate=null,Qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ar],delete s[Fa],delete s[Lh],delete s[dT],delete s[fT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Jg(r){return r.tag===5||r.tag===3||r.tag===4}function Xg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ed(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=cu));else if(c!==4&&(r=r.child,r!==null))for(Ed(r,s,a),r=r.sibling;r!==null;)Ed(r,s,a),r=r.sibling}function Td(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Td(r,s,a),r=r.sibling;r!==null;)Td(r,s,a),r=r.sibling}var Mt=null,Xn=!1;function ji(r,s,a){for(a=a.child;a!==null;)Zg(r,s,a),a=a.sibling}function Zg(r,s,a){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(vs,a)}catch{}switch(a.tag){case 5:Kt||Vo(a,s);case 6:var c=Mt,d=Xn;Mt=null,ji(r,s,a),Mt=c,Xn=d,Mt!==null&&(Xn?(r=Mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Mt.removeChild(a.stateNode));break;case 18:Mt!==null&&(Xn?(r=Mt,a=a.stateNode,r.nodeType===8?Vh(r.parentNode,a):r.nodeType===1&&Vh(r,a),Di(r)):Vh(Mt,a.stateNode));break;case 4:c=Mt,d=Xn,Mt=a.stateNode.containerInfo,Xn=!0,ji(r,s,a),Mt=c,Xn=d;break;case 0:case 11:case 14:case 15:if(!Kt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&_d(a,s,w),d=d.next}while(d!==c)}ji(r,s,a);break;case 1:if(!Kt&&(Vo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){mt(a,s,R)}ji(r,s,a);break;case 21:ji(r,s,a);break;case 22:a.mode&1?(Kt=(c=Kt)||a.memoizedState!==null,ji(r,s,a),Kt=c):ji(r,s,a);break;default:ji(r,s,a)}}function ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new DT),s.forEach(function(c){var d=jT.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Zn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=r,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 5:Mt=R.stateNode,Xn=!1;break e;case 3:Mt=R.stateNode.containerInfo,Xn=!0;break e;case 4:Mt=R.stateNode.containerInfo,Xn=!0;break e}R=R.return}if(Mt===null)throw Error(t(160));Zg(p,w,d),Mt=null,Xn=!1;var O=d.alternate;O!==null&&(O.return=null),d.return=null}catch($){mt(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ty(s,r),s=s.sibling}function ty(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zn(s,r),Dr(r),c&4){try{Ya(3,r,r.return),bu(3,r)}catch(de){mt(r,r.return,de)}try{Ya(5,r,r.return)}catch(de){mt(r,r.return,de)}}break;case 1:Zn(s,r),Dr(r),c&512&&a!==null&&Vo(a,a.return);break;case 5:if(Zn(s,r),Dr(r),c&512&&a!==null&&Vo(a,a.return),r.flags&32){var d=r.stateNode;try{hr(d,"")}catch(de){mt(r,r.return,de)}}if(c&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,w=a!==null?a.memoizedProps:p,R=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{R==="input"&&p.type==="radio"&&p.name!=null&&St(d,p),zr(R,w);var $=zr(R,p);for(w=0;w<O.length;w+=2){var X=O[w],Z=O[w+1];X==="style"?Br(d,Z):X==="dangerouslySetInnerHTML"?Ei(d,Z):X==="children"?hr(d,Z):ne(d,X,Z,$)}switch(R){case"input":kn(d,p);break;case"textarea":ro(d,p);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?fn(d,!!p.multiple,se,!1):Q!==!!p.multiple&&(p.defaultValue!=null?fn(d,!!p.multiple,p.defaultValue,!0):fn(d,!!p.multiple,p.multiple?[]:"",!1))}d[Fa]=p}catch(de){mt(r,r.return,de)}}break;case 6:if(Zn(s,r),Dr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(de){mt(r,r.return,de)}}break;case 3:if(Zn(s,r),Dr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(s.containerInfo)}catch(de){mt(r,r.return,de)}break;case 4:Zn(s,r),Dr(r);break;case 13:Zn(s,r),Dr(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Id=tt())),c&4&&ey(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(Kt=($=Kt)||X,Zn(s,r),Kt=$):Zn(s,r),Dr(r),c&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!X&&(r.mode&1)!==0)for(ue=r,X=r.child;X!==null;){for(Z=ue=X;ue!==null;){switch(Q=ue,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ya(4,Q,Q.return);break;case 1:Vo(Q,Q.return);var he=Q.stateNode;if(typeof he.componentWillUnmount=="function"){c=Q,a=Q.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){mt(c,a,de)}}break;case 5:Vo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){iy(Z);continue}}se!==null?(se.return=Q,ue=se):iy(Z)}X=X.sibling}e:for(X=null,Z=r;;){if(Z.tag===5){if(X===null){X=Z;try{d=Z.stateNode,$?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(R=Z.stateNode,O=Z.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=pn("display",w))}catch(de){mt(r,r.return,de)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(de){mt(r,r.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Zn(s,r),Dr(r),c&4&&ey(r);break;case 21:break;default:Zn(s,r),Dr(r)}}function Dr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Jg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(hr(d,""),c.flags&=-33);var p=Xg(r);Td(r,p,d);break;case 3:case 4:var w=c.stateNode.containerInfo,R=Xg(r);Ed(r,R,w);break;default:throw Error(t(161))}}catch(O){mt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function xT(r,s,a){ue=r,ny(r)}function ny(r,s,a){for(var c=(r.mode&1)!==0;ue!==null;){var d=ue,p=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Nu;if(!w){var R=d.alternate,O=R!==null&&R.memoizedState!==null||Kt;R=Nu;var $=Kt;if(Nu=w,(Kt=O)&&!$)for(ue=d;ue!==null;)w=ue,O=w.child,w.tag===22&&w.memoizedState!==null?sy(d):O!==null?(O.return=w,ue=O):sy(d);for(;p!==null;)ue=p,ny(p),p=p.sibling;ue=d,Nu=R,Kt=$}ry(r)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ue=p):ry(r)}}function ry(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||bu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Kt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Jn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&eg(s,p,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}eg(s,w,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var X=$.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Di(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||s.flags&512&&wd(s)}catch(Q){mt(s,s.return,Q)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function iy(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function sy(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bu(4,s)}catch(O){mt(s,a,O)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(O){mt(s,d,O)}}var p=s.return;try{wd(s)}catch(O){mt(s,p,O)}break;case 5:var w=s.return;try{wd(s)}catch(O){mt(s,w,O)}}}catch(O){mt(s,s.return,O)}if(s===r){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var NT=Math.ceil,Ou=le.ReactCurrentDispatcher,Cd=le.ReactCurrentOwner,Fn=le.ReactCurrentBatchConfig,Be=0,xt=null,Et=null,Ft=0,An=0,Lo=Oi(0),Rt=0,Qa=null,Os=0,Vu=0,Sd=0,Ja=null,ln=null,Id=0,Mo=1/0,oi=null,Lu=!1,Ad=null,Ui=null,Mu=!1,Bi=null,Fu=0,Xa=0,Rd=null,ju=-1,Uu=0;function en(){return(Be&6)!==0?tt():ju!==-1?ju:ju=tt()}function zi(r){return(r.mode&1)===0?1:(Be&2)!==0&&Ft!==0?Ft&-Ft:mT.transition!==null?(Uu===0&&(Uu=_a()),Uu):(r=Me,r!==0||(r=window.event,r=r===void 0?16:ho(r.type)),r)}function er(r,s,a,c){if(50<Xa)throw Xa=0,Rd=null,Error(t(185));Ts(r,a,c),((Be&2)===0||r!==xt)&&(r===xt&&((Be&2)===0&&(Vu|=a),Rt===4&&$i(r,Ft)),un(r,c),a===1&&Be===0&&(s.mode&1)===0&&(Mo=tt()+500,pu&&Li()))}function un(r,s){var a=r.callbackNode;Es(r,s);var c=Gr(r,r===xt?Ft:0);if(c===0)a!==null&&Ii(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Ii(a),s===1)r.tag===0?pT(ay.bind(null,r)):Hm(ay.bind(null,r)),cT(function(){(Be&6)===0&&Li()}),a=null;else{switch(gr(c)){case 1:a=so;break;case 4:a=ga;break;case 16:a=ys;break;case 536870912:a=oo;break;default:a=ys}a=my(a,oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function oy(r,s){if(ju=-1,Uu=0,(Be&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Fo()&&r.callbackNode!==a)return null;var c=Gr(r,r===xt?Ft:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Bu(r,c);else{s=c;var d=Be;Be|=2;var p=uy();(xt!==r||Ft!==s)&&(oi=null,Mo=tt()+500,Ls(r,s));do try{VT();break}catch(R){ly(r,R)}while(!0);Hh(),Ou.current=p,Be=d,Et!==null?s=0:(xt=null,Ft=0,s=Rt)}if(s!==0){if(s===2&&(d=va(r),d!==0&&(c=d,s=kd(r,d))),s===1)throw a=Qa,Ls(r,0),$i(r,c),un(r,tt()),a;if(s===6)$i(r,c);else{if(d=r.current.alternate,(c&30)===0&&!bT(d)&&(s=Bu(r,c),s===2&&(p=va(r),p!==0&&(c=p,s=kd(r,p))),s===1))throw a=Qa,Ls(r,0),$i(r,c),un(r,tt()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ms(r,ln,oi);break;case 3:if($i(r,c),(c&130023424)===c&&(s=Id+500-tt(),10<s)){if(Gr(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){en(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Oh(Ms.bind(null,r,ln,oi),s);break}Ms(r,ln,oi);break;case 4:if($i(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var w=31-_n(c);p=1<<w,w=s[w],w>d&&(d=w),c&=~p}if(c=d,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*NT(c/1960))-c,10<c){r.timeoutHandle=Oh(Ms.bind(null,r,ln,oi),c);break}Ms(r,ln,oi);break;case 5:Ms(r,ln,oi);break;default:throw Error(t(329))}}}return un(r,tt()),r.callbackNode===a?oy.bind(null,r):null}function kd(r,s){var a=Ja;return r.current.memoizedState.isDehydrated&&(Ls(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=ln,ln=a,s!==null&&Dd(s)),r}function Dd(r){ln===null?ln=r:ln.push.apply(ln,r)}function bT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Yn(p(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $i(r,s){for(s&=~Sd,s&=~Vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-_n(s),c=1<<a;r[a]=-1,s&=~c}}function ay(r){if((Be&6)!==0)throw Error(t(327));Fo();var s=Gr(r,0);if((s&1)===0)return un(r,tt()),null;var a=Bu(r,s);if(r.tag!==0&&a===2){var c=va(r);c!==0&&(s=c,a=kd(r,c))}if(a===1)throw a=Qa,Ls(r,0),$i(r,s),un(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ms(r,ln,oi),un(r,tt()),null}function Pd(r,s){var a=Be;Be|=1;try{return r(s)}finally{Be=a,Be===0&&(Mo=tt()+500,pu&&Li())}}function Vs(r){Bi!==null&&Bi.tag===0&&(Be&6)===0&&Fo();var s=Be;Be|=1;var a=Fn.transition,c=Me;try{if(Fn.transition=null,Me=1,r)return r()}finally{Me=c,Fn.transition=a,Be=s,(Be&6)===0&&Li()}}function xd(){An=Lo.current,rt(Lo)}function Ls(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,uT(a)),Et!==null)for(a=Et.return;a!==null;){var c=a;switch(Uh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&du();break;case 3:bo(),rt(sn),rt(Ht),td();break;case 5:Zh(c);break;case 4:bo();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:qh(c.type._context);break;case 22:case 23:xd()}a=a.return}if(xt=r,Et=r=Wi(r.current,null),Ft=An=s,Rt=0,Qa=null,Sd=Vu=Os=0,ln=Ja=null,xs!==null){for(s=0;s<xs.length;s++)if(a=xs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var w=p.next;p.next=d,c.next=w}a.pending=c}xs=null}return r}function ly(r,s){do{var a=Et;try{if(Hh(),Iu.current=Du,Au){for(var c=ht.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Au=!1}if(bs=0,Pt=At=ht=null,Wa=!1,Ha=0,Cd.current=null,a===null||a.return===null){Rt=1,Qa=s,Et=null;break}e:{var p=r,w=a.return,R=a,O=s;if(s=Ft,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=O,X=R,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=bg(w);if(se!==null){se.flags&=-257,Og(se,w,R,p,s),se.mode&1&&Ng(p,$,s),s=se,O=$;var he=s.updateQueue;if(he===null){var de=new Set;de.add(O),s.updateQueue=de}else he.add(O);break e}else{if((s&1)===0){Ng(p,$,s),Nd();break e}O=Error(t(426))}}else if(st&&R.mode&1){var yt=bg(w);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Og(yt,w,R,p,s),$h(Oo(O,R));break e}}p=O=Oo(O,R),Rt!==4&&(Rt=2),Ja===null?Ja=[p]:Ja.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var U=Pg(p,O,s);Zm(p,U);break e;case 1:R=O;var L=p.type,z=p.stateNode;if((p.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ui===null||!Ui.has(z)))){p.flags|=65536,s&=-s,p.lanes|=s;var te=xg(p,R,s);Zm(p,te);break e}}p=p.return}while(p!==null)}hy(a)}catch(fe){s=fe,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function uy(){var r=Ou.current;return Ou.current=Du,r===null?Du:r}function Nd(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),xt===null||(Os&268435455)===0&&(Vu&268435455)===0||$i(xt,Ft)}function Bu(r,s){var a=Be;Be|=2;var c=uy();(xt!==r||Ft!==s)&&(oi=null,Ls(r,s));do try{OT();break}catch(d){ly(r,d)}while(!0);if(Hh(),Be=a,Ou.current=c,Et!==null)throw Error(t(261));return xt=null,Ft=0,Rt}function OT(){for(;Et!==null;)cy(Et)}function VT(){for(;Et!==null&&!Hr();)cy(Et)}function cy(r){var s=py(r.alternate,r,An);r.memoizedProps=r.pendingProps,s===null?hy(r):Et=s,Cd.current=null}function hy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=RT(a,s,An),a!==null){Et=a;return}}else{if(a=kT(a,s),a!==null){a.flags&=32767,Et=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,Et=null;return}}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);Rt===0&&(Rt=5)}function Ms(r,s,a){var c=Me,d=Fn.transition;try{Fn.transition=null,Me=1,LT(r,s,a,c)}finally{Fn.transition=d,Me=c}return null}function LT(r,s,a,c){do Fo();while(Bi!==null);if((Be&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(vh(r,p),r===xt&&(Et=xt=null,Ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Mu||(Mu=!0,my(ys,function(){return Fo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Fn.transition,Fn.transition=null;var w=Me;Me=1;var R=Be;Be|=4,Cd.current=null,PT(r,a),ty(a,r),nT(Nh),Qr=!!xh,Nh=xh=null,r.current=a,xT(a),qr(),Be=R,Me=w,Fn.transition=p}else r.current=a;if(Mu&&(Mu=!1,Bi=r,Fu=d),p=r.pendingLanes,p===0&&(Ui=null),Kl(a.stateNode),un(r,tt()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Lu)throw Lu=!1,r=Ad,Ad=null,r;return(Fu&1)!==0&&r.tag!==0&&Fo(),p=r.pendingLanes,(p&1)!==0?r===Rd?Xa++:(Xa=0,Rd=r):Xa=0,Li(),null}function Fo(){if(Bi!==null){var r=gr(Fu),s=Fn.transition,a=Me;try{if(Fn.transition=null,Me=16>r?16:r,Bi===null)var c=!1;else{if(r=Bi,Bi=null,Fu=0,(Be&6)!==0)throw Error(t(331));var d=Be;for(Be|=4,ue=r.current;ue!==null;){var p=ue,w=p.child;if((ue.flags&16)!==0){var R=p.deletions;if(R!==null){for(var O=0;O<R.length;O++){var $=R[O];for(ue=$;ue!==null;){var X=ue;switch(X.tag){case 0:case 11:case 15:Ya(8,X,p)}var Z=X.child;if(Z!==null)Z.return=X,ue=Z;else for(;ue!==null;){X=ue;var Q=X.sibling,se=X.return;if(Qg(X),X===$){ue=null;break}if(Q!==null){Q.return=se,ue=Q;break}ue=se}}}var he=p.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var yt=de.sibling;de.sibling=null,de=yt}while(de!==null)}}ue=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ue=w;else e:for(;ue!==null;){if(p=ue,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ya(9,p,p.return)}var U=p.sibling;if(U!==null){U.return=p.return,ue=U;break e}ue=p.return}}var L=r.current;for(ue=L;ue!==null;){w=ue;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,ue=z;else e:for(w=L;ue!==null;){if(R=ue,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:bu(9,R)}}catch(fe){mt(R,R.return,fe)}if(R===w){ue=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,ue=te;break e}ue=R.return}}if(Be=d,Li(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(vs,r)}catch{}c=!0}return c}finally{Me=a,Fn.transition=s}}return!1}function dy(r,s,a){s=Oo(a,s),s=Pg(r,s,1),r=Fi(r,s,1),s=en(),r!==null&&(Ts(r,1,s),un(r,s))}function mt(r,s,a){if(r.tag===3)dy(r,r,a);else for(;s!==null;){if(s.tag===3){dy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ui===null||!Ui.has(c))){r=Oo(a,r),r=xg(s,r,1),s=Fi(s,r,1),r=en(),s!==null&&(Ts(s,1,r),un(s,r));break}}s=s.return}}function MT(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=en(),r.pingedLanes|=r.suspendedLanes&a,xt===r&&(Ft&a)===a&&(Rt===4||Rt===3&&(Ft&130023424)===Ft&&500>tt()-Id?Ls(r,0):Sd|=a),un(r,s)}function fy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var a=en();r=ri(r,s),r!==null&&(Ts(r,s,a),un(r,a))}function FT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),fy(r,a)}function jT(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),fy(r,a)}var py;py=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return an=!1,AT(r,s,a);an=(r.flags&131072)!==0}else an=!1,st&&(s.flags&1048576)!==0&&qm(s,gu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;xu(r,s),r=s.pendingProps;var d=Ao(s,Ht.current);xo(s,a),d=id(null,s,c,r,d,a);var p=sd();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(c)?(p=!0,fu(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Yh(s),d.updater=Tu,s.stateNode=d,d._reactInternals=s,Jh(s,c,r,a),s=fd(null,s,c,!0,p,a)):(s.tag=0,st&&p&&jh(s),Zt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(xu(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=BT(c),r=Jn(c,r),d){case 0:s=dd(null,s,c,r,a);break e;case 1:s=Ug(null,s,c,r,a);break e;case 11:s=Vg(null,s,c,r,a);break e;case 14:s=Lg(null,s,c,Jn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Jn(c,d),dd(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Jn(c,d),Ug(r,s,c,d,a);case 3:e:{if(Bg(s),r===null)throw Error(t(387));c=s.pendingProps,p=s.memoizedState,d=p.element,Xm(r,s),Eu(s,c,null,a);var w=s.memoizedState;if(c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=Oo(Error(t(423)),s),s=zg(r,s,c,a,d);break e}else if(c!==d){d=Oo(Error(t(424)),s),s=zg(r,s,c,a,d);break e}else for(In=bi(s.stateNode.containerInfo.firstChild),Sn=s,st=!0,Qn=null,a=ag(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),c===d){s=si(r,s,a);break e}Zt(r,s,c,a)}s=s.child}return s;case 5:return lg(s),r===null&&zh(s),c=s.type,d=s.pendingProps,p=r!==null?r.memoizedProps:null,w=d.children,bh(c,d)?w=null:p!==null&&bh(c,p)&&(s.flags|=32),jg(r,s),Zt(r,s,w,a),s.child;case 6:return r===null&&zh(s),null;case 13:return $g(r,s,a);case 4:return Xh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=No(s,null,c,a):Zt(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Jn(c,d),Vg(r,s,c,d,a);case 7:return Zt(r,s,s.pendingProps,a),s.child;case 8:return Zt(r,s,s.pendingProps.children,a),s.child;case 12:return Zt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,p=s.memoizedProps,w=d.value,Xe(vu,c._currentValue),c._currentValue=w,p!==null)if(Yn(p.value,w)){if(p.children===d.children&&!sn.current){s=si(r,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var R=p.dependencies;if(R!==null){w=p.child;for(var O=R.firstContext;O!==null;){if(O.context===c){if(p.tag===1){O=ii(-1,a&-a),O.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var X=$.pending;X===null?O.next=O:(O.next=X.next,X.next=O),$.pending=O}}p.lanes|=a,O=p.alternate,O!==null&&(O.lanes|=a),Gh(p.return,a,s),R.lanes|=a;break}O=O.next}}else if(p.tag===10)w=p.type===s.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(t(341));w.lanes|=a,R=w.alternate,R!==null&&(R.lanes|=a),Gh(w,a,s),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Zt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,xo(s,a),d=Ln(d),c=c(d),s.flags|=1,Zt(r,s,c,a),s.child;case 14:return c=s.type,d=Jn(c,s.pendingProps),d=Jn(c.type,d),Lg(r,s,c,d,a);case 15:return Mg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Jn(c,d),xu(r,s),s.tag=1,on(c)?(r=!0,fu(s)):r=!1,xo(s,a),rg(s,c,d),Jh(s,c,d,a),fd(null,s,c,!0,r,a);case 19:return Hg(r,s,a);case 22:return Fg(r,s,a)}throw Error(t(156,s.tag))};function my(r,s){return Wr(r,s)}function UT(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,s,a,c){return new UT(r,s,a,c)}function bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BT(r){if(typeof r=="function")return bd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Ye)return 14}return 2}function Wi(r,s){var a=r.alternate;return a===null?(a=jn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function zu(r,s,a,c,d,p){var w=2;if(c=r,typeof r=="function")bd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return Fs(a.children,d,p,s);case A:w=8,d|=8;break;case C:return r=jn(12,a,s,d|2),r.elementType=C,r.lanes=p,r;case k:return r=jn(13,a,s,d),r.elementType=k,r.lanes=p,r;case Re:return r=jn(19,a,s,d),r.elementType=Re,r.lanes=p,r;case Fe:return $u(a,d,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:w=10;break e;case x:w=9;break e;case M:w=11;break e;case Ye:w=14;break e;case De:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=jn(w,a,s,d),s.elementType=r,s.type=c,s.lanes=p,s}function Fs(r,s,a,c){return r=jn(7,r,c,s),r.lanes=a,r}function $u(r,s,a,c){return r=jn(22,r,c,s),r.elementType=Fe,r.lanes=a,r.stateNode={isHidden:!1},r}function Od(r,s,a){return r=jn(6,r,null,s),r.lanes=a,r}function Vd(r,s,a){return s=jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function zT(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ld(r,s,a,c,d,p,w,R,O){return r=new zT(r,s,a,R,O),s===1?(s=1,p===!0&&(s|=8)):s=0,p=jn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(p),r}function $T(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function gy(r){if(!r)return Vi;r=r._reactInternals;e:{if(yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return $m(r,a,s)}return s}function yy(r,s,a,c,d,p,w,R,O){return r=Ld(a,c,!0,r,d,p,w,R,O),r.context=gy(null),a=r.current,c=en(),d=zi(a),p=ii(c,d),p.callback=s??null,Fi(a,p,d),r.current.lanes=d,Ts(r,d,c),un(r,c),r}function Wu(r,s,a,c){var d=s.current,p=en(),w=zi(d);return a=gy(a),s.context===null?s.context=a:s.pendingContext=a,s=ii(p,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Fi(d,s,w),r!==null&&(er(r,d,w,p),wu(r,d,w)),w}function Hu(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function vy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Md(r,s){vy(r,s),(r=r.alternate)&&vy(r,s)}function WT(){return null}var _y=typeof reportError=="function"?reportError:function(r){console.error(r)};function Fd(r){this._internalRoot=r}qu.prototype.render=Fd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},qu.prototype.unmount=Fd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vs(function(){Wu(null,r,null,null)}),s[Zr]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Sa();r={blockedOn:null,target:r,priority:s};for(var a=0;a<wn.length&&s!==0&&s<wn[a].priority;a++);wn.splice(a,0,r),a===0&&uo(r)}};function jd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wy(){}function HT(r,s,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var $=Hu(w);p.call($)}}var w=yy(s,c,r,0,null,!1,!1,"",wy);return r._reactRootContainer=w,r[Zr]=w.current,La(r.nodeType===8?r.parentNode:r),Vs(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var $=Hu(O);R.call($)}}var O=Ld(r,0,!1,null,null,!1,!1,"",wy);return r._reactRootContainer=O,r[Zr]=O.current,La(r.nodeType===8?r.parentNode:r),Vs(function(){Wu(s,O,a,c)}),O}function Ku(r,s,a,c,d){var p=a._reactRootContainer;if(p){var w=p;if(typeof d=="function"){var R=d;d=function(){var O=Hu(w);R.call(O)}}Wu(s,w,r,d)}else w=HT(a,s,r,d,c);return Hu(w)}Ta=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$e(s.pendingLanes);a!==0&&(Ea(s,a|1),un(s,tt()),(Be&6)===0&&(Mo=tt()+500,Li()))}break;case 13:Vs(function(){var c=ri(r,1);if(c!==null){var d=en();er(c,r,1,d)}}),Md(r,1)}},ao=function(r){if(r.tag===13){var s=ri(r,134217728);if(s!==null){var a=en();er(s,r,134217728,a)}Md(r,134217728)}},Ca=function(r){if(r.tag===13){var s=zi(r),a=ri(r,s);if(a!==null){var c=en();er(a,r,s,c)}Md(r,s)}},Sa=function(){return Me},Ia=function(r,s){var a=Me;try{return Me=r,s()}finally{Me=a}},Pn=function(r,s,a){switch(s){case"input":if(kn(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=hu(c);if(!d)throw Error(t(90));ar(c),kn(c,d)}}}break;case"textarea":ro(r,a);break;case"select":s=a.value,s!=null&&fn(r,!!a.multiple,s,!1)}},qe=Pd,Xt=Vs;var qT={usingClientEntryPoint:!1,Events:[ja,So,hu,ut,mn,Pd]},Za={findFiberByHostInstance:Rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GT={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$t(r),r===null?null:r.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||WT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{vs=Yu.inject(GT),vn=Yu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT,cn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jd(s))throw Error(t(200));return $T(r,s,null,a)},cn.createRoot=function(r,s){if(!jd(r))throw Error(t(299));var a=!1,c="",d=_y;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Ld(r,1,!1,null,null,a,!1,c,d),r[Zr]=s.current,La(r.nodeType===8?r.parentNode:r),new Fd(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=$t(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return Vs(r)},cn.hydrate=function(r,s,a){if(!Gu(s))throw Error(t(200));return Ku(null,r,s,!0,a)},cn.hydrateRoot=function(r,s,a){if(!jd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",w=_y;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=yy(s,null,r,1,a??null,d,!1,p,w),r[Zr]=s.current,La(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new qu(s)},cn.render=function(r,s,a){if(!Gu(s))throw Error(t(200));return Ku(null,r,s,!1,a)},cn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(Vs(function(){Ku(null,null,r,!1,function(){r._reactRootContainer=null,r[Zr]=null})}),!0):!1},cn.unstable_batchedUpdates=Pd,cn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Gu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ku(r,s,a,!1,c)},cn.version="18.2.0-next-9e3b772b8-20220608",cn}var ky;function nC(){if(ky)return zd.exports;ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zd.exports=tC(),zd.exports}var Dy;function rC(){if(Dy)return Qu;Dy=1;var n=nC();return Qu.createRoot=n.createRoot,Qu.hydrateRoot=n.hydrateRoot,Qu}var iC=rC();const sC=S_(iC);var Py="popstate";function oC(n={}){function e(o,l){let{pathname:h="/",search:f="",hash:g=""}=Qs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),pf("",{pathname:h,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");f=y===-1?g:g.slice(0,y)}return f+"#"+(typeof l=="string"?l:gl(l))}function i(o,l){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lC(e,t,i,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function xy(n,e){return{usr:n.state,key:n.key,idx:e}}function pf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:t,key:e&&e.key||i||aC()}}function gl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lC(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function E(){f="POP";let b=_(),q=b==null?null:b-y;y=b,g&&g({action:f,location:j.location,delta:q})}function S(b,q){f="PUSH";let G=pf(j.location,b,q);t&&t(G,b),y=_()+1;let ne=xy(G,y),le=j.createHref(G);try{h.pushState(ne,"",le)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(le)}l&&g&&g({action:f,location:j.location,delta:1})}function V(b,q){f="REPLACE";let G=pf(j.location,b,q);t&&t(G,b),y=_();let ne=xy(G,y),le=j.createHref(G);h.replaceState(ne,"",le),l&&g&&g({action:f,location:j.location,delta:0})}function H(b){return uC(b)}let j={get action(){return f},get location(){return n(o,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Py,E),g=b,()=>{o.removeEventListener(Py,E),g=null}},createHref(b){return e(o,b)},createURL:H,encodeLocation(b){let q=H(b);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:V,go(b){return h.go(b)}};return j}function uC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:gl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function I_(n,e,t="/"){return cC(n,e,t,!1)}function cC(n,e,t,i){let o=typeof e=="string"?Qs(e):e,l=hi(o.pathname||"/",t);if(l==null)return null;let h=A_(n);hC(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=TC(l);f=wC(h[g],y,i)}return f}function A_(n,e=[],t=[],i="",o=!1){let l=(h,f,g=o,y)=>{let _={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;ft(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=ui([i,_.relativePath]),S=t.concat(_);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),A_(h.children,e,S,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:vC(E,h.index),routesMeta:S})};return n.forEach((h,f)=>{if(h.path===""||!h.path?.includes("?"))l(h,f);else for(let g of R_(h.path))l(h,f,!0,g)}),e}function R_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=R_(i.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>n.startsWith("/")&&g===""?"/":g)}function hC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_C(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var dC=/^:[\w-]+$/,fC=3,pC=2,mC=1,gC=10,yC=-2,Ny=n=>n==="*";function vC(n,e){let t=n.split("/"),i=t.length;return t.some(Ny)&&(i+=yC),e&&(i+=pC),t.filter(o=>!Ny(o)).reduce((o,l)=>o+(dC.test(l)?fC:l===""?mC:gC),i)}function _C(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function wC(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let f=0;f<i.length;++f){let g=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Sc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),S=g.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Sc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:ui([l,E.pathname]),pathnameBase:AC(ui([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=ui([l,E.pathnameBase]))}return h}function Sc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=EC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},S)=>{if(_==="*"){let H=f[S]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const V=f[S];return E&&!V?y[_]=void 0:y[_]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function EC(n,e=!1,t=!0){zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function TC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var k_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CC=n=>k_.test(n);function SC(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Qs(n):n,l;if(t)if(CC(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${t}`)}t.startsWith("/")?l=by(t.substring(1),"/"):l=by(t,e)}else l=e;return{pathname:l,search:RC(i),hash:kC(o)}}function by(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Hd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function D_(n){let e=IC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function P_(n,e,t,i=!1){let o;typeof n=="string"?o=Qs(n):(o={...n},ft(!o.pathname||!o.pathname.includes("?"),Hd("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Hd("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Hd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let E=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}f=E>=0?e[E]:"/"}let g=SC(o,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ui=n=>n.join("/").replace(/\/\/+/g,"/"),AC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,DC=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function PC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function xC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function N_(n,e){let t=n;if(typeof t!="string"||!k_.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,o=!1;if(x_)try{let l=new URL(window.location.href),h=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=hi(h.pathname,e);h.origin===l.origin&&f!=null?t=f+h.search+h.hash:o=!0}catch{zn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b_=["POST","PUT","PATCH","DELETE"];new Set(b_);var NC=["GET",...b_];new Set(NC);var oa=F.createContext(null);oa.displayName="DataRouter";var Hc=F.createContext(null);Hc.displayName="DataRouterState";var bC=F.createContext(!1),O_=F.createContext({isTransitioning:!1});O_.displayName="ViewTransition";var OC=F.createContext(new Map);OC.displayName="Fetchers";var VC=F.createContext(null);VC.displayName="Await";var Wn=F.createContext(null);Wn.displayName="Navigation";var xl=F.createContext(null);xl.displayName="Location";var Ur=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var rp=F.createContext(null);rp.displayName="RouteError";var V_="REACT_ROUTER_ERROR",LC="REDIRECT",MC="ROUTE_ERROR_RESPONSE";function FC(n){if(n.startsWith(`${V_}:${LC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jC(n){if(n.startsWith(`${V_}:${MC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new DC(e.status,e.statusText,e.data)}catch{}}function UC(n,{relative:e}={}){ft(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Wn),{hash:o,pathname:l,search:h}=bl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ui([t,l])),i.createHref({pathname:f,search:h,hash:o})}function Nl(){return F.useContext(xl)!=null}function ls(){return ft(Nl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(xl).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M_(n){F.useContext(Wn).static||F.useLayoutEffect(n)}function F_(){let{isDataRoute:n}=F.useContext(Ur);return n?t1():BC()}function BC(){ft(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(oa),{basename:e,navigator:t}=F.useContext(Wn),{matches:i}=F.useContext(Ur),{pathname:o}=ls(),l=JSON.stringify(D_(i)),h=F.useRef(!1);return M_(()=>{h.current=!0}),F.useCallback((g,y={})=>{if(zn(h.current,L_),!h.current)return;if(typeof g=="number"){t.go(g);return}let _=P_(g,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ui([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}var zC=F.createContext(null);function $C(n){let e=F.useContext(Ur).outlet;return F.useMemo(()=>e&&F.createElement(zC.Provider,{value:n},e),[e,n])}function bl(n,{relative:e}={}){let{matches:t}=F.useContext(Ur),{pathname:i}=ls(),o=JSON.stringify(D_(t));return F.useMemo(()=>P_(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function WC(n,e){return j_(n,e)}function j_(n,e,t,i,o){ft(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(Wn),{matches:h}=F.useContext(Ur),f=h[h.length-1],g=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let G=E&&E.path||"";B_(y,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=ls(),V;if(e){let G=typeof e=="string"?Qs(e):e;ft(_==="/"||G.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),V=G}else V=S;let H=V.pathname||"/",j=H;if(_!=="/"){let G=_.replace(/^\//,"").split("/");j="/"+H.replace(/^\//,"").split("/").slice(G.length).join("/")}let b=I_(n,{pathname:j});zn(E||b!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),zn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=YC(b&&b.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:ui([_,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:ui([_,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),h,t,i,o);return e&&q?F.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},q):q}function HC(){let n=e1(),e=PC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,h)}var qC=F.createElement(HC,null),U_=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=jC(n.digest);t&&(n=t)}let e=n!==void 0?F.createElement(Ur.Provider,{value:this.props.routeContext},F.createElement(rp.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?F.createElement(GC,{error:n},e):e}};U_.contextType=bC;var qd=new WeakMap;function GC({children:n,error:e}){let{basename:t}=F.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=FC(e.digest);if(i){let o=qd.get(e);if(o)throw o;let l=N_(i.location,t);if(x_&&!qd.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw qd.set(e,h),h}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function KC({routeContext:n,match:e,children:t}){let i=F.useContext(oa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ur.Provider,{value:n},t)}function YC(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,h=t?.errors;if(h!=null){let _=l.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ft(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,g=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=_),E.route.id){let{loaderData:S,errors:V}=t,H=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||H){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let y=t&&i?(_,E)=>{i(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:xC(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,S)=>{let V,H=!1,j=null,b=null;t&&(V=h&&E.route.id?h[E.route.id]:void 0,j=E.route.errorElement||qC,f&&(g<0&&S===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,b=null):g===S&&(H=!0,b=E.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,S+1)),G=()=>{let ne;return V?ne=j:H?ne=b:E.route.Component?ne=F.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=_,F.createElement(KC,{match:E,routeContext:{outlet:_,matches:q,isDataRoute:t!=null},children:ne})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?F.createElement(U_,{location:t.location,revalidation:t.revalidation,component:j,error:V,children:G(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:y}):G()},null)}function ip(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(n){let e=F.useContext(oa);return ft(e,ip(n)),e}function JC(n){let e=F.useContext(Hc);return ft(e,ip(n)),e}function XC(n){let e=F.useContext(Ur);return ft(e,ip(n)),e}function sp(n){let e=XC(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZC(){return sp("useRouteId")}function e1(){let n=F.useContext(rp),e=JC("useRouteError"),t=sp("useRouteError");return n!==void 0?n:e.errors?.[t]}function t1(){let{router:n}=QC("useNavigate"),e=sp("useNavigate"),t=F.useRef(!1);return M_(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{zn(t.current,L_),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Oy={};function B_(n,e,t){!e&&!Oy[n]&&(Oy[n]=!0,zn(!1,t))}F.memo(n1);function n1({routes:n,future:e,state:t,onError:i}){return j_(n,void 0,t,i,e)}function r1(n){return $C(n.context)}function Uo(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:h}){ft(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:h,future:{}}),[f,o,l,h]);typeof t=="string"&&(t=Qs(t));let{pathname:y="/",search:_="",hash:E="",state:S=null,key:V="default"}=t,H=F.useMemo(()=>{let j=hi(y,f);return j==null?null:{location:{pathname:j,search:_,hash:E,state:S,key:V},navigationType:i}},[f,y,_,E,S,V,i]);return zn(H!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:F.createElement(Wn.Provider,{value:g},F.createElement(xl.Provider,{children:e,value:H}))}function s1({children:n,location:e}){return WC(mf(n),e)}function mf(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let l=[...e,o];if(i.type===F.Fragment){t.push.apply(t,mf(i.props.children,l));return}ft(i.type===Uo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=mf(i.props.children,l)),t.push(h)}),t}var uc="get",cc="application/x-www-form-urlencoded";function qc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function o1(n){return qc(n)&&n.tagName.toLowerCase()==="button"}function a1(n){return qc(n)&&n.tagName.toLowerCase()==="form"}function l1(n){return qc(n)&&n.tagName.toLowerCase()==="input"}function u1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c1(n,e){return n.button===0&&(!e||e==="_self")&&!u1(n)}var Ju=null;function h1(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var d1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(n){return n!=null&&!d1.has(n)?(zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):n}function f1(n,e){let t,i,o,l,h;if(a1(n)){let f=n.getAttribute("action");i=f?hi(f,e):null,t=n.getAttribute("method")||uc,o=Gd(n.getAttribute("enctype"))||cc,l=new FormData(n)}else if(o1(n)||l1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||f.getAttribute("action");if(i=g?hi(g,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||uc,o=Gd(n.getAttribute("formenctype"))||Gd(f.getAttribute("enctype"))||cc,l=new FormData(f,n),!h1()){let{name:y,type:_,value:E}=n;if(_==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,E)}}else{if(qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uc,i=null,o=cc,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function p1(n,e,t,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&hi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function m1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function y1(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await m1(l,t);return h.links?h.links():[]}return[]}));return E1(i.flat(1).filter(g1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vy(n,e,t,i,o,l){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):l==="data"?e.filter((g,y)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function v1(n,e,{includeHydrateFallback:t}={}){return _1(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function _1(n){return[...new Set(n)]}function w1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function E1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(w1(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function z_(){let n=F.useContext(oa);return op(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function T1(){let n=F.useContext(Hc);return op(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ap=F.createContext(void 0);ap.displayName="FrameworkContext";function $_(){let n=F.useContext(ap);return op(n,"You must render this element inside a <HydratedRouter> element"),n}function C1(n,e){let t=F.useContext(ap),[i,o]=F.useState(!1),[l,h]=F.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,S=F.useRef(null);F.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let j=q=>{q.forEach(G=>{h(G.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return S.current&&b.observe(S.current),()=>{b.disconnect()}}},[n]),F.useEffect(()=>{if(i){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[i]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:tl(f,V),onBlur:tl(g,H),onMouseEnter:tl(y,V),onMouseLeave:tl(_,H),onTouchStart:tl(E,V)}]:[!1,S,{}]}function tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function S1({page:n,...e}){let{router:t}=z_(),i=F.useMemo(()=>I_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(A1,{page:n,matches:i,...e}):null}function I1(n){let{manifest:e,routeModules:t}=$_(),[i,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return y1(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function A1({page:n,matches:e,...t}){let i=ls(),{future:o,manifest:l,routeModules:h}=$_(),{basename:f}=z_(),{loaderData:g,matches:y}=T1(),_=F.useMemo(()=>Vy(n,e,y,l,i,"data"),[n,e,y,l,i]),E=F.useMemo(()=>Vy(n,e,y,l,i,"assets"),[n,e,y,l,i]),S=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let j=new Set,b=!1;if(e.forEach(G=>{let ne=l.routes[G.route.id];!ne||!ne.hasLoader||(!_.some(le=>le.route.id===G.route.id)&&G.route.id in g&&h[G.route.id]?.shouldRevalidate||ne.hasClientLoader?b=!0:j.add(G.route.id))}),j.size===0)return[];let q=p1(n,f,o.unstable_trailingSlashAwareDataRequests,"data");return b&&j.size>0&&q.searchParams.set("_routes",e.filter(G=>j.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[f,o.unstable_trailingSlashAwareDataRequests,g,i,l,_,e,n,h]),V=F.useMemo(()=>v1(E,l),[E,l]),H=I1(E);return F.createElement(F.Fragment,null,S.map(j=>F.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),V.map(j=>F.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),H.map(({key:j,link:b})=>F.createElement("link",{key:j,nonce:t.nonce,...b})))}function R1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k1&&(window.__reactRouterVersion="7.12.0")}catch{}function D1({basename:n,children:e,unstable_useTransitions:t,window:i}){let o=F.useRef();o.current==null&&(o.current=oC({window:i,v5Compat:!0}));let l=o.current,[h,f]=F.useState({action:l.action,location:l.location}),g=F.useCallback(y=>{t===!1?f(y):F.startTransition(()=>f(y))},[t]);return F.useLayoutEffect(()=>l.listen(g),[l,g]),F.createElement(i1,{basename:n,children:e,location:h.location,navigationType:h.action,navigator:l,unstable_useTransitions:t})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:g,to:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H){let{basename:j,unstable_useTransitions:b}=F.useContext(Wn),q=typeof y=="string"&&W_.test(y),G=N_(y,j);y=G.to;let ne=UC(y,{relative:o}),[le,me,ee]=C1(i,V),P=N1(y,{replace:h,state:f,target:g,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:b});function A(D){e&&e(D),D.defaultPrevented||P(D)}let C=F.createElement("a",{...V,...ee,href:G.absoluteURL||ne,onClick:G.isExternal||l?e:A,ref:R1(H,me),target:g,"data-discover":!q&&t==="render"?"true":void 0});return le&&!q?F.createElement(F.Fragment,null,C,F.createElement(S1,{page:ne})):C});H_.displayName="Link";var hc=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:g,...y},_){let E=bl(h,{relative:y.relative}),S=ls(),V=F.useContext(Hc),{navigator:H,basename:j}=F.useContext(Wn),b=V!=null&&M1(E)&&f===!0,q=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,G=S.pathname,ne=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(G=G.toLowerCase(),ne=ne?ne.toLowerCase():null,q=q.toLowerCase()),ne&&j&&(ne=hi(ne,j)||ne);const le=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let me=G===q||!o&&G.startsWith(q)&&G.charAt(le)==="/",ee=ne!=null&&(ne===q||!o&&ne.startsWith(q)&&ne.charAt(q.length)==="/"),P={isActive:me,isPending:ee,isTransitioning:b},A=me?e:void 0,C;typeof i=="function"?C=i(P):C=[i,me?"active":null,ee?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(P):l;return F.createElement(H_,{...y,"aria-current":A,className:C,ref:_,style:D,to:h,viewTransition:f},typeof g=="function"?g(P):g)});hc.displayName="NavLink";var P1=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=uc,action:f,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},H)=>{let{unstable_useTransitions:j}=F.useContext(Wn),b=V1(),q=L1(f,{relative:y}),G=h.toLowerCase()==="get"?"get":"post",ne=typeof f=="string"&&W_.test(f),le=me=>{if(g&&g(me),me.defaultPrevented)return;me.preventDefault();let ee=me.nativeEvent.submitter,P=ee?.getAttribute("formmethod")||h,A=()=>b(ee||me.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:S});j&&t!==!1?F.startTransition(()=>A()):A()};return F.createElement("form",{ref:H,method:G,action:q,onSubmit:i?g:le,...V,"data-discover":!ne&&n==="render"?"true":void 0})});P1.displayName="Form";function x1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q_(n){let e=F.useContext(oa);return ft(e,x1(n)),e}function N1(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let y=F_(),_=ls(),E=bl(n,{relative:l});return F.useCallback(S=>{if(c1(S,e)){S.preventDefault();let V=t!==void 0?t:gl(_)===gl(E),H=()=>y(n,{replace:V,state:i,preventScrollReset:o,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:f});g?F.startTransition(()=>H()):H()}},[_,y,E,t,i,e,n,o,l,h,f,g])}var b1=0,O1=()=>`__${String(++b1)}__`;function V1(){let{router:n}=q_("useSubmit"),{basename:e}=F.useContext(Wn),t=ZC(),i=n.fetch,o=n.navigate;return F.useCallback(async(l,h={})=>{let{action:f,method:g,encType:y,formData:_,body:E}=f1(l,e);if(h.navigate===!1){let S=h.fetcherKey||O1();await i(S,t,h.action||f,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||f,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:t,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,o,e,t])}function L1(n,{relative:e}={}){let{basename:t}=F.useContext(Wn),i=F.useContext(Ur);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...bl(n||".",{relative:e})},h=ls();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(_=>_==="")){f.delete("index"),g.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ui([t,l.pathname])),gl(l)}function M1(n,{relative:e}={}){let t=F.useContext(O_);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q_("useViewTransitionState"),o=bl(n,{relative:e});if(!t.isTransitioning)return!1;let l=hi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=hi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sc(o.pathname,h)!=null||Sc(o.pathname,l)!=null}const F1=()=>{};var Ly={};const G_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},j1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,V=y&63;g||(V=64,h||(S=64)),i.push(t[_],t[E],t[S],t[V])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(G_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):j1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||E==null)throw new U1;const S=l<<2|f>>4;if(i.push(S),y!==64){const V=f<<4&240|y>>2;if(i.push(V),E!==64){const H=y<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(n){const e=G_(n);return K_.encodeByteArray(e,!0)},Y_=function(n){return B1(n).replace(/\./g,"")},Q_=function(n){try{return K_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $1=()=>z1().__FIREBASE_DEFAULTS__,W1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const n=Ly.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},H1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q_(n[1]);return e&&JSON.parse(e)},Gc=()=>{try{return F1()||$1()||W1()||H1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},q1=n=>Gc()?.emulatorHosts?.[n],J_=()=>Gc()?.config,X_=n=>Gc()?.[`_${n}`];class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function aa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z_(n){return(await fetch(n,{credentials:"include"})).ok}const ul={};function K1(){const n={prod:[],emulator:[]};for(const e of Object.keys(ul))ul[e]?n.emulator.push(e):n.prod.push(e);return n}function Y1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let My=!1;function Q1(n,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||ul[n]===e||ul[n]||My)return;ul[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=K1().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{My=!0,h()},S}function _(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=Y1(i),V=t("text"),H=document.getElementById(V)||document.createElement("span"),j=t("learnmore"),b=document.getElementById(j)||document.createElement("a"),q=t("preprendIcon"),G=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;f(ne),_(b,j);const le=y();g(G,q),ne.append(G,H,b,le),document.body.appendChild(ne)}l?(H.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function X1(){const n=Gc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rS(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const oS="FirebaseError";class gi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=oS,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?aS(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new gi(o,f,i)}}function aS(n,e){return n.replace(lS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const lS=/\{\$([^}]+)}/g;function uS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Fy(l)&&Fy(h)){if(!Hs(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Fy(n){return n!==null&&typeof n=="object"}function Vl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cS(n,e){const t=new hS(n,e);return t.subscribe.bind(t)}class hS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kd(){}function $n(n){return n&&n._delegate?n._delegate:n}class qs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class fS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new G1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(n){return n===js?void 0:n}function mS(n){return n.instantiationMode==="EAGER"}class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const yS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},vS=Oe.INFO,_S={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},wS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=_S[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const ES=(n,e)=>e.some(t=>n instanceof t);let jy,Uy;function TS(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,gf=new WeakMap,t0=new WeakMap,Yd=new WeakMap,up=new WeakMap;function SS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ji(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&e0.set(t,n)}).catch(()=>{}),up.set(e,n),e}function IS(n){if(gf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});gf.set(n,e)}let yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||t0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AS(n){yf=n(yf)}function RS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Qd(this),e,...t);return t0.set(i,e.sort?e.sort():[e]),Ji(i)}:CS().includes(n)?function(...e){return n.apply(Qd(this),e),Ji(e0.get(this))}:function(...e){return Ji(n.apply(Qd(this),e))}}function kS(n){return typeof n=="function"?RS(n):(n instanceof IDBTransaction&&IS(n),ES(n,TS())?new Proxy(n,yf):n)}function Ji(n){if(n instanceof IDBRequest)return SS(n);if(Yd.has(n))return Yd.get(n);const e=kS(n);return e!==n&&(Yd.set(n,e),up.set(e,n)),e}const Qd=n=>up.get(n);function DS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Ji(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Ji(h.result),g.oldVersion,g.newVersion,Ji(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const PS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Jd=new Map;function By(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=xS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||PS.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return Jd.set(e,l),l}AS(n=>({...n,get:(e,t,i)=>By(e,t)||n.get(e,t,i),has:(e,t)=>!!By(e,t)||n.has(e,t)}));class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function bS(n){return n.getComponent()?.type==="VERSION"}const vf="@firebase/app",zy="0.14.7";const di=new lp("@firebase/app"),OS="@firebase/app-compat",VS="@firebase/analytics-compat",LS="@firebase/analytics",MS="@firebase/app-check-compat",FS="@firebase/app-check",jS="@firebase/auth",US="@firebase/auth-compat",BS="@firebase/database",zS="@firebase/data-connect",$S="@firebase/database-compat",WS="@firebase/functions",HS="@firebase/functions-compat",qS="@firebase/installations",GS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",QS="@firebase/performance",JS="@firebase/performance-compat",XS="@firebase/remote-config",ZS="@firebase/remote-config-compat",eI="@firebase/storage",tI="@firebase/storage-compat",nI="@firebase/firestore",rI="@firebase/ai",iI="@firebase/firestore-compat",sI="firebase",oI="12.8.0";const _f="[DEFAULT]",aI={[vf]:"fire-core",[OS]:"fire-core-compat",[LS]:"fire-analytics",[VS]:"fire-analytics-compat",[FS]:"fire-app-check",[MS]:"fire-app-check-compat",[jS]:"fire-auth",[US]:"fire-auth-compat",[BS]:"fire-rtdb",[zS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[WS]:"fire-fn",[HS]:"fire-fn-compat",[qS]:"fire-iid",[GS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[QS]:"fire-perf",[JS]:"fire-perf-compat",[XS]:"fire-rc",[ZS]:"fire-rc-compat",[eI]:"fire-gcs",[tI]:"fire-gcs-compat",[nI]:"fire-fst",[iI]:"fire-fst-compat",[rI]:"fire-vertex","fire-js":"fire-js",[sI]:"fire-js-all"};const Ic=new Map,lI=new Map,wf=new Map;function $y(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zo(n){const e=n.name;if(wf.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,n);for(const t of Ic.values())$y(t,n);for(const t of lI.values())$y(t,n);return!0}function cp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tr(n){return n==null?!1:n.settings!==void 0}const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Ol("app","Firebase",uI);class cI{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const la=oI;function n0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:_f,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=J_()),!t)throw Xi.create("no-options");const l=Ic.get(o);if(l){if(Hs(t,l.options)&&Hs(i,l.config))return l;throw Xi.create("duplicate-app",{appName:o})}const h=new gS(o);for(const g of wf.values())h.addComponent(g);const f=new cI(t,i,h);return Ic.set(o,f),f}function hI(n=_f){const e=Ic.get(n);if(!e&&n===_f&&J_())return n0();if(!e)throw Xi.create("no-app",{appName:n});return e}function Zi(n,e,t){let i=aI[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}Zo(new qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dI="firebase-heartbeat-database",fI=1,yl="firebase-heartbeat-store";let Xd=null;function r0(){return Xd||(Xd=DS(dI,fI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),Xd}async function pI(n){try{const t=(await r0()).transaction(yl),i=await t.objectStore(yl).get(i0(n));return await t.done,i}catch(e){if(e instanceof gi)di.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e?.message});di.warn(t.message)}}}async function Wy(n,e){try{const i=(await r0()).transaction(yl,"readwrite");await i.objectStore(yl).put(e,i0(n)),await i.done}catch(t){if(t instanceof gi)di.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t?.message});di.warn(i.message)}}}function i0(n){return`${n.name}!${n.options.appId}`}const mI=1024,gI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _I(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>gI){const o=wI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hy(),{heartbeatsToSend:t,unsentEntries:i}=vI(this._heartbeatsCache.heartbeats),o=Y_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return di.warn(e),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function vI(n,e=mI){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),qy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),qy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qy(n){return Y_(JSON.stringify({version:2,heartbeats:n})).length}function wI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function EI(n){Zo(new qs("platform-logger",e=>new NS(e),"PRIVATE")),Zo(new qs("heartbeat",e=>new yI(e),"PRIVATE")),Zi(vf,zy,n),Zi(vf,zy,"esm2020"),Zi("fire-js","")}EI("");function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TI=s0,o0=new Ol("auth","Firebase",s0());const Ac=new lp("@firebase/auth");function CI(n,...e){Ac.logLevel<=Oe.WARN&&Ac.warn(`Auth (${la}): ${n}`,...e)}function dc(n,...e){Ac.logLevel<=Oe.ERROR&&Ac.error(`Auth (${la}): ${n}`,...e)}function Mr(n,...e){throw dp(n,...e)}function ir(n,...e){return dp(n,...e)}function hp(n,e,t){const i={...TI(),[e]:t};return new Ol("auth","Firebase",i).create(e,{appName:n.name})}function zs(n){return hp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SI(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mr(n,"argument-error"),hp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return o0.create(n,...e)}function Te(n,e,...t){if(!n)throw dp(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dc(e),new Error(e)}function fi(n,e){n||ai(e)}function Ef(){return typeof self<"u"&&self.location?.href||""}function II(){return Gy()==="http:"||Gy()==="https:"}function Gy(){return typeof self<"u"&&self.location?.protocol||null}function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(II()||eS()||"connection"in navigator)?navigator.onLine:!0}function RI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=J1()||tS()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class a0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PI=new Ll(3e4,6e4);function pp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ua(n,e,t,i,o={}){return l0(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Vl({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...l};return Z1()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&aa(n.emulatorConfig.host)&&(y.credentials="include"),a0.fetch()(await u0(n,n.config.apiHost,t,f),y)})}async function l0(n,e,t){n._canInitEmulator=!1;const i={...kI,...e};try{const o=new NI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Xu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Xu(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Xu(n,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hp(n,_,y);Mr(n,_)}}catch(o){if(o instanceof gi)throw o;Mr(n,"network-request-failed",{message:String(o)})}}async function xI(n,e,t,i,o={}){const l=await ua(n,e,t,i,o);return"mfaPendingCredential"in l&&Mr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function u0(n,e,t,i){const o=`${e}${t}?${i}`,l=n,h=l.config.emulator?fp(n.config,o):`${n.config.apiScheme}://${o}`;return DI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class NI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),PI.get())})}}function Xu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ir(n,e,i);return o.customData._tokenResponse=t,o}async function bI(n,e){return ua(n,"POST","/v1/accounts:delete",e)}async function Rc(n,e){return ua(n,"POST","/v1/accounts:lookup",e)}function cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OI(n,e=!1){const t=$n(n),i=await t.getIdToken(e),o=mp(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:cl(Zd(o.auth_time)),issuedAtTime:cl(Zd(o.iat)),expirationTime:cl(Zd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Zd(n){return Number(n)*1e3}function mp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q_(t);return o?JSON.parse(o):(dc("Failed to decode base64 JWT payload"),null)}catch(o){return dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ky(n){const e=mp(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof gi&&VI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function VI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class LI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kc(n){const e=n.auth,t=await n.getIdToken(),i=await vl(n,Rc(e,{idToken:t}));Te(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?c0(o.providerUserInfo):[],h=FI(n.providerData,l),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=f?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Tf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function MI(n){const e=$n(n);await kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FI(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function c0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function jI(n,e){const t=await l0(n,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await u0(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return n.emulatorConfig&&aa(n.emulatorConfig.host)&&(g.credentials="include"),a0.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UI(n,e){return ua(n,"POST","/v2/accounts:revokeToken",pp(n,e))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ky(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Ky(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await jI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Go;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return ai("not implemented")}}function qi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new LI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await vl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OI(this,e)}reload(){return MI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await vl(this,bI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:H,stsTokenManager:j}=t;Te(E&&j,e,"internal-error");const b=Go.fromJSON(this.name,j);Te(typeof E=="string",e,"internal-error"),qi(i,e.name),qi(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof V=="boolean",e,"internal-error"),qi(l,e.name),qi(h,e.name),qi(f,e.name),qi(g,e.name),qi(y,e.name),qi(_,e.name);const q=new nr({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:b,createdAt:y,lastLoginAt:_});return H&&Array.isArray(H)&&(q.providerData=H.map(G=>({...G}))),g&&(q._redirectEventId=g),q}static async _fromIdTokenResponse(e,t,i=!1){const o=new Go;o.updateFromServerResponse(t);const l=new nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await kc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new Go;f.updateFromIdToken(i);const g=new nr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,y),g}}const Yy=new Map;function li(n){fi(n instanceof Function,"Expected a class definition");let e=Yy.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yy.set(n,e),e)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}h0.type="NONE";const Qy=h0;function fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=fc(this.userKey,o.apiKey,l),this.fullPersistenceKey=fc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rc(this.auth,{idToken:e}).catch(()=>{});return t?nr._fromGetAccountInfoResponse(this.auth,t,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ko(li(Qy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||li(Qy);const h=fc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const S=await Rc(e,{idToken:_}).catch(()=>{});if(!S)break;E=await nr._fromGetAccountInfoResponse(e,S,_)}else E=nr._fromJSON(e,_);y!==l&&(f=E),l=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Ko(l,e,i):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Ko(l,e,i))}}function Jy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(v0(e))return"Webos";if(f0(e))return"Safari";if((e.includes("chrome/")||p0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function d0(n=Jt()){return/firefox\//i.test(n)}function f0(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p0(n=Jt()){return/crios\//i.test(n)}function m0(n=Jt()){return/iemobile/i.test(n)}function g0(n=Jt()){return/android/i.test(n)}function y0(n=Jt()){return/blackberry/i.test(n)}function v0(n=Jt()){return/webos/i.test(n)}function gp(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BI(n=Jt()){return gp(n)&&!!window.navigator?.standalone}function zI(){return nS()&&document.documentMode===10}function _0(n=Jt()){return gp(n)||g0(n)||v0(n)||y0(n)||/windows phone/i.test(n)||m0(n)}function w0(n,e=[]){let t;switch(n){case"Browser":t=Jy(Jt());break;case"Worker":t=`${Jy(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}class $I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function WI(n,e={}){return ua(n,"GET","/v2/passwordPolicy",pp(n,e))}const HI=6;class qI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class GI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rc(this,{idToken:e}),i=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(zs(this));const t=e?$n(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WI(this),t=new qI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await UI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kc(n){return $n(n)}class Xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=cS(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(n){yp=n}function YI(n){return yp.loadJS(n)}function QI(){return yp.gapiScript}function JI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function XI(n,e){const t=cp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Hs(l,e??{}))return o;Mr(o,"already-initialized")}return t.initialize({options:e})}function ZI(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function eA(n,e,t){const i=Kc(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=E0(e),{host:h,port:f}=tA(e),g=f===null?"":`:${f}`,y={url:`${l}//${h}${g}/`},_=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Hs(y,i.config.emulator)&&Hs(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,aa(h)?(Z_(`${l}//${h}${g}`),Q1("Auth",!0)):nA()}function E0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tA(n){const e=E0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Zy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Zy(h)}}}function Zy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class T0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function Yo(n,e){return xI(n,"POST","/v1/accounts:signInWithIdp",pp(n,e))}const rA="http://localhost";class Gs extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new Gs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Yo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:rA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ml extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Ml{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";class Nr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Nr.credential(t,i)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Ki extends Ml{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";class Yi extends Ml{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Yi.credential(t,i)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await nr._fromIdTokenResponse(e,i,o),h=ev(i);return new ea({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ev(i);return new ea({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ev(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Dc extends gi{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Dc(e,t,i,o)}}function C0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,l,e,i):l})}async function iA(n,e,t=!1){const i=await vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",i)}async function sA(n,e,t=!1){const{auth:i}=n;if(tr(i.app))return Promise.reject(zs(i));const o="reauthenticate";try{const l=await vl(n,C0(i,o,e,n),t);Te(l.idToken,i,"internal-error");const h=mp(l.idToken);Te(h,i,"internal-error");const{sub:f}=h;return Te(n.uid===f,i,"user-mismatch"),ea._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mr(i,"user-mismatch"),l}}async function oA(n,e,t=!1){if(tr(n.app))return Promise.reject(zs(n));const i="signIn",o=await C0(n,i,e),l=await ea._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function aA(n,e,t,i){return $n(n).onIdTokenChanged(e,t,i)}function lA(n,e,t){return $n(n).beforeAuthStateChanged(e,t)}function _p(n,e,t,i){return $n(n).onAuthStateChanged(e,t,i)}function uA(n){return $n(n).signOut()}const Pc="__sak";class S0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cA=1e3,hA=10;class I0 extends S0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);zI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},cA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const dA=I0;class A0 extends S0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}A0.type="SESSION";const R0=A0;function fA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Yc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),g=await fA(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];function wp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class pA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const y=wp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(_),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function br(){return window}function mA(n){br().location.href=n}function k0(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function gA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yA(){return navigator?.serviceWorker?.controller||null}function vA(){return k0()?self:null}const D0="firebaseLocalStorageDb",_A=1,xc="firebaseLocalStorage",P0="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qc(n,e){return n.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function wA(){const n=indexedDB.deleteDatabase(D0);return new Fl(n).toPromise()}function Cf(){const n=indexedDB.open(D0,_A);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xc,{keyPath:P0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xc)?e(i):(i.close(),await wA(),e(await Cf()))})})}async function tv(n,e,t){const i=Qc(n,!0).put({[P0]:e,value:t});return new Fl(i).toPromise()}async function EA(n,e){const t=Qc(n,!1).get(e),i=await new Fl(t).toPromise();return i===void 0?null:i.value}function nv(n,e){const t=Qc(n,!0).delete(e);return new Fl(t).toPromise()}const TA=800,CA=3;class x0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>CA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(vA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gA(),!this.activeServiceWorker)return;this.sender=new pA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await tv(e,Pc,"1"),await nv(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Qc(o,!1).getAll();return new Fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x0.type="LOCAL";const SA=x0;new Ll(3e4,6e4);function N0(n,e){return e?li(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ep extends T0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function IA(n){return oA(n.auth,new Ep(n),n.bypassAuthState)}function AA(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),sA(t,new Ep(n),n.bypassAuthState)}async function RA(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),iA(t,new Ep(n),n.bypassAuthState)}class b0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IA;case"linkViaPopup":case"linkViaRedirect":return RA;case"reauthViaPopup":case"reauthViaRedirect":return AA;default:Mr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kA=new Ll(2e3,1e4);async function O0(n,e,t){if(tr(n.app))return Promise.reject(ir(n,"operation-not-supported-in-this-environment"));const i=Kc(n);SI(n,e,vp);const o=N0(i,t);return new Us(i,"signInViaPopup",e,o).executeNotNull()}class Us extends b0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kA.get())};e()}}Us.currentPopupAction=null;const DA="pendingRedirect",pc=new Map;class PA extends b0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const i=await xA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xA(n,e){const t=OA(e),i=bA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function NA(n,e){pc.set(n._key(),e)}function bA(n){return li(n._redirectPersistence)}function OA(n){return fc(DA,n.config.apiKey,n.name)}async function VA(n,e,t=!1){if(tr(n.app))return Promise.reject(zs(n));const i=Kc(n),o=N0(i,e),h=await new PA(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const LA=600*1e3;class MA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!V0(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LA&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(e))}saveEventToCache(e){this.cachedEventUids.add(rv(e)),this.lastProcessedEventTime=Date.now()}}function rv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function V0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(n);default:return!1}}async function jA(n,e={}){return ua(n,"GET","/v1/projects",e)}const UA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BA=/^https?/;async function zA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jA(n);for(const t of e)try{if($A(t))return}catch{}Mr(n,"unauthorized-domain")}function $A(n){const e=Ef(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!BA.test(t))return!1;if(UA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const WA=new Ll(3e4,6e4);function iv(){const n=br().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HA(n){return new Promise((e,t)=>{function i(){iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iv(),t(ir(n,"network-request-failed"))},timeout:WA.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)i();else{const o=JI("iframefcb");return br()[o]=()=>{gapi.load?i():t(ir(n,"network-request-failed"))},YI(`${QI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw mc=null,e})}let mc=null;function qA(n){return mc=mc||HA(n),mc}const GA=new Ll(5e3,15e3),KA="__/auth/iframe",YA="emulator/auth/iframe",QA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XA(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fp(e,YA):`https://${n.config.authDomain}/${KA}`,i={apiKey:e.apiKey,appName:n.name,v:la},o=JA.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Vl(i).slice(1)}`}async function ZA(n){const e=await qA(n),t=br().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:XA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QA,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=ir(n,"network-request-failed"),f=br().setTimeout(()=>{l(h)},GA.get());function g(){br().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(h)})}))}const eR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tR=500,nR=600,rR="_blank",iR="http://localhost";class sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sR(n,e,t,i=tR,o=nR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={...eR,width:i.toString(),height:o.toString(),top:l,left:h},y=Jt().toLowerCase();t&&(f=p0(y)?rR:t),d0(y)&&(e=e||iR,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[V,H])=>`${S}${V}=${H},`,"");if(BI(y)&&f!=="_self")return oR(e||"",f),new sv(null);const E=window.open(e||"",f,_);Te(E,n,"popup-blocked");try{E.focus()}catch{}return new sv(E)}function oR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const aR="__/auth/handler",lR="emulator/auth/handler",uR=encodeURIComponent("fac");async function ov(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof vp){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",uS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Ml){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const g=await n._getAppCheckToken(),y=g?`#${uR}=${encodeURIComponent(g)}`:"";return`${cR(n)}?${Vl(f).slice(1)}${y}`}function cR({config:n}){return n.emulator?fp(n,lR):`https://${n.authDomain}/${aR}`}const ef="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=VA,this._overrideRedirectResult=NA}async _openPopup(e,t,i,o){fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ov(e,t,i,Ef(),o);return sR(e,l,wp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ov(e,t,i,Ef(),o);return mA(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ZA(e),i=new MA(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},o=>{const l=o?.[0]?.[ef];l!==void 0&&t(!!l),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _0()||f0()||gp()}}const dR=hR;var av="@firebase/auth",lv="1.12.0";class fR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mR(n){Zo(new qs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(n)},y=new GI(i,o,l,g);return ZI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Zo(new qs("auth-internal",e=>{const t=Kc(e.getProvider("auth").getImmediate());return(i=>new fR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(av,lv,pR(n)),Zi(av,lv,"esm2020")}const gR=300,yR=X_("authIdTokenMaxAge")||gR;let uv=null;const vR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>yR)return;const o=t?.token;uv!==o&&(uv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _R(n=hI()){const e=cp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XI(n,{popupRedirectResolver:dR,persistence:[SA,dA,R0]}),i=X_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=vR(l.toString());lA(t,h,()=>h(t.currentUser)),aA(t,f=>h(f))}}const o=q1("auth");return o&&eA(t,`http://${o}`),t}function wR(){return document.getElementsByTagName("head")?.[0]??document}KI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",wR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mR("Browser");var ER="firebase",TR="12.8.0";Zi(ER,TR,"app");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,L0;(function(){var n;function e(P,A){function C(){}C.prototype=A.prototype,P.F=A.prototype,P.prototype=new C,P.prototype.constructor=P,P.D=function(D,x,M){for(var k=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)k[Re-2]=arguments[Re];return A.prototype[x].apply(D,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,C){C||(C=0);const D=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)D[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;x<16;++x)D[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=P.g[0],C=P.g[1],x=P.g[2];let M=P.g[3],k;k=A+(M^C&(x^M))+D[0]+3614090360&4294967295,A=C+(k<<7&4294967295|k>>>25),k=M+(x^A&(C^x))+D[1]+3905402710&4294967295,M=A+(k<<12&4294967295|k>>>20),k=x+(C^M&(A^C))+D[2]+606105819&4294967295,x=M+(k<<17&4294967295|k>>>15),k=C+(A^x&(M^A))+D[3]+3250441966&4294967295,C=x+(k<<22&4294967295|k>>>10),k=A+(M^C&(x^M))+D[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=M+(x^A&(C^x))+D[5]+1200080426&4294967295,M=A+(k<<12&4294967295|k>>>20),k=x+(C^M&(A^C))+D[6]+2821735955&4294967295,x=M+(k<<17&4294967295|k>>>15),k=C+(A^x&(M^A))+D[7]+4249261313&4294967295,C=x+(k<<22&4294967295|k>>>10),k=A+(M^C&(x^M))+D[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=M+(x^A&(C^x))+D[9]+2336552879&4294967295,M=A+(k<<12&4294967295|k>>>20),k=x+(C^M&(A^C))+D[10]+4294925233&4294967295,x=M+(k<<17&4294967295|k>>>15),k=C+(A^x&(M^A))+D[11]+2304563134&4294967295,C=x+(k<<22&4294967295|k>>>10),k=A+(M^C&(x^M))+D[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=M+(x^A&(C^x))+D[13]+4254626195&4294967295,M=A+(k<<12&4294967295|k>>>20),k=x+(C^M&(A^C))+D[14]+2792965006&4294967295,x=M+(k<<17&4294967295|k>>>15),k=C+(A^x&(M^A))+D[15]+1236535329&4294967295,C=x+(k<<22&4294967295|k>>>10),k=A+(x^M&(C^x))+D[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=M+(C^x&(A^C))+D[6]+3225465664&4294967295,M=A+(k<<9&4294967295|k>>>23),k=x+(A^C&(M^A))+D[11]+643717713&4294967295,x=M+(k<<14&4294967295|k>>>18),k=C+(M^A&(x^M))+D[0]+3921069994&4294967295,C=x+(k<<20&4294967295|k>>>12),k=A+(x^M&(C^x))+D[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=M+(C^x&(A^C))+D[10]+38016083&4294967295,M=A+(k<<9&4294967295|k>>>23),k=x+(A^C&(M^A))+D[15]+3634488961&4294967295,x=M+(k<<14&4294967295|k>>>18),k=C+(M^A&(x^M))+D[4]+3889429448&4294967295,C=x+(k<<20&4294967295|k>>>12),k=A+(x^M&(C^x))+D[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=M+(C^x&(A^C))+D[14]+3275163606&4294967295,M=A+(k<<9&4294967295|k>>>23),k=x+(A^C&(M^A))+D[3]+4107603335&4294967295,x=M+(k<<14&4294967295|k>>>18),k=C+(M^A&(x^M))+D[8]+1163531501&4294967295,C=x+(k<<20&4294967295|k>>>12),k=A+(x^M&(C^x))+D[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=M+(C^x&(A^C))+D[2]+4243563512&4294967295,M=A+(k<<9&4294967295|k>>>23),k=x+(A^C&(M^A))+D[7]+1735328473&4294967295,x=M+(k<<14&4294967295|k>>>18),k=C+(M^A&(x^M))+D[12]+2368359562&4294967295,C=x+(k<<20&4294967295|k>>>12),k=A+(C^x^M)+D[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=M+(A^C^x)+D[8]+2272392833&4294967295,M=A+(k<<11&4294967295|k>>>21),k=x+(M^A^C)+D[11]+1839030562&4294967295,x=M+(k<<16&4294967295|k>>>16),k=C+(x^M^A)+D[14]+4259657740&4294967295,C=x+(k<<23&4294967295|k>>>9),k=A+(C^x^M)+D[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=M+(A^C^x)+D[4]+1272893353&4294967295,M=A+(k<<11&4294967295|k>>>21),k=x+(M^A^C)+D[7]+4139469664&4294967295,x=M+(k<<16&4294967295|k>>>16),k=C+(x^M^A)+D[10]+3200236656&4294967295,C=x+(k<<23&4294967295|k>>>9),k=A+(C^x^M)+D[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=M+(A^C^x)+D[0]+3936430074&4294967295,M=A+(k<<11&4294967295|k>>>21),k=x+(M^A^C)+D[3]+3572445317&4294967295,x=M+(k<<16&4294967295|k>>>16),k=C+(x^M^A)+D[6]+76029189&4294967295,C=x+(k<<23&4294967295|k>>>9),k=A+(C^x^M)+D[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=M+(A^C^x)+D[12]+3873151461&4294967295,M=A+(k<<11&4294967295|k>>>21),k=x+(M^A^C)+D[15]+530742520&4294967295,x=M+(k<<16&4294967295|k>>>16),k=C+(x^M^A)+D[2]+3299628645&4294967295,C=x+(k<<23&4294967295|k>>>9),k=A+(x^(C|~M))+D[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=M+(C^(A|~x))+D[7]+1126891415&4294967295,M=A+(k<<10&4294967295|k>>>22),k=x+(A^(M|~C))+D[14]+2878612391&4294967295,x=M+(k<<15&4294967295|k>>>17),k=C+(M^(x|~A))+D[5]+4237533241&4294967295,C=x+(k<<21&4294967295|k>>>11),k=A+(x^(C|~M))+D[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=M+(C^(A|~x))+D[3]+2399980690&4294967295,M=A+(k<<10&4294967295|k>>>22),k=x+(A^(M|~C))+D[10]+4293915773&4294967295,x=M+(k<<15&4294967295|k>>>17),k=C+(M^(x|~A))+D[1]+2240044497&4294967295,C=x+(k<<21&4294967295|k>>>11),k=A+(x^(C|~M))+D[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=M+(C^(A|~x))+D[15]+4264355552&4294967295,M=A+(k<<10&4294967295|k>>>22),k=x+(A^(M|~C))+D[6]+2734768916&4294967295,x=M+(k<<15&4294967295|k>>>17),k=C+(M^(x|~A))+D[13]+1309151649&4294967295,C=x+(k<<21&4294967295|k>>>11),k=A+(x^(C|~M))+D[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=M+(C^(A|~x))+D[11]+3174756917&4294967295,M=A+(k<<10&4294967295|k>>>22),k=x+(A^(M|~C))+D[2]+718787259&4294967295,x=M+(k<<15&4294967295|k>>>17),k=C+(M^(x|~A))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.v=function(P,A){A===void 0&&(A=P.length);const C=A-this.blockSize,D=this.C;let x=this.h,M=0;for(;M<A;){if(x==0)for(;M<=C;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<A;)if(D[x++]=P.charCodeAt(M++),x==this.blockSize){o(this,D),x=0;break}}else for(;M<A;)if(D[x++]=P[M++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=A},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var C=P.length-8;C<P.length;++C)P[C]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)P[A++]=this.g[C]>>>D&255;return P};function l(P,A){var C=f;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=A(P)}function h(P,A){this.h=A;const C=[];let D=!0;for(let x=P.length-1;x>=0;x--){const M=P[x]|0;D&&M==A||(C[x]=M,D=!1)}this.g=C}var f={};function g(P){return-128<=P&&P<128?l(P,function(A){return new h([A|0],A<0?-1:0)}):new h([P|0],P<0?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return E;if(P<0)return b(y(-P));const A=[];let C=1;for(let D=0;P>=C;D++)A[D]=P/C|0,C*=4294967296;return new h(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return b(_(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let D=E;for(let M=0;M<P.length;M+=8){var x=Math.min(8,P.length-M);const k=parseInt(P.substring(M,M+x),A);x<8?(x=y(Math.pow(A,x)),D=D.j(x).add(y(k))):(D=D.j(C),D=D.add(y(k)))}return D}var E=g(0),S=g(1),V=g(16777216);n=h.prototype,n.m=function(){if(j(this))return-b(this).m();let P=0,A=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);P+=(D>=0?D:4294967296+D)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(H(this))return"0";if(j(this))return"-"+b(this).toString(P);const A=y(Math.pow(P,6));var C=this;let D="";for(;;){const x=le(C,A).g;C=q(C,x.j(A));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(P);if(C=x,H(C))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function H(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=q(this,P),j(P)?-1:H(P)?0:1};function b(P){const A=P.g.length,C=[];for(let D=0;D<A;D++)C[D]=~P.g[D];return new h(C,~P.h).add(S)}n.abs=function(){return j(this)?b(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),C=[];let D=0;for(let x=0;x<=A;x++){let M=D+(this.i(x)&65535)+(P.i(x)&65535),k=(M>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);D=k>>>16,M&=65535,k&=65535,C[x]=k<<16|M}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(P,A){return P.add(b(A))}n.j=function(P){if(H(this)||H(P))return E;if(j(this))return j(P)?b(this).j(b(P)):b(b(this).j(P));if(j(P))return b(this.j(b(P)));if(this.l(V)<0&&P.l(V)<0)return y(this.m()*P.m());const A=this.g.length+P.g.length,C=[];for(var D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<P.g.length;x++){const M=this.i(D)>>>16,k=this.i(D)&65535,Re=P.i(x)>>>16,Ye=P.i(x)&65535;C[2*D+2*x]+=k*Ye,G(C,2*D+2*x),C[2*D+2*x+1]+=M*Ye,G(C,2*D+2*x+1),C[2*D+2*x+1]+=k*Re,G(C,2*D+2*x+1),C[2*D+2*x+2]+=M*Re,G(C,2*D+2*x+2)}for(P=0;P<A;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=A;P<2*A;P++)C[P]=0;return new h(C,0)};function G(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function ne(P,A){this.g=P,this.h=A}function le(P,A){if(H(A))throw Error("division by zero");if(H(P))return new ne(E,E);if(j(P))return A=le(b(P),A),new ne(b(A.g),b(A.h));if(j(A))return A=le(P,b(A)),new ne(b(A.g),A.h);if(P.g.length>30){if(j(P)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,D=A;D.l(P)<=0;)C=me(C),D=me(D);var x=ee(C,1),M=ee(D,1);for(D=ee(D,2),C=ee(C,2);!H(D);){var k=M.add(D);k.l(P)<=0&&(x=x.add(C),M=k),D=ee(D,1),C=ee(C,1)}return A=q(P,x.j(A)),new ne(x,A)}for(x=E;P.l(A)>=0;){for(C=Math.max(1,Math.floor(P.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=y(C),k=M.j(A);j(k)||k.l(P)>0;)C-=D,M=y(C),k=M.j(A);H(M)&&(M=S),x=x.add(M),P=q(P,k)}return new ne(x,P)}n.B=function(P){return le(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)&P.i(D);return new h(C,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)|P.i(D);return new h(C,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)^P.i(D);return new h(C,this.h^P.h)};function me(P){const A=P.g.length+1,C=[];for(let D=0;D<A;D++)C[D]=P.i(D)<<1|P.i(D-1)>>>31;return new h(C,P.h)}function ee(P,A){const C=A>>5;A%=32;const D=P.g.length-C,x=[];for(let M=0;M<D;M++)x[M]=A>0?P.i(M+C)>>>A|P.i(M+C+1)<<32-A:P.i(M+C);return new h(x,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,L0=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,es=h}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var M0,rl,F0,gc,Sf,j0,U0,B0;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in v))break e;v=v[B]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var l=l||{},h=this||self;function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function _(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,B,W){for(var ie=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ie[Ie-2]=arguments[Ie];return m.prototype[B].apply(T,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function H(u,m){for(let T=1;T<arguments.length;T++){const B=arguments[T];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=u.length||0;const W=B.length||0;u.length=v+W;for(let ie=0;ie<W;ie++)u[v+ie]=B[ie]}else u.push(B)}}class j{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(u){h.setTimeout(()=>{throw u},0)}function q(){var u=P;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,v){const T=ne.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new j(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ee=!1,P=new G,A=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(C)}};function C(){for(var u;u=q();){try{u.h.call(u.g)}catch(v){b(v)}var m=ne;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ee=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function Re(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}E(Re,x),Re.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),De=0;function Fe(u,m,v,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=B,this.key=++De,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function K(u){const m={};for(const v in u)m[v]=u[v];return m}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(u,m){let v,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(v in T)u[v]=T[v];for(let W=0;W<oe.length;W++)v=oe[W],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,m,v,T,B){const W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);const ie=Pe(u,m,T,B);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new Fe(m,this.src,W,!!T,B),m.fa=v,u.push(m)),m};function je(u,m){const v=m.type;if(v in u.g){var T=u.g[v],B=Array.prototype.indexOf.call(T,m,void 0),W;(W=B>=0)&&Array.prototype.splice.call(T,B,1),W&&(re(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Pe(u,m,v,T){for(let B=0;B<u.length;++B){const W=u[B];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==T)return B}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),xe={};function Qe(u,m,v,T,B){if(Array.isArray(m)){for(let W=0;W<m.length;W++)Qe(u,m[W],v,T,B);return null}return v=vi(v),u&&u[Ye]?u.J(m,v,f(T)?!!T.capture:!1,B):hs(u,m,v,!1,T,B)}function hs(u,m,v,T,B,W){if(!m)throw Error("Invalid event type");const ie=f(B)?!!B.capture:!!B;let Ie=St(u);if(Ie||(u[Ne]=Ie=new we(u)),v=Ie.add(m,v,T,ie,W),v.proxy)return v;if(T=or(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)M||(B=ie),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(Je(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function or(){function u(v){return m.call(u.src,u.listener,v)}const m=lr;return u}function ar(u,m,v,T,B){if(Array.isArray(m))for(var W=0;W<m.length;W++)ar(u,m[W],v,T,B);else T=f(T)?!!T.capture:!!T,v=vi(v),u&&u[Ye]?(u=u.i,W=String(m).toString(),W in u.g&&(m=u.g[W],v=Pe(m,v,T,B),v>-1&&(re(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[W],u.h--)))):u&&(u=St(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pe(m,v,T,B)),(v=u>-1?m[u]:null)&&Rn(v))}function Rn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ye])je(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Je(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=St(m))?(je(v,u),v.h==0&&(v.src=null,m[Ne]=null)):re(u)}}}function Je(u){return u in xe?xe[u]:xe[u]="on"+u}function lr(u,m){if(u.da)u=!0;else{m=new Re(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Rn(u),u=v.call(T,m)}return u}function St(u){return u=u[Ne],u instanceof we?u:null}var kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function vi(u){return typeof u=="function"?u:(u[kn]||(u[kn]=function(m){return u.handleEvent(m)}),u[kn])}function at(){D.call(this),this.i=new we(this),this.M=this,this.G=null}E(at,D),at.prototype[Ye]=!0,at.prototype.removeEventListener=function(u,m,v,T){ar(this,u,m,v,T)};function lt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var B=m;m=new x(T,u),Ce(m,B)}B=!0;let W,ie;if(v)for(ie=v.length-1;ie>=0;ie--)W=m.g=v[ie],B=fn(W,T,!0,m)&&B;if(W=m.g=u,B=fn(W,T,!0,m)&&B,B=fn(W,T,!1,m)&&B,v)for(ie=0;ie<v.length;ie++)W=m.g=v[ie],B=fn(W,T,!1,m)&&B}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)re(v[T]);delete u.g[m],u.h--}}this.G=null},at.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},at.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let B=!0;for(let W=0;W<m.length;++W){const ie=m[W];if(ie&&!ie.da&&ie.capture==v){const Ie=ie.listener,gt=ie.ha||ie.src;ie.fa&&je(u.i,ie),B=Ie.call(gt,T)!==!1&&B}}return B&&!T.defaultPrevented}function ds(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:h.setTimeout(u,m||0)}function _i(u){u.g=ds(()=>{u.g=null,u.i&&(u.i=!1,_i(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ro extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){D.call(this),this.h=u,this.g={}}E(ur,D);var fs=[];function wi(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&Rn(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),wi(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=h.JSON.stringify,Ei=h.JSON.parse,hr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Hn(){}function io(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Br(){x.call(this,"d")}E(Br,x);function ps(){x.call(this,"c")}E(ps,x);var tn={},zr=null;function Dn(){return zr=zr||new at}tn.Ia="serverreachability";function Ti(u){x.call(this,tn.Ia,u)}E(Ti,x);function Pn(u){const m=Dn();lt(m,new Ti(m))}tn.STAT_EVENT="statevent";function qn(u,m){x.call(this,tn.STAT_EVENT,u),this.stat=m}E(qn,x);function Ze(u){const m=Dn();lt(m,new qn(m,u))}tn.Ja="timingevent";function _t(u,m){x.call(this,tn.Ja,u),this.size=m}E(_t,x);function ut(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.ua=function(){this.g=!1};function qe(u,m,v,T,B,W){u.info(function(){if(u.g)if(W){var ie="",Ie=W.split("&");for(let He=0;He<Ie.length;He++){var gt=Ie[He].split("=");if(gt.length>1){const wt=gt[0];gt=gt[1];const Cn=wt.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(wt+"="+gt+"&"):ie+(wt+"=redacted&")}}}else ie=null;else ie=W;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+v+`
`+ie})}function Xt(u,m,v,T,B,W,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+v+`
`+W+" "+ie})}function xn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dr(u,v)+(T?" "+T:"")})}function Ci(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function dr(u,m){if(!u.g)return m;if(!m)return null;try{const W=JSON.parse(m);if(W){for(u=0;u<W.length;u++)if(Array.isArray(W[u])){var v=W[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var B=T[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return cr(W)}catch{return m}}var Gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function gn(){}E(gn,Hn),gn.prototype.g=function(){return new XMLHttpRequest},$r=new gn;function nn(u){return encodeURIComponent(String(u))}function fr(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function rn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var ms={},gs={};function yn(u,m,v){u.M=1,u.A=Gr(bn(m)),u.u=v,u.R=!0,ke(u,null)}function ke(u,m){u.F=Date.now(),It(u),u.B=bn(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Sa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Si,u.g=eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ro(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(fs[0]=B.toString()),B=fs);for(let W=0;W<B.length;W++){const ie=Qe(v,B[W],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?K(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Pn(),qe(u.i,u.v,u.B,u.l,u.S,u.u)}rn.prototype.ba=function(u){u=u.target;const m=this.O;m&&wr(u)==3?m.j():this.Y(u)},rn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=wr(this.g),gt=this.g.ya(),He=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Xl(this.g)))){this.K||Ie!=4||gt==7||(gt==8||He<=0?Pn(3):Pn(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Ge(this);if(this.o=m==200,Xt(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(T)){var W=T;break t}}W=null}if(u=W)xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,u);else{this.o=!1,this.m=3,Ze(12),qr(this),Hr(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<v.length;)if(wt=$t(this,v),wt==gs){Ie==4&&(this.m=4,Ze(14),u=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==ms){this.m=4,Ze(15),xn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else xn(this.i,this.l,wt,null),tt(this,wt);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Ze(16),u=!1),this.o=this.o&&u,!u)xn(this.i,this.l,v,"[Invalid Chunked Response]"),qr(this),Hr(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Is(ie),ie.P=!0,Ze(11))}}else xn(this.i,this.l,v,null),tt(this,v);Ie==4&&qr(this),this.o&&!this.K&&(Ie==4?mo(this.j,this):(this.o=!1,It(this)))}else Aa(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),qr(this),Hr(this)}}}catch{}};function Ge(u){if(!et(u))return u.g.la();const m=Xl(u.g);if(m==="")return"";let v="";const T=m.length,B=wr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return qr(u),Hr(u),"";u.h.i=new h.TextDecoder}for(let W=0;W<T;W++)u.h.h=!0,v+=u.h.i.decode(m[W],{stream:!(B&&W==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function et(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $t(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?gs:(v=Number(m.substring(v,T)),isNaN(v)?ms:(T+=1,T+v>m.length?gs:(m=m.slice(T,T+v),u.C=T+v,m)))}rn.prototype.cancel=function(){this.K=!0,qr(this)};function It(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ut(y(u.aa,u),m)}function Ii(u){u.D&&(h.clearTimeout(u.D),u.D=null)}rn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ci(this.i,this.B),this.M!=2&&(Pn(),Ze(17)),qr(this),this.m=2,Hr(this)):Wr(this,this.T-u)};function Hr(u){u.j.I==0||u.K||mo(u.j,u)}function qr(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function tt(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ya(v.h,u))){if(!u.L&&ya(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)po(v),En(v);else break e;Cr(v),Ze(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ut(y(v.Va,v),6e3));ys(v.h)<=1&&v.ta&&(v.ta=void 0)}else Tn(v,11)}else if((u.L||v.g==u)&&po(v),!k(m))for(B=v.Ba.g.parse(m),m=0;m<B.length;m++){let He=B[m];const wt=He[0];if(!(wt<=v.K))if(v.K=wt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Xr=He[4];Xr!=null&&(v.za=Xr,v.j.info("SVER="+v.za));const Sr=He[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(T=1.5*Sr,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Ir=u.g;if(Ir){const vo=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var W=T.h;W.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(oo(W,W.h),W.h=null))}if(T.G){const Da=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(T.wa=Da,$e(T.J,T.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ie=u;if(T.na=ka(T,T.L?T.ba:null,T.W),ie.L){vs(T.h,ie);var Ie=ie,gt=T.O;gt&&(Ie.H=gt),Ie.D&&(Ii(Ie),It(Ie)),T.g=ie}else Wt(T);v.i.length>0&&Jr(v)}else He[0]!="stop"&&He[0]!="close"||Tn(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Tn(v,7):ho(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}Pn(4)}catch{}}var yh=class{constructor(u,m){this.g=u,this.map=m}};function so(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ys(u){return u.h?1:u.g?u.g.size:0}function ya(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function oo(u,m){u.g?u.g.add(m):u.h=m}function vs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}so.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return V(u.i)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _n(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let B,W=null;T>=0?(B=u[v].substring(0,T),W=u[v].substring(T+1)):B=u[v],m(B,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function pr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pr?(this.l=u.l,_s(this,u.j),this.o=u.o,this.g=u.g,mr(this,u.u),this.h=u.h,Ai(this,Ia(u.i)),this.m=u.m):u&&(m=String(u).match(Kl))?(this.l=!1,_s(this,m[1]||"",!0),this.o=ws(m[2]||""),this.g=ws(m[3]||"",!0),mr(this,m[4]),this.h=ws(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=ws(m[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}pr.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Es(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Es(m,_a,!0),"@"),u.push(nn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Es(v,v.charAt(0)=="/"?Ts:wa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Es(v,Ea)),u.join("")},pr.prototype.resolve=function(u){const m=bn(this);let v=!!u.j;v?_s(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)mr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var B=m.h.lastIndexOf("/");B!=-1&&(T=m.h.slice(0,B+1)+T)}if(B=T,B==".."||B==".")T="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){T=B.lastIndexOf("/",0)==0,B=B.split("/");const W=[];for(let ie=0;ie<B.length;){const Ie=B[ie++];Ie=="."?T&&ie==B.length&&W.push(""):Ie==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),T&&ie==B.length&&W.push("")):(W.push(Ie),T=!0)}T=W.join("/")}else T=B}return v?m.h=T:v=u.i.toString()!=="",v?Ai(m,Ia(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bn(u){return new pr(u)}function _s(u,m,v){u.j=v?ws(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function mr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ai(u,m,v){m instanceof Me?(u.i=m,lo(u.i,u.l)):(v||(m=Es(m,vh)),u.i=new Me(m,u.l))}function $e(u,m,v){u.i.set(m,v)}function Gr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ws(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Es(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,va),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function va(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,wa=/[#\?:]/g,Ts=/[#\?]/g,vh=/[#\?@]/g,Ea=/#/g;function Me(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gr(u){u.g||(u.g=new Map,u.h=0,u.i&&_n(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Me.prototype,n.add=function(u,m){gr(this),this.i=null,u=yr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ta(u,m){gr(u),m=yr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ao(u,m){return gr(u),m=yr(u,m),u.g.has(m)}n.forEach=function(u,m){gr(this),this.g.forEach(function(v,T){v.forEach(function(B){u.call(m,B,T,this)},this)},this)};function Ca(u,m){gr(u);let v=[];if(typeof m=="string")ao(u,m)&&(v=v.concat(u.g.get(yr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}n.set=function(u,m){return gr(this),this.i=null,u=yr(this,u),ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=Ca(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){Ta(u,m),v.length>0&&(u.i=null,u.g.set(yr(u,m),V(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const B=nn(v);v=Ca(this,v);for(let W=0;W<v.length;W++){let ie=B;v[W]!==""&&(ie+="="+nn(v[W])),u.push(ie)}}return this.i=u.join("&")};function Ia(u){const m=new Me;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function yr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function lo(u,m){m&&!u.j&&(gr(u),u.i=null,u.g.forEach(function(v,T){const B=T.toLowerCase();T!=B&&(Ta(this,T),Sa(this,B,v))},u)),u.j=m}function vr(u,m){const v=new mn;if(h.Image){const T=new Image;T.onload=_(Vt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=_(Vt,v,"TestLoadImage: error",!1,m,T),T.onabort=_(Vt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=_(Vt,v,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function _r(u,m){const v=new mn,T=new AbortController,B=setTimeout(()=>{T.abort(),Vt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(W=>{clearTimeout(B),W.ok?Vt(v,"TestPingServer: ok",!0,m):Vt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Vt(v,"TestPingServer: error",!1,m)})}function Vt(u,m,v,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(v)}catch{}}function Cs(){this.g=new hr}function Kr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Kr,Hn),Kr.prototype.g=function(){return new wn(this.i,this.h)};function wn(u,m){at.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(wn,at),n=wn.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||h).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ri(this):Kn(this),this.readyState==3&&Yl(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Ri(this))},n.Na=function(u){this.g&&(this.response=u,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}n.setRequestHeader=function(u,m){this.A.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ql(u){let m="";return ce(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function uo(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Ql(v),typeof u=="string"?v!=null&&nn(v):$e(u,m,v))}function Ke(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ke,at);var Jl=/^https?$/i,_h=["POST","PUT"];n=Ke.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){ki(this,W);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)v.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())v.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(_h,m,void 0)>=0)||T||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of v)this.g.setRequestHeader(W,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(W){ki(this,W)}};function ki(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Di(u),Qr(u)}function Di(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Ke.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(u){if(u.h&&typeof l<"u"){if(u.v&&wr(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),wr(u)==4){u.h=!1;try{const W=u.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=W===0){let ie=String(u.D).match(Kl)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),T=!Jl.test(ie?ie.toLowerCase():"")}v=T}if(v)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var B=wr(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",Di(u)}}finally{Qr(u)}}}}function Qr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||lt(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ei(m)}};function Xl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Aa(u){const m={};u=(u.g&&wr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(k(u[T]))continue;var v=fr(u[T]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[B]||[];m[B]=W,W.push(v)}N(m,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function co(u){this.za=0,this.i=[],this.j=new mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,u),this.Za=Er("retryDelaySeedMs",1e4,u),this.Ta=Er("forwardChannelMaxRetries",2,u),this.va=Er("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new so(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=co.prototype,n.ka=8,n.I=1,n.connect=function(u,m,v,T){Ze(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=ka(this,null,this.W),Jr(this)};function ho(u){if(fo(u),u.I==3){var m=u.V++,v=bn(u.J);if($e(v,"SID",u.M),$e(v,"RID",m),$e(v,"TYPE","terminate"),Tr(u,v),m=new rn(u,u.j,m),m.M=2,m.A=Gr(bn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.A,v=!0),v||(m.g=eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),It(m)}As(u)}function En(u){u.g&&(Is(u),u.g.cancel(),u.g=null)}function fo(u){En(u),u.v&&(h.clearTimeout(u.v),u.v=null),po(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Jr(u){if(!ga(u.h)&&!u.m){u.m=!0;var m=u.Ea;me||A(),ee||(me(),ee=!0),P.add(m,u),u.D=0}}function Zl(u,m){return ys(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ut(y(u.Ea,u,m),go(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new rn(this,this.j,u);let W=this.o;if(this.U&&(W?(W=K(W),Ce(W,this.U)):W=this.U),this.u!==null||this.R||(B.J=W,W=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ra(this,B,m),v=bn(this.J),$e(v,"RID",u),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Tr(this,v),W&&(this.R?m="headers="+nn(Ql(W))+"&"+m:this.u&&uo(v,this.u,W)),oo(this.h,B),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",m),$e(v,"SID","null"),B.U=!0,yn(B,v,null)):yn(B,v,m),this.I=2}}else this.I==3&&(u?Ss(this,u):this.i.length==0||ga(this.h)||Ss(this))};function Ss(u,m){var v;m?v=m.l:v=u.V++;const T=bn(u.J);$e(T,"SID",u.M),$e(T,"RID",v),$e(T,"AID",u.K),Tr(u,T),u.u&&u.o&&uo(T,u.u,u.o),v=new rn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ra(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),oo(u.h,v),yn(v,T,m)}function Tr(u,m){u.H&&ce(u.H,function(v,T){$e(m,T,v)}),u.l&&ce({},function(v,T){$e(m,T,v)})}function Ra(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=B[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let He=!0;for(let wt=0;wt<v;wt++){var W=B[wt].g;const Cn=B[wt].map;if(W-=Ie,W<0)Ie=Math.max(0,B[wt].g-100),He=!1;else try{W="req"+W+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Xr,Sr]of ie){let Ir=Sr;f(Sr)&&(Ir=cr(Sr)),gt.push(W+Xr+"="+encodeURIComponent(Ir))}}catch(Xr){throw gt.push(W+"type="+encodeURIComponent("_badmap")),Xr}}catch{T&&T(Cn)}}if(He){ie=gt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Wt(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;me||A(),ee||(me(),ee=!0),P.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ut(y(u.Da,u),go(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ut(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),En(this),Pi(this))};function Is(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Pi(u){u.g=new rn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bn(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&uo(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Gr(bn(m)),v.u=null,v.R=!0,ke(v,u)}n.Va=function(){this.C!=null&&(this.C=null,En(this),Cr(this),Ze(19))};function po(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function mo(u,m){var v=null;if(u.g==m){po(u),Is(u),u.g=null;var T=2}else if(ya(u.h,m))v=m.G,vs(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var B=u.D;T=Dn(),lt(T,new _t(T,v)),Jr(u)}else Wt(u);else if(B=m.m,B==3||B==0&&m.X>0||!(T==1&&Zl(u,m)||T==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),B){case 1:Tn(u,5);break;case 4:Tn(u,10);break;case 3:Tn(u,6);break;default:Tn(u,2)}}}function go(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Tn(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const B=!T;T=new pr(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_s(T,"https"),Gr(T),B?vr(T.toString(),v):_r(T.toString(),v)}else Ze(2);u.I=0,u.l&&u.l.pa(m),As(u),fo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function As(u){if(u.I=0,u.ja=[],u.l){const m=vn(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function ka(u,m,v){var T=v instanceof pr?bn(v):new pr(v);if(T.g!="")m&&(T.g=m+"."+T.g),mr(T,T.u);else{var B=h.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;const W=new pr(null);T&&_s(W,T),m&&(W.g=m),B&&mr(W,B),v&&(W.h=v),T=W}return v=u.G,m=u.wa,v&&m&&$e(T,v,m),$e(T,"VER",u.ka),Tr(u,T),T}function eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ke(new Kr({ab:v})):new Ke(u.ma),m.Fa(u.L),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}n=tu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function yo(){}yo.prototype.g=function(u,m){return new Lt(u,m)};function Lt(u,m){at.call(this),this.g=new co(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!k(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}E(Lt,at),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){ho(this.g)},Lt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cr(u),u=v);m.i.push(new yh(m.Ya++,u)),m.I==3&&Jr(m)},Lt.prototype.N=function(){this.g.l=null,delete this.j,ho(this.g),delete this.g,Lt.Z.N.call(this)};function nu(u){Br.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(nu,Br);function ru(){ps.call(this),this.status=1}E(ru,ps);function xi(u){this.g=u}E(xi,tu),xi.prototype.ra=function(){lt(this.g,"a")},xi.prototype.qa=function(u){lt(this.g,new nu(u))},xi.prototype.pa=function(u){lt(this.g,new ru)},xi.prototype.oa=function(){lt(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,B0=function(){return new yo},U0=function(){return Dn()},j0=tn,Sf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,gc=Gn,Nn.COMPLETE="complete",F0=Nn,io.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",at.prototype.listen=at.prototype.J,rl=io,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,M0=Ke}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let ca="12.8.0";function CR(n){ca=n}const Ks=new lp("@firebase/firestore");function Bo(){return Ks.logLevel}function ae(n,...e){if(Ks.logLevel<=Oe.DEBUG){const t=e.map(Tp);Ks.debug(`Firestore (${ca}): ${n}`,...t)}}function pi(n,...e){if(Ks.logLevel<=Oe.ERROR){const t=e.map(Tp);Ks.error(`Firestore (${ca}): ${n}`,...t)}}function _l(n,...e){if(Ks.logLevel<=Oe.WARN){const t=e.map(Tp);Ks.warn(`Firestore (${ca}): ${n}`,...t)}}function Tp(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function _e(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,z0(n,i,t)}function z0(n,e,t){let i=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw pi(i),new Error(i)}function We(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||z0(e,o,i)}function Ae(n,e){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class SR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ts,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ts)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new SR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class RR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new RR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=PR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function If(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return tf(o)===tf(l)?Ve(o,l):tf(o)?1:-1}return Ve(n.length,e.length)}const xR=55296,NR=57343;function tf(n){const e=n.charCodeAt(0);return e>=xR&&e<=NR}function ta(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}const dv="__name__";class xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&_e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=xr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const i=xr.isNumericId(e),o=xr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?xr.extractNumericId(e).compare(xr.extractNumericId(t)):If(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class dt extends xr{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends xr{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return bR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Ut([dv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function OR(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VR(n,e,t,i){if(e===!0&&i===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fv(n){if(!ve.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Nc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sp(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function jl(n,e){if(!$0(n))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new pe(J.INVALID_ARGUMENT,t);return!0}const pv=-62135596800,mv=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*mv);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pv)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wl=-1;function LR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new ns(o,ve.empty(),e)}function MR(n){return new ns(n.readTime,n.key,wl)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(Se.min(),ve.empty(),wl)}static max(){return new ns(Se.max(),ve.empty(),wl)}}function FR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}const jR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ha(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==jR)throw n;ae("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,i)=>{t(e)}))}static reject(e){return new Y(((t,i)=>{i(e)}))}static waitFor(e){return new Y(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>i(g)))})),h=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next((o=>o?Y.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Y(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next((_=>{h[y]=_,++f,f===l&&i(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new Y(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function BR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(n){return n.name==="IndexedDbTransactionError"}class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jc.ce=-1;const Ip=-1;function Xc(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function zR(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const W0="";function $R(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gv(e)),e=WR(n.get(t),e);return gv(e)}function WR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case W0:t+="";break;default:t+=l}}return t}function gv(n){return n+W0+""}function yv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??jt.RED,this.left=o??jt.EMPTY,this.right=l??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new jt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new rr([])}unionWith(e){let t=new Dt(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new q0("Invalid base64 string: "+l):l}})(e);return new zt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=HR.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}const G0="server_timestamp",K0="__type__",Y0="__previous_value__",Q0="__local_write_time__";function Ap(n){return(n?.mapValue?.fields||{})[K0]?.stringValue===G0}function Zc(n){const e=n.mapValue.fields[Y0];return Ap(e)?Zc(e):e}function El(n){const e=rs(n.mapValue.fields[Q0].timestampValue);return new it(e.seconds,e.nanos)}class qR{constructor(e,t,i,o,l,h,f,g,y,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_,this.apiKey=E}}const Oc="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}function GR(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(n.options.projectId,e)}const J0="__type__",KR="__max__",tc={mapValue:{}},X0="__vector__",Vc="value";function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ap(n)?4:QR(n)?9007199254740991:YR(n)?10:11:_e(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=rs(o.timestampValue),f=rs(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return is(o.bytesValue).isEqual(is(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=vt(o.doubleValue),f=vt(l.doubleValue);return h===f?bc(h)===bc(f):isNaN(h)&&isNaN(f)}return!1})(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(yv(h)!==yv(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Fr(h[g],f[g])))return!1;return!0})(n,e);default:return _e(52216,{left:n})}}function Cl(n,e){return(n.values||[]).find((t=>Fr(t,e)))!==void 0}function na(n,e){if(n===e)return 0;const t=ss(n),i=ss(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=vt(l.integerValue||l.doubleValue),g=vt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(n,e);case 3:return _v(n.timestampValue,e.timestampValue);case 4:return _v(El(n),El(e));case 5:return If(n.stringValue,e.stringValue);case 6:return(function(l,h){const f=is(l),g=is(h);return f.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const _=Ve(f[y],g[y]);if(_!==0)return _}return Ve(f.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ve(vt(l.latitude),vt(h.latitude));return f!==0?f:Ve(vt(l.longitude),vt(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return wv(n.arrayValue,e.arrayValue);case 10:return(function(l,h){const f=l.fields||{},g=h.fields||{},y=f[Vc]?.arrayValue,_=g[Vc]?.arrayValue,E=Ve(y?.values?.length||0,_?.values?.length||0);return E!==0?E:wv(y,_)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===tc.mapValue&&h===tc.mapValue)return 0;if(l===tc.mapValue)return 1;if(h===tc.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const S=If(g[E],_[E]);if(S!==0)return S;const V=na(f[g[E]],y[_[E]]);if(V!==0)return V}return Ve(g.length,_.length)})(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function _v(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=rs(n),i=rs(e),o=Ve(t.seconds,i.seconds);return o!==0?o:Ve(t.nanos,i.nanos)}function wv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=na(t[o],i[o]);if(l)return l}return Ve(t.length,i.length)}function ra(n){return Af(n)}function Af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=rs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return is(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Af(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Af(t.fields[h])}`;return o+"}"})(n.mapValue):_e(61005,{value:n})}function yc(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(n);return e?16+yc(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+yc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Js(i.fields,((l,h)=>{o+=l.length+yc(h)})),o})(n.mapValue);default:throw _e(13486,{value:n})}}function Rf(n){return!!n&&"integerValue"in n}function Rp(n){return!!n&&"arrayValue"in n}function Ev(n){return!!n&&"nullValue"in n}function Tv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vc(n){return!!n&&"mapValue"in n}function YR(n){return(n?.mapValue?.fields||{})[J0]?.stringValue===X0}function hl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=hl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hl(n.arrayValue.values[t]);return e}return{...n}}function QR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=hl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Js(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Un(hl(this.value))}}function Z0(n){const e=[];return Js(n.fields,((t,i)=>{const o=new Ut([t]);if(vc(i)){const l=Z0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new rr(e)}class Qt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Se.min(),Se.min(),Se.min(),Un.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Se.min(),Se.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Se.min(),Se.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lc{constructor(e,t){this.position=e,this.inclusive=t}}function Cv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(h.referenceValue),t.key):i=na(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}class Mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function JR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ew{}class kt extends ew{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ZR(e,t,i):t==="array-contains"?new nk(e,i):t==="in"?new rk(e,i):t==="not-in"?new ik(e,i):t==="array-contains-any"?new sk(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ek(e,i):new tk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jr(e,t)}matches(e){return tw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tw(n){return n.op==="and"}function nw(n){return XR(n)&&tw(n)}function XR(n){for(const e of n.filters)if(e instanceof jr)return!1;return!0}function kf(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(nw(n))return n.filters.map((e=>kf(e))).join(",");{const e=n.filters.map((t=>kf(t))).join(",");return`${n.op}(${e})`}}function rw(n,e){return n instanceof kt?(function(i,o){return o instanceof kt&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)})(n,e):n instanceof jr?(function(i,o){return o instanceof jr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&rw(h,o.filters[f])),!0):!1})(n,e):void _e(19439)}function iw(n){return n instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`})(n):n instanceof jr?(function(t){return t.op.toString()+" {"+t.getFilters().map(iw).join(" ,")+"}"})(n):"Filter"}class ZR extends kt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class ek extends kt{constructor(e,t){super(e,"in",t),this.keys=sw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tk extends kt{constructor(e,t){super(e,"not-in",t),this.keys=sw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sw(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class nk extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rp(t)&&Cl(t.arrayValue,this.value)}}class rk extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cl(this.value.arrayValue,t)}}class ik extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cl(this.value.arrayValue,t)}}class sk extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Cl(this.value.arrayValue,i)))}}class ok{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function Iv(n,e=null,t=[],i=[],o=null,l=null,h=null){return new ok(n,e,t,i,o,l,h)}function kp(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>kf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ra(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ra(i))).join(",")),e.Te=t}return e.Te}function Dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Sv(n.startAt,e.startAt)&&Sv(n.endAt,e.endAt)}function Df(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class eh{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ak(n,e,t,i,o,l,h,f){return new eh(n,e,t,i,o,l,h,f)}function Pp(n){return new eh(n)}function Av(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lk(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function uk(n){return n.collectionGroup!==null}function dl(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Dt(Ut.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mc(l,i))})),t.has(Ut.keyField().canonicalString())||e.Ie.push(new Mc(Ut.keyField(),i))}return e.Ie}function Or(n){const e=Ae(n);return e.Ee||(e.Ee=ck(e,dl(n))),e.Ee}function ck(n,e){if(n.limitType==="F")return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Mc(o.field,l)}));const t=n.endAt?new Lc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lc(n.startAt.position,n.startAt.inclusive):null;return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Pf(n,e,t){return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function th(n,e){return Dp(Or(n),Or(e))&&n.limitType===e.limitType}function ow(n){return`${kp(Or(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>iw(o))).join(", ")}]`),Xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ra(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ra(o))).join(",")),`Target(${i})`})(Or(n))}; limitType=${n.limitType})`}function nh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of dl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,g){const y=Cv(h,f,g);return h.inclusive?y<=0:y<0})(i.startAt,dl(i),o)||i.endAt&&!(function(h,f,g){const y=Cv(h,f,g);return h.inclusive?y>=0:y>0})(i.endAt,dl(i),o))})(n,e)}function hk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aw(n){return(e,t)=>{let i=!1;for(const o of dl(n)){const l=dk(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function dk(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),y=f.data.field(l);return g!==null&&y!==null?na(g,y):_e(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:n.dir})}}class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}const fk=new pt(ve.comparator);function mi(){return fk}const lw=new pt(ve.comparator);function il(...n){let e=lw;for(const t of n)e=e.insert(t.key,t);return e}function uw(n){let e=lw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Bs(){return fl()}function cw(){return fl()}function fl(){return new Xs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pk=new pt(ve.comparator),mk=new Dt(ve.comparator);function Le(...n){let e=mk;for(const t of n)e=e.add(t);return e}const gk=new Dt(Ve);function yk(){return gk}function xp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function hw(n){return{integerValue:""+n}}function vk(n,e){return zR(e)?hw(e):xp(n,e)}class rh{constructor(){this._=void 0}}function _k(n,e,t){return n instanceof Sl?(function(o,l){const h={fields:{[K0]:{stringValue:G0},[Q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ap(l)&&(l=Zc(l)),l&&(h.fields[Y0]=l),{mapValue:h}})(t,e):n instanceof Il?fw(n,e):n instanceof Al?pw(n,e):(function(o,l){const h=dw(o,l),f=Rv(h)+Rv(o.Ae);return Rf(h)&&Rf(o.Ae)?hw(f):xp(o.serializer,f)})(n,e)}function wk(n,e,t){return n instanceof Il?fw(n,e):n instanceof Al?pw(n,e):t}function dw(n,e){return n instanceof Fc?(function(i){return Rf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Sl extends rh{}class Il extends rh{constructor(e){super(),this.elements=e}}function fw(n,e){const t=mw(e);for(const i of n.elements)t.some((o=>Fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Al extends rh{constructor(e){super(),this.elements=e}}function pw(n,e){let t=mw(e);for(const i of n.elements)t=t.filter((o=>!Fr(o,i)));return{arrayValue:{values:t}}}class Fc extends rh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Rv(n){return vt(n.integerValue||n.doubleValue)}function mw(n){return Rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ek{constructor(e,t){this.field=e,this.transform=t}}function Tk(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Il&&o instanceof Il||i instanceof Al&&o instanceof Al?ta(i.elements,o.elements,Fr):i instanceof Fc&&o instanceof Fc?Fr(i.Ae,o.Ae):i instanceof Sl&&o instanceof Sl})(n.transform,e.transform)}class Ck{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ih{}function gw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vw(n.key,ci.none()):new Ul(n.key,n.data,ci.none());{const t=n.data,i=Un.empty();let o=new Dt(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Zs(n.key,i,new rr(o.toArray()),ci.none())}}function Sk(n,e,t){n instanceof Ul?(function(o,l,h){const f=o.value.clone(),g=Dv(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Zs?(function(o,l,h){if(!_c(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Dv(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(yw(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function pl(n,e,t,i){return n instanceof Ul?(function(l,h,f,g){if(!_c(l.precondition,h))return f;const y=l.value.clone(),_=Pv(l.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Zs?(function(l,h,f,g){if(!_c(l.precondition,h))return f;const y=Pv(l.fieldTransforms,g,h),_=h.data;return _.setAll(yw(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,h,f){return _c(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(n,e,t)}function Ik(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=dw(i.transform,o||null);l!=null&&(t===null&&(t=Un.empty()),t.set(i.field,l))}return t||null}function kv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ta(i,o,((l,h)=>Tk(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ul extends ih{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends ih{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Dv(n,e,t){const i=new Map;We(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,wk(h,f,t[o]))}return i}function Pv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,_k(l,h,e))}return i}class vw extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ak extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Sk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cw();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=gw(h,f);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,((t,i)=>kv(t,i)))&&ta(this.baseMutations,e.baseMutations,((t,i)=>kv(t,i)))}}class Np{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return pk})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Np(e,t,i,o)}}class kk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tt,Ue;function Pk(n){switch(n){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function _w(n){if(n===void 0)return pi("GRPC error has no .code"),J.UNKNOWN;switch(n){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:n})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function xk(){return new TextEncoder}const Nk=new es([4294967295,4294967295],0);function xv(n){const e=xk().encode(n),t=new L0;return t.update(e),new Uint8Array(t.digest())}function Nv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new es([t,i],0),new es([o,l],0)]}class bp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=es.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(es.fromNumber(i)));return o.compare(Nk)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=xv(e),[i,o]=Nv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new bp(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=xv(e),[i,o]=Nv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.be(h)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sh(Se.min(),o,new pt(Ve),mi(),Le())}}class Bl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Bl(i,t,Le(),Le(),Le())}}class wc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=o}}class ww{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,i=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class bv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),i=Le();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:l})}})),new Bl(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Ov()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bk{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.He=nc(),this.Je=nc(),this.Ze=new pt(Ve)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Df(l))if(i===0){const h=new ve(l.path);this.et(t,h,Qt.newNoDocument(h,Se.min()))}else We(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),g=f?this.ct(f,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=is(i).toUint8Array()}catch(g){if(g instanceof q0)return _l("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new bp(h,o,l)}catch(g){return _l(g instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&Df(f.target)){const g=new ve(f.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Qt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.Ke())}}));let i=Le();this.Je.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new sh(e,t,this.Ze,this.je,i);return this.je=mi(),this.He=nc(),this.Je=nc(),this.Ze=new pt(Ve),o}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new bv,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Dt(Ve),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Dt(Ve),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nc(){return new pt(ve.comparator)}function Ov(){return new pt(ve.comparator)}const Ok={asc:"ASCENDING",desc:"DESCENDING"},Vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lk={and:"AND",or:"OR"};class Mk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xf(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Fk(n,e){return jc(n,e.toTimestamp())}function Vr(n){return We(!!n,49232),Se.fromTimestamp((function(t){const i=rs(t);return new it(i.seconds,i.nanos)})(n))}function Op(n,e){return Nf(n,e).canonicalString()}function Nf(n,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Cw(n){const e=dt.fromString(n);return We(kw(e),10190,{key:e.toString()}),e}function bf(n,e){return Op(n.databaseId,e.path)}function nf(n,e){const t=Cw(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Iw(t))}function Sw(n,e){return Op(n.databaseId,e)}function jk(n){const e=Cw(n);return e.length===4?dt.emptyPath():Iw(e)}function Of(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iw(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Vv(n,e,t){return{name:bf(n,e),fields:t.value.mapValue.fields}}function Uk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,_){return y.useProto3Json?(We(_===void 0||typeof _=="string",58123),zt.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),zt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const _=y.code===void 0?J.UNKNOWN:_w(y.code);return new pe(_,y.message||"")})(h);t=new Ew(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=nf(n,i.document.name),l=Vr(i.document.updateTime),h=i.document.createTime?Vr(i.document.createTime):Se.min(),f=new Un({mapValue:{fields:i.document.fields}}),g=Qt.newFoundDocument(o,l,h,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new wc(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=nf(n,i.document),l=i.readTime?Vr(i.readTime):Se.min(),h=Qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new wc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=nf(n,i.document),l=i.removedTargetIds||[];t=new wc([],l,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new Dk(o,l),f=i.targetId;t=new ww(f,h)}}return t}function Bk(n,e){let t;if(e instanceof Ul)t={update:Vv(n,e.key,e.value)};else if(e instanceof vw)t={delete:bf(n,e.key)};else if(e instanceof Zs)t={update:Vv(n,e.key,e.data),updateMask:Qk(e.fieldMask)};else{if(!(e instanceof Ak))return _e(16599,{dt:e.type});t={verify:bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Sl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Il)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Al)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw _e(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Fk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)})(n,e.precondition)),t}function zk(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?Vr(o.updateTime):Vr(l);return h.isEqual(Se.min())&&(h=Vr(l)),new Ck(h,o.transformResults||[])})(t,e)))):[]}function $k(n,e){return{documents:[Sw(n,e.path)]}}function Wk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Sw(n,o);const l=(function(y){if(y.length!==0)return Rw(jr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:$o(S.field),direction:Gk(S.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=xf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function Hk(n){let e=jk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const S=Aw(E);return S instanceof jr&&nw(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((S=>(function(H){return new Mc(Wo(H.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let S;return S=typeof E=="object"?E.value:E,Xc(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(E){const S=!!E.before,V=E.values||[];return new Lc(V,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const S=!E.before,V=E.values||[];return new Lc(V,S)})(t.endAt)),ak(e,o,h,l,f,"F",g,y)}function qk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Wo(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wo(t.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return kt.create(Wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return jr.create(t.compositeFilter.filters.map((i=>Aw(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(n):_e(30097,{filter:n})}function Gk(n){return Ok[n]}function Kk(n){return Vk[n]}function Yk(n){return Lk[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Ut.fromServerFormat(n.fieldPath)}function Rw(n){return n instanceof kt?(function(t){if(t.op==="=="){if(Tv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(Ev(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(Ev(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:Kk(t.op),value:t.value}}})(n):n instanceof jr?(function(t){const i=t.getFilters().map((o=>Rw(o)));return i.length===1?i[0]:{compositeFilter:{op:Yk(t.op),filters:i}}})(n):_e(54877,{filter:n})}function Qk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Dw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Qi{constructor(e,t,i,o,l=Se.min(),h=Se.min(),f=zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jk{constructor(e){this.yt=e}}function Xk(n){const e=Hk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pf(e,e.limit,"L"):e}class Zk{constructor(){this.Sn=new eD}addToCollectionParentIndex(e,t){return this.Sn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(ns.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class eD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Dt(dt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Dt(dt.comparator)).toArray()}}const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Pw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ia{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ia(0)}static ar(){return new ia(-1)}}const Mv="LruGarbageCollector",xw=1048576;function Fv([n,e],[t,i]){const o=Ve(n,t);return o===0?Ve(e,i):o}class tD{constructor(e){this.Pr=e,this.buffer=new Dt(Fv),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Fv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?ae(Mv,"Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Ar(3e5)}))}}class rD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Jc.ce);const i=new tD(t);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Lv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,o,l,h,f,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Bo()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function iD(n,e){return new rD(n,e)}class sD{constructor(){this.changes=new Xs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class aD{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&pl(i.mutation,o,rr.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Le()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Le()){const o=Bs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=il();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Bs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Le())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=mi();const h=fl(),f=(function(){return fl()})();return t.forEach(((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Zs)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),pl(_.mutation,y,_.mutation.getFieldMask(),it.now())):h.set(y.key,rr.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((y,_)=>h.set(y,_))),t.forEach(((y,_)=>f.set(y,new oD(_,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=fl();let o=new pt(((h,f)=>h-f)),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=i.get(g)||rr.empty();_=f.applyToLocalView(y,_),i.set(g,_);const E=(o.get(f.batchId)||Le()).add(g);o=o.insert(f.batchId,E)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,_=g.value,E=cw();_.forEach((S=>{if(!l.has(S)){const V=gw(t.get(S),i.get(S));V!==null&&E.set(S,V),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Y.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return lk(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Y.resolve(Bs());let f=wl,g=l;return h.next((y=>Y.forEach(y,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,g,y,Le()))).next((_=>({batchId:f,changes:uw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((i=>{let o=il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=il();return this.indexManager.getCollectionParents(e,l).next((f=>Y.forEach(f,(g=>{const y=(function(E,S){return new eh(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Qt.newInvalidDocument(_)))}));let f=il();return h.forEach(((g,y)=>{const _=l.get(g);_!==void 0&&pl(_.mutation,y,rr.empty(),it.now()),nh(t,y)&&(f=f.insert(g,y))})),f}))}}class lD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Y.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:Xk(o.bundledQuery),readTime:Vr(o.readTime)}})(t)),Y.resolve()}}class uD{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bs();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.bt(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=Bs(),l=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new pt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Bs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Bs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>f.set(y,_))),!(f.size()>=o)););return Y.resolve(f)}bt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new kk(t,i));let l=this.Lr.get(t);l===void 0&&(l=Le(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class cD{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}class Vp{constructor(){this.kr=new Dt(bt.Kr),this.qr=new Dt(bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new bt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new ve(new dt([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.qr.forEachInRange([i,o],(h=>{this.Wr(h),l.push(h.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ve(new dt([])),i=new bt(t,e),o=new bt(t,e+1);let l=Le();return this.qr.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new bt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ve.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||ve.comparator(e.key,t.key)}}class hD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Dt(bt.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Rk(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Jr=this.Jr.add(new bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,t){return Y.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ip:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,o],(h=>{const f=this.Zr(h.Hr);l.push(f)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Ve);return t.forEach((o=>{const l=new bt(o,0),h=new bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,h],(f=>{i=i.add(f.Hr)}))})),Y.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const h=new bt(new ve(l),0);let f=new Dt(Ve);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Hr)),!0)}),h),Y.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Y.forEach(t.mutations,(o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new bt(t,0),o=this.Jr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dD{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=mi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=mi();const h=t.path,f=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||FR(MR(_),i)<=0||(o.has(_.key)||nh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,i,o){_e(9500)}ni(e,t){return Y.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new fD(this)}getSize(e){return Y.resolve(this.size)}}class fD extends sD{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Y.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class pD{constructor(e){this.persistence=e,this.ri=new Xs((t=>kp(t)),Dp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Vp,this.targetCount=0,this.oi=ia._r()}forEachTarget(e,t){return this.ri.forEach(((i,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),Y.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.lr(t),Y.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ri.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ri.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.si.containsKey(t))}}class Nw{constructor(e,t){this._i={},this.overlays={},this.ai=new Jc(0),this.ui=!1,this.ui=!0,this.ci=new cD,this.referenceDelegate=e(this),this.li=new pD(this),this.indexManager=new Zk,this.remoteDocumentCache=(function(o){return new dD(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Jk(t),this.Pi=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new hD(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new mD(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return Y.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class mD extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Ai=null}static Vi(e){return new Lp(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(i=>{const o=ve.fromPath(i);return this.mi(e,o).next((l=>{l||t.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.fi=new Xs((i=>$R(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=iD(this,t)}static Vi(e,t){return new Uc(e,t)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return Y.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Se.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yc(e.data.value)),t}wr(e,t,i){return Y.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=o}static Es(e,t){let i=Le(),o=Le();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Mp(e,t.fromCache,i,o)}}class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rS()?8:BR(Jt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.gs(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ps(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new gD;return this.ys(e,t,h).next((f=>{if(l.result=f,this.As)return this.ws(e,t,h,f.size)}))})).next((()=>l.result))}ws(e,t,i,o){return i.documentReadCount<this.Vs?(Bo()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Bo()<=Oe.DEBUG&&ae("QueryEngine","Query:",zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Bo()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):Y.resolve())}gs(e,t){if(Av(t))return Y.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Pf(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Le(...l);return this.fs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(t,f);return this.Ss(t,y,h,g.readTime)?this.gs(e,Pf(t,null,"F")):this.Ds(e,y,t,g)}))))})))))}ps(e,t,i,o){return Av(t)||o.isEqual(Se.min())?Y.resolve(null):this.fs.getDocuments(e,i).next((l=>{const h=this.bs(t,l);return this.Ss(t,h,i,o)?Y.resolve(null):(Bo()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.Ds(e,h,t,LR(o,wl)).next((f=>f)))}))}bs(e,t){let i=new Dt(aw(e));return t.forEach(((o,l)=>{nh(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,i){return Bo()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",zo(t)),this.fs.getDocumentsMatchingQuery(e,t,ns.min(),i)}Ds(e,t,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}const Fp="LocalStore",vD=3e8;class _D{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new pt(Ve),this.Fs=new Xs((l=>kp(l)),Dp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function wD(n,e,t,i){return new _D(n,e,t,i)}async function bw(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let g=Le();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function ED(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,g,y,_){const E=y.batch,S=E.keys();let V=Y.resolve();return S.forEach((H=>{V=V.next((()=>_.getEntry(g,H))).next((j=>{const b=y.docVersions.get(H);We(b!==null,48541),j.version.compareTo(b)<0&&(E.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),_.addEntry(j)))}))})),V.next((()=>f.mutationQueue.removeMutationBatch(g,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=Le();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Ow(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function TD(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const f=[];e.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;f.push(t.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,E))));let V=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,i)),o=o.insert(E,V),(function(j,b,q){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=vD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(S,V,_)&&f.push(t.li.updateTargetData(l,V))}));let g=mi(),y=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(CD(l,h,e.documentUpdates).next((_=>{g=_.Bs,y=_.Ls}))),!i.isEqual(Se.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return Y.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,y))).next((()=>g))})).then((l=>(t.vs=o,l)))}function CD(n,e,t){let i=Le(),o=Le();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let h=mi();return t.forEach(((f,g)=>{const y=l.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ae(Fp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function SD(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ip),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function ID(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.li.getTargetData(i,e).next((l=>l?(o=l,Y.resolve(o)):t.li.allocateTargetId(i).next((h=>(o=new Qi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Vf(n,e,t){const i=Ae(n),o=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!da(h))throw h;ae(Fp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function jv(n,e,t){const i=Ae(n);let o=Se.min(),l=Le();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const E=Ae(g),S=E.Fs.get(_);return S!==void 0?Y.resolve(E.vs.get(S)):E.li.getTargetData(y,_)})(i,h,Or(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:Le()))).next((f=>(AD(i,hk(e),f),{documents:f,ks:l})))))}function AD(n,e,t){let i=n.Ms.get(e)||Se.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(e,i)}class Uv{constructor(){this.activeTargetIds=yk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.vo=new Uv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Uv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kD{Mo(e){}shutdown(){}}const Bv="ConnectivityMonitor";class zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(Bv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(Bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rc=null;function Lf(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}const rf="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Oc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const h=Lf(),f=this.Qo(e,t.toUriEncodedString());ae(rf,`Sending RPC '${e}' ${h}:`,f,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,l);const{host:y}=new URL(f),_=aa(y);return this.zo(e,f,g,i,_).then((E=>(ae(rf,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw _l(rf,`RPC '${e}' ${h} failed with error: `,E,"url: ",f,"request:",i),E}))}jo(e,t,i,o,l,h){return this.Wo(e,t,i,o,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ca})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const i=DD[e];let o=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class xD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Yt="WebChannelConnection",nl=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Qo extends PD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qo.c_){const e=U0();nl(e,j0.STAT_EVENT,(t=>{t.stat===Sf.PROXY?ae(Yt,"STAT_EVENT: detected buffering proxy"):t.stat===Sf.NOPROXY&&ae(Yt,"STAT_EVENT: detected no buffering proxy")})),Qo.c_=!0}}zo(e,t,i,o,l){const h=Lf();return new Promise(((f,g)=>{const y=new M0;y.setWithCredentials(!0),y.listenOnce(F0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gc.NO_ERROR:const E=y.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),f(E);break;case gc.TIMEOUT:ae(Yt,`RPC '${e}' ${h} timed out`),g(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const S=y.getStatus();if(ae(Yt,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const j=(function(q){const G=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN})(H.status);g(new pe(j,H.message))}else g(new pe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Yt,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ae(Yt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,i,15)}))}T_(e,t,i){const o=Lf(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=l.join("");ae(Yt,`Creating RPC '${e}' stream ${o}: ${y}`,f);const _=h.createWebChannel(y,f);this.I_(_);let E=!1,S=!1;const V=new xD({Ho:H=>{S?ae(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(E||(ae(Yt,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),ae(Yt,`RPC '${e}' stream ${o} sending:`,H),_.send(H))},Jo:()=>_.close()});return nl(_,rl.EventType.OPEN,(()=>{S||(ae(Yt,`RPC '${e}' stream ${o} transport opened.`),V.i_())})),nl(_,rl.EventType.CLOSE,(()=>{S||(S=!0,ae(Yt,`RPC '${e}' stream ${o} transport closed`),V.o_(),this.E_(_))})),nl(_,rl.EventType.ERROR,(H=>{S||(S=!0,_l(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),nl(_,rl.EventType.MESSAGE,(H=>{if(!S){const j=H.data[0];We(!!j,16349);const b=j,q=b?.error||b[0]?.error;if(q){ae(Yt,`RPC '${e}' stream ${o} received error:`,q);const G=q.status;let ne=(function(ee){const P=Tt[ee];if(P!==void 0)return _w(P)})(G),le=q.message;ne===void 0&&(ne=J.INTERNAL,le="Unknown error status: "+G+" with message "+q.message),S=!0,V.o_(new pe(ne,le)),_.close()}else ae(Yt,`RPC '${e}' stream ${o} received:`,j),V.__(j)}})),Qo.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return B0()}}function ND(n){return new Qo(n)}function sf(){return typeof document<"u"?document:null}function oh(n){return new Mk(n,!0)}Qo.c_=!1;class Vw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $v="PersistentStream";class Lw{constructor(e,t,i,o,l,h,f,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ae($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bD extends Lw{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Uk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Vr(h.readTime):Se.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Of(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=Df(g)?{documents:$k(l,g)}:{query:Wk(l,g).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Tw(l,h.resumeToken);const y=xf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Se.min())>0){f.readTime=jc(l,h.snapshotVersion.toTimestamp());const y=xf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=qk(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.K_(t)}}class OD extends Lw{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zk(e.writeResults,e.commitTime),i=Vr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Of(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Bk(this.serializer,i)))};this.K_(t)}}class VD{}class LD extends VD{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Wo(e,Nf(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(J.UNKNOWN,l.toString())}))}jo(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.jo(e,Nf(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MD(n,e,t,i){return new LD(n,e,t,i)}class FD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class jD{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((h=>{i.enqueueAndForget((async()=>{eo(this)&&(ae(Ys,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await zl(y),y.Va.set("Unknown"),y.Ea.delete(4),await ah(y)})(this))}))})),this.Va=new FD(i,o)}}async function ah(n){if(eo(n))for(const e of n.Ra)await e(!0)}async function zl(n){for(const e of n.Ra)await e(!1)}function Mw(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zp(t)?Bp(t):fa(t).O_()&&Up(t,e))}function jp(n,e){const t=Ae(n),i=fa(t);t.Ia.delete(e),i.O_()&&Fw(t,e),t.Ia.size===0&&(i.O_()?i.L_():eo(t)&&t.Va.set("Unknown"))}function Up(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).Z_(e)}function Fw(n,e){n.da.$e(e),fa(n).X_(e)}function Bp(n){n.da=new bk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.Va.ua()}function zp(n){return eo(n)&&!fa(n).x_()&&n.Ia.size>0}function eo(n){return Ae(n).Ea.size===0}function jw(n){n.da=void 0}async function UD(n){n.Va.set("Online")}async function BD(n){n.Ia.forEach(((e,t)=>{Up(n,e)}))}async function zD(n,e){jw(n),zp(n)?(n.Va.ha(e),Bp(n)):n.Va.set("Unknown")}async function $D(n,e,t){if(n.Va.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.da.removeTarget(f))})(n,e)}catch(i){ae(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bc(n,i)}else if(e instanceof wc?n.da.Xe(e):e instanceof ww?n.da.st(e):n.da.tt(e),!t.isEqual(Se.min()))try{const i=await Ow(n.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.da.Tt(h);return f.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.Ia.get(y);_&&l.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,y)=>{const _=l.Ia.get(g);if(!_)return;l.Ia.set(g,_.withResumeToken(zt.EMPTY_BYTE_STRING,_.snapshotVersion)),Fw(l,g);const E=new Qi(_.target,g,y,_.sequenceNumber);Up(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){ae(Ys,"Failed to raise snapshot:",i),await Bc(n,i)}}async function Bc(n,e,t){if(!da(e))throw e;n.Ea.add(1),await zl(n),n.Va.set("Offline"),t||(t=()=>Ow(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ae(Ys,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ah(n)}))}function Uw(n,e){return e().catch((t=>Bc(n,t,e)))}async function lh(n){const e=Ae(n),t=os(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;WD(e);)try{const o=await SD(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,HD(e,o)}catch(o){await Bc(e,o)}Bw(e)&&zw(e)}function WD(n){return eo(n)&&n.Ta.length<10}function HD(n,e){n.Ta.push(e);const t=os(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Bw(n){return eo(n)&&!os(n).x_()&&n.Ta.length>0}function zw(n){os(n).start()}async function qD(n){os(n).ra()}async function GD(n){const e=os(n);for(const t of n.Ta)e.ea(t.mutations)}async function KD(n,e,t){const i=n.Ta.shift(),o=Np.from(i,e,t);await Uw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await lh(n)}async function YD(n,e){e&&os(n).Y_&&await(async function(i,o){if((function(h){return Pk(h)&&h!==J.ABORTED})(o.code)){const l=i.Ta.shift();os(i).B_(),await Uw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await lh(i)}})(n,e),Bw(n)&&zw(n)}async function Wv(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ae(Ys,"RemoteStore received new credentials");const i=eo(t);t.Ea.add(3),await zl(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ah(t)}async function QD(n,e){const t=Ae(n);e?(t.Ea.delete(2),await ah(t)):e||(t.Ea.add(2),await zl(t),t.Va.set("Unknown"))}function fa(n){return n.ma||(n.ma=(function(t,i,o){const l=Ae(t);return l.sa(),new bD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:UD.bind(null,n),Yo:BD.bind(null,n),t_:zD.bind(null,n),J_:$D.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),zp(n)?Bp(n):n.Va.set("Unknown")):(await n.ma.stop(),jw(n))}))),n.ma}function os(n){return n.fa||(n.fa=(function(t,i,o){const l=Ae(t);return l.sa(),new OD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qD.bind(null,n),t_:YD.bind(null,n),ta:GD.bind(null,n),na:KD.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await lh(n)):(await n.fa.stop(),n.Ta.length>0&&(ae(Ys,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class $p{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new $p(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(n,e){if(pi("AsyncQueue",`${e}: ${n}`),da(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Hv{constructor(){this.ga=new pt(ve.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class sa{constructor(e,t,i,o,l,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new sa(e,t,Jo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class JD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class XD{constructor(){this.queries=qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=qv(),l.forEach(((h,f)=>{for(const g of f.ba)g.onError(i)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function qv(){return new Xs((n=>ow(n)),th)}async function ZD(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(i=2):(l=new JD,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Wp(h,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Hp(t)}async function eP(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.ba.indexOf(e);h>=0&&(l.ba.splice(h,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tP(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.ba)f.Fa(o)&&(i=!0);h.wa=o}}i&&Hp(t)}function nP(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.ba)l.onError(t);i.queries.delete(e)}function Hp(n){n.Ca.forEach((e=>{e.next()}))}var Mf,Gv;(Gv=Mf||(Mf={})).Ma="default",Gv.Cache="cache";class rP{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mf.Cache}}class $w{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class iP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=aw(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Hv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const S=o.get(_),V=nh(this.query,E)?E:null,H=!!S&&this.mutatedKeys.has(S.key),j=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let b=!1;S&&V?S.data.isEqual(V.data)?H!==j&&(i.track({type:3,doc:V}),b=!0):this.su(S,V)||(i.track({type:2,doc:V}),b=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(f=!0)):!S&&V?(i.track({type:0,doc:V}),b=!0):S&&!V&&(i.track({type:1,doc:S}),b=!0,(g||y)&&(f=!0)),b&&(V?(h=h.add(V),l=j?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,E)=>(function(V,H){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:b})}};return j(V)-j(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new sa(this.query,e.tu,l,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new Ww(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new $w(i))})),t}cu(e){this.Za=e.ks,this.Ya=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qp="SyncEngine";class sP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oP{constructor(e){this.key=e,this.hu=!1}}class aP{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Xs((f=>ow(f)),th),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new Vp,this.du={},this.mu=new Map,this.fu=ia.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lP(n,e,t=!0){const i=Qw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Hw(i,e,t,!0),o}async function uP(n,e){const t=Qw(n);await Hw(t,e,!0,!1)}async function Hw(n,e,t,i){const o=await ID(n.localStore,Or(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await cP(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),f}async function cP(n,e,t,i,o){n.pu=(E,S,V)=>(async function(j,b,q,G){let ne=b.view.ru(q);ne.Ss&&(ne=await jv(j.localStore,b.query,!1).then((({documents:P})=>b.view.ru(P,ne))));const le=G&&G.targetChanges.get(b.targetId),me=G&&G.targetMismatches.get(b.targetId)!=null,ee=b.view.applyChanges(ne,j.isPrimaryClient,le,me);return Yv(j,b.targetId,ee.au),ee.snapshot})(n,E,S,V);const l=await jv(n.localStore,e,!0),h=new iP(e,l.ks),f=h.ru(l.documents),g=Bl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,g);Yv(n,t,y.au);const _=new sP(e,t,h);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function hP(n,e,t){const i=Ae(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!th(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Vf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&jp(i.remoteStore,o.targetId),Ff(i,o.targetId)})).catch(ha)):(Ff(i,o.targetId),await Vf(i.localStore,o.targetId,!0))}async function dP(n,e){const t=Ae(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),jp(t.remoteStore,i.targetId))}async function fP(n,e,t){const i=wP(n);try{const o=await(function(h,f){const g=Ae(h),y=it.now(),_=f.reduce(((V,H)=>V.add(H.key)),Le());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=mi(),j=Le();return g.xs.getEntries(V,_).next((b=>{H=b,H.forEach(((q,G)=>{G.isValidDocument()||(j=j.add(q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,H))).next((b=>{E=b;const q=[];for(const G of f){const ne=Ik(G,E.get(G.key).overlayedDocument);ne!=null&&q.push(new Zs(G.key,ne,Z0(ne.value.mapValue),ci.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,q,f)})).next((b=>{S=b;const q=b.applyToLocalDocumentSet(E,j);return g.documentOverlayCache.saveOverlays(V,b.batchId,q)}))})).then((()=>({batchId:S.batchId,changes:uw(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let y=h.du[h.currentUser.toKey()];y||(y=new pt(Ve)),y=y.insert(f,g),h.du[h.currentUser.toKey()]=y})(i,o.batchId,t),await $l(i,o.changes),await lh(i.remoteStore)}catch(o){const l=Wp(o,"Failed to persist write");t.reject(l)}}async function qw(n,e){const t=Ae(n);try{const i=await TD(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await $l(t,i,e)}catch(i){await ha(i)}}function Kv(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=Ae(h);g.onlineState=f;let y=!1;g.queries.forEach(((_,E)=>{for(const S of E.ba)S.va(f)&&(y=!0)})),y&&Hp(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pP(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new pt(ve.comparator);h=h.insert(l,Qt.newNoDocument(l,Se.min()));const f=Le().add(l),g=new sh(Se.min(),new Map,new pt(Ve),h,f);await qw(i,g),i.Ru=i.Ru.remove(l),i.Au.delete(e),Gp(i)}else await Vf(i.localStore,e,!1).then((()=>Ff(i,e,t))).catch(ha)}async function mP(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await ED(t.localStore,e);Kw(t,i,null),Gw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await $l(t,o)}catch(o){await ha(o)}}async function gP(n,e,t){const i=Ae(n);try{const o=await(function(h,f){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,f).next((E=>(We(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);Kw(i,e,t),Gw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await $l(i,o)}catch(o){await ha(o)}}function Gw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Kw(n,e,t){const i=Ae(n);let o=i.du[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||Yw(n,i)}))}function Yw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(jp(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Gp(n))}function Yv(n,e,t){for(const i of t)i instanceof $w?(n.Vu.addReference(i.key,e),yP(n,i)):i instanceof Ww?(ae(qp,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||Yw(n,i.key)):_e(19791,{wu:i})}function yP(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(ae(qp,"New document in limbo: "+t),n.Eu.add(i),Gp(n))}function Gp(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(dt.fromString(e)),i=n.fu.next();n.Au.set(i,new oP(t)),n.Ru=n.Ru.insert(t,i),Mw(n.remoteStore,new Qi(Or(Pp(t.path)),i,"TargetPurposeLimboResolution",Jc.ce))}}async function $l(n,e,t){const i=Ae(n),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,g)=>{h.push(i.pu(g,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Mp.Es(g.targetId,y);l.push(_)}})))})),await Promise.all(h),i.Pu.J_(o),await(async function(g,y){const _=Ae(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Y.forEach(y,(S=>Y.forEach(S.Ts,(V=>_.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>Y.forEach(S.Is,(V=>_.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!da(E))throw E;ae(Fp,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const V=_.vs.get(S),H=V.snapshotVersion,j=V.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(S,j)}}})(i.localStore,l))}async function vP(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ae(qp,"User change. New user:",e.toKey());const i=await bw(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new pe(J.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $l(t,i.Ns)}}function _P(n,e){const t=Ae(n),i=t.Au.get(e);if(i&&i.hu)return Le().add(i.key);{let o=Le();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function Qw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pP.bind(null,e),e.Pu.J_=tP.bind(null,e.eventManager),e.Pu.yu=nP.bind(null,e.eventManager),e}function wP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gP.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wD(this.persistence,new yD,e.initialUser,this.serializer)}Cu(e){return new Nw(Lp.Vi,this.serializer)}Du(e){return new RD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class EP extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Uc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nD(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Nw((i=>Uc.Vi(i,t)),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Kv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vP.bind(null,this.syncEngine),await QD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XD})()}createDatastore(e){const t=oh(e.databaseInfo.databaseId),i=ND(e.databaseInfo);return MD(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new jD(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Kv(this.syncEngine,t,0)),(function(){return zv.v()?new zv:new kD})())}createSyncEngine(e,t){return(function(o,l,h,f,g,y,_){const E=new aP(o,l,h,f,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ae(t);ae(Ys,"RemoteStore shutting down."),i.Ea.add(5),await zl(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jf.provider={build:()=>new jf};class TP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const as="FirestoreClient";class CP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{ae(as,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ae(as,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Wp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function of(n,e){n.asyncQueue.verifyOperationInProgress(),ae(as,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await bw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Qv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SP(n);ae(as,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Wv(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Wv(e.remoteStore,o))),n._onlineComponents=e}async function SP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(as,"Using user provided OfflineComponentProvider");try{await of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;_l("Error using user provided cache. Falling back to memory cache: "+t),await of(n,new zc)}}else ae(as,"Using default OfflineComponentProvider"),await of(n,new EP(void 0));return n._offlineComponents}async function Jw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(as,"Using user provided OnlineComponentProvider"),await Qv(n,n._uninitializedComponentsProvider._online)):(ae(as,"Using default OnlineComponentProvider"),await Qv(n,new jf))),n._onlineComponents}function IP(n){return Jw(n).then((e=>e.syncEngine))}async function AP(n){const e=await Jw(n),t=e.eventManager;return t.onListen=lP.bind(null,e.syncEngine),t.onUnlisten=hP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dP.bind(null,e.syncEngine),t}function RP(n,e,t={}){const i=new ts;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,g,y){const _=new TP({next:S=>{_.Nu(),h.enqueueAndForget((()=>eP(l,E)));const V=S.docs.has(f);!V&&S.fromCache?y.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&g&&g.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new rP(Pp(f.path),_,{includeMetadataChanges:!0,Ka:!0});return ZD(l,E)})(await AP(n),n.asyncQueue,e,t,i))),i.promise}function kP(n,e){const t=new ts;return n.asyncQueue.enqueueAndForget((async()=>fP(await IP(n),e,t))),t.promise}function Xw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const DP="ComponentProvider",Jv=new Map;function PP(n,e,t,i,o){return new qR(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Xw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const xP="firestore.googleapis.com",Xv=!0;class Zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xP,this.ssl=Xv}else this.host=e.host,this.ssl=e.ssl??Xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xw)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zw{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new IR;switch(i.type){case"firstParty":return new kR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Jv.get(t);i&&(ae(DP,"Removing Datastore"),Jv.delete(t),i.terminate())})(this),Promise.resolve()}}class Kp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kp(this.firestore,e,this._query)}}class Ot{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(jl(t,Ot._jsonSchema))return new Ot(e,i||null,new ve(dt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Ct("string",Ot._jsonSchemaVersion),referencePath:Ct("string")};class Rl extends Kp{constructor(e,t,i){super(e,t,Pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ve(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function eE(n,e,...t){if(n=$n(n),arguments.length===1&&(e=Cp.newId()),OR("doc","path",e),n instanceof Zw){const i=dt.fromString(e,...t);return fv(i),new Ot(n,null,new ve(i))}{if(!(n instanceof Ot||n instanceof Rl))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return fv(i),new Ot(n.firestore,n instanceof Rl?n.converter:null,new ve(i))}}const e_="AsyncQueue";class t_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vw(this,"async_queue_retry"),this._c=()=>{const i=sf();i&&ae(e_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!da(e))throw e;ae(e_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",n_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=$p.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:n_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function n_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Yp extends Zw{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new t_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function NP(n,e,t){t||(t=Oc);const i=cp(n,"firestore");if(i.isInitialized(t)){const o=i.getImmediate({identifier:t}),l=i.getOptions(t);if(Hs(l,e))return o;throw new pe(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xw)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&aa(e.host)&&Z_(e.host),i.initialize({options:e,instanceIdentifier:t})}function tE(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bP(n),n._firestoreClient}function bP(n){const e=n._freezeSettings(),t=PP(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new CP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(zt.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ct("string",Bn._jsonSchemaVersion),bytes:Ct("string")};class nE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._methodName=e}}class Lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(jl(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Ct("string",Lr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class sr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sr(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Ct("string",sr._jsonSchemaVersion),vectorValues:Ct("object")};const OP=/^__.*__$/;class VP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}function rE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:n})}}class Jp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $c(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(rE(this.dataSource)&&OP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||oh(e)}createContext(e,t,i,o=!1){return new Jp({dataSource:e,methodName:t,targetDoc:i,path:Ut.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MP(n){const e=n._freezeSettings(),t=oh(n._databaseId);return new LP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FP(n,e,t,i,o,l={}){const h=n.createContext(l.merge||l.mergeFields?2:0,e,t,o);aE("Data must be an object, but it was:",h,i);const f=sE(i,h);let g,y;if(l.merge)g=new rr(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const S=Zp(e,E,t);if(!h.contains(S))throw new pe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);BP(_,S)||_.push(S)}g=new rr(_),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new VP(new Un(f),g,y)}class Xp extends Qp{_toFieldTransform(e){return new Ek(e.path,new Sl)}isEqual(e){return e instanceof Xp}}function iE(n,e){if(oE(n=$n(n)))return aE("Unsupported field value:",e,n),sE(n,e);if(n instanceof Qp)return(function(i,o){if(!rE(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let g=iE(f,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=$n(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:jc(o.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(o.serializer,l)}}if(i instanceof Lr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bn)return{bytesValue:Tw(o.serializer,i._byteString)};if(i instanceof Ot){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Op(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sr)return(function(h,f){const g=h instanceof sr?h.toArray():h;return{mapValue:{fields:{[J0]:{stringValue:X0},[Vc]:{arrayValue:{values:g.map((_=>{if(typeof _!="number")throw f.createError("VectorValues must only contain numeric values.");return xp(f.serializer,_)}))}}}}}})(i,o);if(Dw(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Sp(i)}`)})(n,e)}function sE(n,e){const t={};return H0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,((i,o)=>{const l=iE(o,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function oE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Lr||n instanceof Bn||n instanceof Ot||n instanceof Qp||n instanceof sr||Dw(n))}function aE(n,e,t){if(!oE(t)||!$0(t)){const i=Sp(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Zp(n,e,t){if((e=$n(e))instanceof nE)return e._internalPath;if(typeof e=="string")return UP(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const jP=new RegExp("[~\\*/\\[\\]]");function UP(n,e,t){if(e.search(jP)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nE(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new pe(J.INVALID_ARGUMENT,f+n+g)}function BP(n,e){return n.some((t=>t.isEqual(e)))}class zP{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Js(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Vc].arrayValue?.values?.map((i=>vt(i.doubleValue)));return new sr(t)}convertGeoPoint(e){return new Lr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Zc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=rs(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);We(kw(i),9688,{name:e});const o=new Tl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class $P extends zP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function WP(){return new Xp("serverTimestamp")}const r_="@firebase/firestore",i_="4.10.0";class lE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends lE{data(){return super.data()}}function qP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends lE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Ct("string",$s._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ec extends $s{data(e={}){return super.data(e)}}class ml{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ol(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Ec(this._firestore,this._userDataWriter,i.key,i,new ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new Ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new Ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:GP(f.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Ct("string",ml._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function KP(n){n=Nc(n,Ot);const e=Nc(n.firestore,Yp),t=tE(e);return RP(t,n._key).then((i=>JP(e,n,i)))}function YP(n,e,t){n=Nc(n,Ot);const i=Nc(n.firestore,Yp),o=qP(n.converter,e,t),l=MP(i);return QP(i,[FP(l,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ci.none())])}function QP(n,e){const t=tE(n);return kP(t,e)}function JP(n,e,t){const i=t.docs.get(e._key),o=new $P(n);return new $s(n,o,e._key,i,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){CR(la),Zo(new qs("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Yp(new AR(i.getProvider("auth-internal")),new DR(h,i.getProvider("app-check-internal")),GR(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Zi(r_,i_,e),Zi(r_,i_,"esm2020")})();const XP={apiKey:"AIzaSyCChxsX8v4DVJSwcSD4X7dK1YPM-tZvKgg",authDomain:"manage-react.firebaseapp.com",projectId:"manage-react",storageBucket:"manage-react.firebasestorage.app",messagingSenderId:"826836111495",appId:"1:826836111495:web:3f84f64a5f00b4208c6822"},uE=n0(XP),Xo=_R(uE),cE=NP(uE,{experimentalForceLongPolling:!0});function ZP(){const[n,e]=F.useState(!1);return I.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"grid",placeItems:"center",zIndex:9999,padding:16},children:I.jsxs("div",{style:{width:"min(420px, 100%)",background:"#fff",borderRadius:16,border:"1px solid var(--border)",padding:18},children:[I.jsx("h2",{style:{margin:0},children:""}),I.jsx("p",{style:{marginTop:8,color:"var(--muted)"},children:"Google   ."}),I.jsx("button",{className:"btn",style:{width:"100%",marginTop:10,height:42,borderRadius:12},disabled:n,onClick:async()=>{if(!n){e(!0);try{const t=new Nr;await O0(Xo,t)}catch(t){if(t?.code==="auth/popup-closed-by-user"||t?.code==="auth/cancelled-popup-request")return;console.error(t),alert(t?.message??" ")}finally{e(!1)}}},children:n?" ...":"Google "})]})})}function e2({children:n}){const[e,t]=F.useState(!1),[i,o]=F.useState(!1);return F.useEffect(()=>{const l=_p(Xo,h=>{o(!!h),t(!0)});return()=>l()},[]),e?i?I.jsx(I.Fragment,{children:n}):I.jsx(ZP,{}):I.jsx("div",{className:"card",style:{padding:16},children:" "})}const af=({isActive:n})=>({display:"block",padding:"10px 12px",borderRadius:10,textDecoration:"none",color:n?"#111":"#555",background:n?"#eef2ff":"transparent",fontWeight:n?700:600});function t2(){const[n,e]=F.useState(""),[t,i]=F.useState(!1);return F.useEffect(()=>{const o=_p(Xo,l=>{i(!!l),e(l?.displayName??l?.email??"")});return()=>o()},[]),I.jsxs("div",{className:"app",children:[I.jsxs("aside",{className:"sidebar",children:[I.jsx("div",{className:"brand",children:"AIBigData_Manage"}),I.jsxs("nav",{className:"nav",children:[I.jsx(hc,{to:"/",style:af,end:!0,children:""}),I.jsx(hc,{to:"/tasks",style:af,children:" "}),I.jsx(hc,{to:"/calendar",style:af,children:""})]}),I.jsx("div",{className:"sidebar-footer auth-float",children:t?I.jsxs("div",{style:{border:"1px solid var(--border)",background:"#fff",borderRadius:14,padding:12,display:"grid",gap:10},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[I.jsxs("div",{style:{minWidth:0},children:[I.jsx("div",{style:{fontSize:14,fontWeight:800,lineHeight:1.2},children:n||""}),I.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginTop:4},children:""})]}),I.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"#22c55e",flex:"0 0 auto"}})]}),I.jsx("button",{className:"btn",style:{width:"100%",height:40,borderRadius:12,marginTop:2},onClick:()=>uA(Xo),children:""})]}):I.jsxs("div",{style:{border:"1px solid var(--border)",background:"#fff",borderRadius:14,padding:12,display:"grid",gap:10},children:[I.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:" "}),I.jsx("button",{className:"btn",style:{width:"100%",height:40,borderRadius:12},onClick:async()=>{const o=new Nr;await O0(Xo,o)},children:""})]})})]}),I.jsxs("div",{className:"main",children:[I.jsx("header",{className:"topbar",children:I.jsx("div",{className:"topbar-title",children:" "})}),I.jsx("main",{className:"content",children:I.jsx(r1,{})})]})]})}const kl=[{key:"32",label:"32(1)"},{key:"33",label:"33(2)"},{key:"34",label:"34(3)"},{key:"35",label:"35(4)"}],n2=[{key:"promo_instagram",title:"  ",offsetDays:-42,anchor:"pythonStart"},{key:"entrants_info",title:"  ",offsetDays:-21,anchor:"pythonStart"},{key:"vendor_register",title:" ",offsetDays:-21,anchor:"pythonStart"},{key:"platform_register",title:" ",offsetDays:-21,anchor:"pythonStart"},{key:"dorm_assign",title:" ",offsetDays:-14,anchor:"pythonStart"},{key:"entrance_video",title:"  ",offsetDays:-14,anchor:"pythonStart"},{key:"snack_order",title:" ",offsetDays:-4,anchor:"pythonStart"},{key:"graduation_prep",title:"  ",offsetDays:-14,anchor:"aiEnd"},{key:"certificate_prep",title:" ",offsetDays:-1,anchor:"aiEnd"}];function Uf(n,e){try{const t=localStorage.getItem(n);return t?JSON.parse(t):e}catch{return e}}async function hE(n,e){const t=eE(cE,"users",n,"data",e);console.log("[FS] get start",t.path);try{const i=await KP(t);return console.log("[FS] get done",t.path,"exists=",i.exists()),i.exists()?i.data()?.value??null:null}catch(i){return console.error("[FS] get failed",t.path,i),null}}async function uh(n,e,t){const i=eE(cE,"users",n,"data",e);await YP(i,{value:t,updatedAt:WP()},{merge:!0})}const dE={32:{pythonStart:"2026-02-23",bigdataStart:"2026-03-02",aiStart:"2026-03-30",aiEnd:"2026-05-01"},33:{pythonStart:"2026-05-11",bigdataStart:"2026-05-18",aiStart:"2026-06-15",aiEnd:"2026-07-17"},34:{pythonStart:"2026-07-27",bigdataStart:"2026-08-03",aiStart:"2026-08-31",aiEnd:"2026-10-02"},35:{pythonStart:"2026-10-12",bigdataStart:"2026-10-19",aiStart:"2026-11-16",aiEnd:"2026-12-18"}},al="manage-react:tasks",Tc="manage-react:cohort";async function r2(n){const e=await hE(n,Tc);if(!e){const t=Uf(Tc,null);return t?(await uh(n,Tc,t),t):null}return e}async function s_(n,e){e&&await uh(n,Tc,e)}async function i2(n){const e=await hE(n,al);if(!e)return Uf(al,[]);if(e.length===0){const t=Uf(al,[]);if(t.length>0)return await uh(n,al,t),t}return e}async function o_(n,e){e.length!==0&&await uh(n,al,e)}function s2(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}function o2(n,e){const[t,i,o]=n.split("-").map(Number),l=new Date(t,i-1,o);return l.setDate(l.getDate()+e),s2(l)}function a2(n,e){const t=dE[n];return t?e<t.pythonStart?"pre":e>t.aiEnd?"post":"during":"during"}function l2(n,e){const t=dE[e];if(!t)return n;const i=new Set(n.filter(h=>h.cohort===e).map(h=>h.id)),o=Date.now(),l=n2.map(h=>{const f=t[h.anchor],g=o2(f,h.offsetDays);return{id:`${e}:${h.key}:${g}`,cohort:e,title:h.title,dueDate:g,phase:a2(e,g),assignee:h.defaultAssignee??"",done:!1,createdAt:o}}).filter(h=>!i.has(h.id));return[...n,...l]}function fE(n,e){return n.map(t=>t.id===e?{...t,done:!t.done}:t)}function pE(n,e,t){return n.map(i=>i.id===e?{...i,assignee:t}:i)}function Bf(n,e){const t=Date.now(),o=`custom:${globalThis.crypto?.randomUUID?.()??`${Date.now()}-${Math.random().toString(16).slice(2)}`}`;return[...n,{id:o,cohort:e.cohort,title:e.title,dueDate:e.dueDate,phase:e.phase,assignee:e.assignee??"",done:!1,createdAt:t}]}function mE(n,e){return n.filter(t=>t.id!==e)}const gE=F.createContext(null),ic="manage-react:cohort",sc="manage-react:tasks";function u2({children:n}){const[e,t]=F.useState(null),[i,o]=F.useState(!1),[l,h]=F.useState(!1),[f,g]=F.useState(""),[y,_]=F.useState([]);F.useEffect(()=>{console.log("[TasksStore]",{uid:e,ready:i,hydrated:l,cohort:f,tasksLen:y.length})},[e,i,l,f,y]),F.useEffect(()=>{const j=()=>{console.info("[TasksStore] back online -> reload"),E()};return window.addEventListener("online",j),()=>window.removeEventListener("online",j)},[e]),F.useEffect(()=>{const j=_p(Xo,b=>{t(b?.uid??null),o(!0)});return()=>j()},[]);const E=async()=>{if(console.log("[TasksStore][reload] start",{uid:e}),!e){_([]),g(""),h(!0);return}h(!1);const j=q=>{q==="timeout"?console.info("[TasksStore][reload] using local cache"):console.warn("[TasksStore][reload] fallback local",q),g(a_(ic,"")),_(a_(sc,[]))},b=new Promise(q=>setTimeout(()=>q("timeout"),8e3));try{const q=Promise.all([r2(e),i2(e)]),G=await Promise.race([q,b]);if(G==="timeout"){j("timeout");return}const[ne,le]=G;g(ne??""),_(le??[]),jo(ic,ne??""),jo(sc,le??[])}catch(q){console.warn("[TasksStore][reload] failed -> fallback local",q),j(q)}finally{h(!0)}};F.useEffect(()=>{if(!e)return;const j=setTimeout(()=>{E()},300);return()=>clearTimeout(j)},[e]),F.useEffect(()=>{e&&l&&f&&(async()=>(await s_(e,f),_(j=>{const b=l2(j,f);return o_(e,b),jo(sc,b),b}),jo(ic,f)))()},[e,l,f]);const S=j=>{_(b=>{const q=j(b);return jo(sc,q),e&&l&&o_(e,q),q})},V=j=>{g(j),jo(ic,j),!(!e||!l)&&j&&s_(e,j)},H=F.useMemo(()=>({uid:e,ready:i,hydrated:l,cohort:f,setCohort:V,tasks:y,setTasksAndSave:S,reload:E}),[e,i,l,f,y]);return I.jsx(gE.Provider,{value:H,children:n})}function em(){const n=F.useContext(gE);if(!n)throw new Error("useTasksStore must be used within TasksProvider");return n}function a_(n,e){if(typeof window>"u")return e;try{const t=localStorage.getItem(n);return t?JSON.parse(t):e}catch{return e}}function jo(n,e){if(!(typeof window>"u"))try{localStorage.setItem(n,JSON.stringify(e))}catch{}}function c2(){const{uid:n,ready:e,hydrated:t,cohort:i,setCohort:o,tasks:l}=em(),h=F_(),f=F.useMemo(()=>i?l.filter(b=>b.cohort===i):[],[l,i]),g=f.length,y=f.reduce((b,q)=>b+(q.done?1:0),0),_=g===0?0:Math.round(y/g*100),E=F.useMemo(()=>[...f].filter(b=>!b.done).sort((b,q)=>b.dueDate>q.dueDate?1:-1).slice(0,7),[f]),S=F.useMemo(()=>{const b=new Date,q=b.getFullYear(),G=String(b.getMonth()+1).padStart(2,"0"),ne=String(b.getDate()).padStart(2,"0");return`${q}-${G}-${ne}`},[]),V=F.useMemo(()=>f.filter(b=>b.dueDate===S),[f,S]),H=F.useMemo(()=>f.filter(b=>!b.done&&b.dueDate<S).sort((b,q)=>b.dueDate>q.dueDate?1:-1).slice(0,7),[f,S]),j=b=>h(`/calendar?date=${b.dueDate}`);return e?n?t?I.jsxs("div",{children:[I.jsx("h1",{children:""}),I.jsxs("div",{className:"card",style:{marginTop:12},children:[I.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[I.jsx("strong",{children:" "}),I.jsxs("select",{value:i,onChange:b=>o(b.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),kl.map(b=>I.jsx("option",{value:b.key,children:b.label},b.key))]}),i?I.jsxs("span",{style:{color:"var(--muted)"},children:[" ",y," / ",g," (",_,"%)"]}):I.jsx("span",{style:{color:"var(--muted)"},children:"   ."}),I.jsx("button",{className:"btn btn--ghost",onClick:()=>h("/tasks"),style:{marginLeft:"auto",height:34,borderRadius:12},children:"  "})]}),i&&I.jsx("div",{style:{marginTop:12},children:I.jsx("div",{className:"progress",children:I.jsx("div",{className:"progress__bar",style:{width:`${_}%`}})})})]}),I.jsxs("div",{className:"grid",style:{marginTop:12},children:[I.jsxs("div",{className:"card",children:[I.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:"  "}),I.jsx("div",{style:{fontSize:28,fontWeight:900,marginTop:6},children:g})]}),I.jsxs("div",{className:"card",children:[I.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:""}),I.jsx("div",{style:{fontSize:28,fontWeight:900,marginTop:6},children:y})]}),I.jsxs("div",{className:"card",children:[I.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:""}),I.jsx("div",{style:{fontSize:28,fontWeight:900,marginTop:6},children:Math.max(0,g-y)})]})]}),I.jsxs("div",{className:"card",style:{marginTop:12},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[I.jsxs("h3",{style:{margin:0},children:["   (",S,")"]}),I.jsx("button",{className:"btn btn--ghost",onClick:()=>h(`/calendar?date=${S}`),style:{height:34,borderRadius:12},children:" "})]}),!i&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:" ."}),i&&V.length===0&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:"    ."}),i&&V.length>0&&I.jsx("div",{className:"dash-list",style:{marginTop:10},children:V.map(b=>I.jsxs("button",{className:"dash-item",onClick:()=>j(b),style:{cursor:"pointer"},children:[I.jsx("span",{className:"dash-badge",children:b.phase}),I.jsx("span",{className:"dash-title",children:b.title}),I.jsx("span",{className:"dash-date",children:b.dueDate})]},b.id))})]}),I.jsxs("div",{className:"card",style:{marginTop:12},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[I.jsx("h3",{style:{margin:0},children:"  "}),I.jsx("button",{className:"btn btn--ghost",onClick:()=>h("/calendar"),style:{height:34,borderRadius:12},children:" "})]}),!i&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:" ."}),i&&E.length===0&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:"   ."}),i&&E.length>0&&I.jsx("div",{className:"dash-list",style:{marginTop:10},children:E.map(b=>I.jsxs("button",{className:"dash-item",onClick:()=>j(b),style:{cursor:"pointer"},children:[I.jsx("span",{className:"dash-badge",children:b.phase}),I.jsx("span",{className:"dash-title",children:b.title}),I.jsx("span",{className:"dash-date",children:b.dueDate})]},b.id))})]}),I.jsxs("div",{className:"card",style:{marginTop:12},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[I.jsx("h3",{style:{margin:0},children:"  "}),I.jsx("button",{className:"btn btn--ghost",onClick:()=>h("/tasks"),style:{height:34,borderRadius:12},children:" "})]}),!i&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:" ."}),i&&H.length===0&&I.jsx("div",{style:{marginTop:10,color:"var(--muted)"},children:"   . ."}),i&&H.length>0&&I.jsx("div",{className:"dash-list",style:{marginTop:10},children:H.map(b=>I.jsxs("button",{className:"dash-item",onClick:()=>j(b),style:{cursor:"pointer"},children:[I.jsx("span",{className:"dash-badge",children:b.phase}),I.jsx("span",{className:"dash-title",children:b.title}),I.jsx("span",{className:"dash-date",children:b.dueDate})]},b.id))})]})]}):I.jsx("div",{className:"card",style:{padding:16},children:"  "}):I.jsx("div",{className:"card",style:{padding:16},children:" ."}):I.jsx("div",{className:"card",style:{padding:16},children:" "})}const h2=[{title:"  ",dueDate:"2025-12-22",phase:"pre",assignee:"/"},{title:"",dueDate:"2025-12-29",phase:"pre",assignee:""},{title:"",dueDate:"2026-01-05",phase:"pre",assignee:""},{title:" ",dueDate:"2026-01-22",phase:"pre",assignee:""},{title:" ",dueDate:"2026-01-23",phase:"pre",assignee:""},{title:"/  ",dueDate:"2026-01-13",phase:"pre",assignee:""},{title:"/",dueDate:"2026-02-03",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-05",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-05",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-06",phase:"pre",assignee:""},{title:" /  ",dueDate:"2026-02-09",phase:"pre",assignee:""},{title:" / ",dueDate:"2026-02-10",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-11",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-11",phase:"pre",assignee:""},{title:"()  ",dueDate:"2026-01-19",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-09",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-12",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-19",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-02",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-23",phase:"during",assignee:""},{title:"   ",dueDate:"2026-02-02",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:"   ",dueDate:"2026-02-09",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-19",phase:"pre",assignee:""},{title:" ",dueDate:"2026-02-23",phase:"during",assignee:""},{title:" ",dueDate:"2026-02-20",phase:"pre",assignee:""},{title:"  ",dueDate:"2026-02-25",phase:"during",assignee:""},{title:"   ",dueDate:"2026-02-27",phase:"during",assignee:""},{title:"   ",dueDate:"2026-02-26",phase:"during",assignee:""},{title:"  ",dueDate:"2026-03-02",phase:"during",assignee:""},{title:"  ",dueDate:"2026-03-02",phase:"during",assignee:""},{title:" /   ",dueDate:"2026-03-05",phase:"during",assignee:""},{title:"  ",dueDate:"2026-02-09",phase:"pre",assignee:""},{title:" ",dueDate:"2026-03-27",phase:"during",assignee:""},{title:"1     ",dueDate:"2026-03-06",phase:"during",assignee:""},{title:"2     ",dueDate:"2026-03-13",phase:"during",assignee:""},{title:"3-4     ",dueDate:"2026-03-27",phase:"during",assignee:""},{title:" ",dueDate:"2026-03-06",phase:"during",assignee:""},{title:"    ",dueDate:"2026-03-09",phase:"during",assignee:""},{title:" ",dueDate:"2026-03-13",phase:"during",assignee:""},{title:"    ",dueDate:"2026-03-16",phase:"during",assignee:""},{title:" ",dueDate:"2026-03-17",phase:"during",assignee:""},{title:"  ",dueDate:"2026-03-18",phase:"during",assignee:""},{title:" ",dueDate:"2026-03-20",phase:"during",assignee:""},{title:"   ",dueDate:"2026-03-26",phase:"during",assignee:""},{title:" ",dueDate:"2026-03-27",phase:"during",assignee:""},{title:"  ",dueDate:"2026-03-30",phase:"during",assignee:""},{title:"5  ",dueDate:"2026-03-23",phase:"during",assignee:""},{title:"1  ",dueDate:"2026-03-31",phase:"during",assignee:""},{title:"2  ",dueDate:"2026-04-22",phase:"during",assignee:""},{title:" ",dueDate:"2026-04-30",phase:"during",assignee:""},{title:"   ",dueDate:"2026-04-10",phase:"during",assignee:""},{title:"   ",dueDate:"2026-04-28",phase:"during",assignee:""},{title:" ",dueDate:"2026-04-30",phase:"during",assignee:""},{title:" ",dueDate:"2026-04-30",phase:"during",assignee:""},{title:" ",dueDate:"2026-04-17",phase:"during",assignee:""},{title:"   ",dueDate:"2026-04-30",phase:"during",assignee:""},{title:" ",dueDate:"2026-05-01",phase:"post",assignee:""},{title:" ",dueDate:"2026-04-28",phase:"during",assignee:""},{title:"  ",dueDate:"2026-05-01",phase:"post",assignee:""},{title:"  ",dueDate:"2026-05-01",phase:"post",assignee:""},{title:" ",dueDate:"2026-04-17",phase:"during",assignee:""},{title:"   ",dueDate:"2026-05-08",phase:"post",assignee:""},{title:" ",dueDate:"2026-05-15",phase:"post",assignee:""},{title:"  ",dueDate:"2026-05-04",phase:"post",assignee:""}],d2={"32(1)":{start:"2026-02-23",end:"2026-05-01"},"33(2)":{start:"2026-05-11",end:"2026-07-17"},"34(3)":{start:"2026-07-27",end:"2026-10-02"},"35(4)":{start:"2026-10-12",end:"2026-12-18"}},l_=kl.reduce((n,e)=>{const t=d2[e.label];return t&&(n[e.key]=t),n},{}),f2={pre:"",during:" ",post:""};function p2(){const n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}function lf(n){const[e,t,i]=n.split("-").map(Number);return new Date(e,t-1,i)}function m2(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}function g2(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function y2(n,e){const t=n.getTime()-e.getTime();return Math.round(t/(1e3*60*60*24))}function v2(n,e,t){return n<e?"pre":n<=t?"during":"post"}function _2(){const{uid:n,ready:e,hydrated:t,cohort:i,setCohort:o,tasks:l,setTasksAndSave:h}=em(),[f,g]=F.useState("during"),[y,_]=F.useState(""),[E,S]=F.useState(p2()),[V,H]=F.useState(""),j=F.useMemo(()=>i?l.filter(ee=>ee.cohort===i).sort((ee,P)=>ee.dueDate>P.dueDate?1:-1):[],[l,i]),b=F.useMemo(()=>({pre:j.filter(ee=>ee.phase==="pre"),during:j.filter(ee=>ee.phase==="during"),post:j.filter(ee=>ee.phase==="post")}),[j]),{doneCount:q,totalCount:G}=F.useMemo(()=>{const ee=j.length;return{doneCount:j.reduce((A,C)=>A+(C.done?1:0),0),totalCount:ee}},[j]),ne=()=>{n&&i&&y.trim()&&(h(ee=>Bf(ee,{cohort:i,title:y.trim(),dueDate:E,phase:f,assignee:V})),_(""))},le=()=>{if(!n||!i)return;const ee=kl.find(k=>k.label==="32(1)")?.key;if(!ee)return alert('cohorts "32(1)"  .');const P=l_[ee],A=l_[i];if(!A)return alert("     .");const C=y2(lf(A.start),lf(P.start));let D=0,x=0,M=0;h(k=>{let Re=k;const Ye=new Map;Re.forEach((De,Fe)=>Ye.set(`${De.cohort}|${De.dueDate}|${De.title}`,Fe));for(const De of h2){const Fe=De.title?.trim();if(!Fe||!De.dueDate)continue;const re=m2(g2(lf(De.dueDate),C)),ce=v2(re,A.start,A.end),N=`${i}|${re}|${Fe}`,K=Ye.get(N);if(K!==void 0){x++;const oe=Re[K];if((!oe.assignee||oe.assignee==="")&&De.assignee){const Ce=[...Re];Ce[K]={...oe,assignee:De.assignee},Re=Ce,M++}continue}Re=Bf(Re,{cohort:i,title:Fe,dueDate:re,phase:ce,assignee:De.assignee??""}),Ye.set(N,Re.length-1),D++}return queueMicrotask(()=>{alert(`   
: ${D}
 : ${x}
: ${M}`)}),Re})},me=({phase:ee})=>{const P=b[ee],A=P.length>0&&P.every(C=>C.done);return I.jsxs("section",{className:"card",style:{padding:14},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[I.jsxs("h3",{style:{margin:0},children:[f2[ee]," ",I.jsxs("span",{style:{fontSize:12,color:"var(--muted)",marginLeft:8},children:["(",P.filter(C=>C.done).length,"/",P.length,")"]})]}),I.jsx("span",{style:{fontSize:12,padding:"6px 10px",borderRadius:999,border:"1px solid var(--border)",background:A?"rgba(34,197,94,0.12)":"rgba(59,130,246,0.08)"},children:P.length===0?"":A?"":" "})]}),I.jsxs("div",{style:{display:"grid",gap:8,marginTop:12},children:[P.length===0&&I.jsx("div",{style:{color:"var(--muted)"},children:"   ."}),P.map(C=>I.jsxs("div",{className:"card",style:{padding:12,display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[I.jsxs("label",{style:{display:"flex",gap:10,alignItems:"center",minWidth:0},children:[I.jsx("input",{type:"checkbox",checked:C.done,onChange:()=>h(D=>fE(D,C.id))}),I.jsxs("div",{style:{minWidth:0},children:[I.jsx("div",{style:{textDecoration:C.done?"line-through":"none",fontWeight:700},children:C.title}),I.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginTop:4},children:C.dueDate})]})]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[I.jsxs("select",{value:C.assignee,onChange:D=>h(x=>pE(x,C.id,D.target.value)),style:{height:34,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""})]}),I.jsx("button",{className:"btn",style:{height:34,borderRadius:10},onClick:()=>h(D=>mE(D,C.id)),children:""})]})]},C.id))]})]})};return e?n?t?I.jsxs("div",{children:[I.jsx("h1",{children:" "}),I.jsx("div",{className:"card",style:{marginTop:12},children:I.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[I.jsx("strong",{children:" "}),I.jsxs("select",{value:i,onChange:ee=>o(ee.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),kl.map(ee=>I.jsx("option",{value:ee.key,children:ee.label},ee.key))]}),i&&I.jsxs("span",{style:{color:"var(--muted)"},children:["  ",q," / ",G,G>0&&` (${Math.round(q/G*100)}%)`]})]})}),I.jsx("div",{className:"card",style:{marginTop:12,padding:14},children:I.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"},children:[I.jsx("strong",{children:"  "}),I.jsxs("select",{value:f,onChange:ee=>g(ee.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"pre",children:""}),I.jsx("option",{value:"during",children:" "}),I.jsx("option",{value:"post",children:""})]}),I.jsx("input",{value:y,onChange:ee=>_(ee.target.value),placeholder:"  ",style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)",width:260}}),I.jsx("input",{type:"date",value:E,onChange:ee=>S(ee.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"}}),I.jsxs("select",{value:V,onChange:ee=>H(ee.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""})]}),I.jsx("button",{className:"btn",style:{height:36,borderRadius:10},disabled:!i,onClick:ne,children:""}),i&&I.jsx("button",{className:"btn btn--ghost",onClick:le,style:{marginLeft:"auto",fontWeight:800},children:" ()"}),!i&&I.jsx("span",{style:{color:"var(--muted)"},children:"  ."})]})}),I.jsxs("div",{style:{marginTop:12,display:"grid",gap:12},children:[I.jsx(me,{phase:"pre"}),I.jsx(me,{phase:"during"}),I.jsx(me,{phase:"post"})]})]}):I.jsx("div",{className:"card",style:{padding:16},children:"  "}):I.jsx("div",{className:"card",style:{padding:16},children:" ."}):I.jsx("div",{className:"card",style:{padding:16},children:" "})}function yE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=yE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ch(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=yE(n))&&(i&&(i+=" "),i+=e);return i}const w2=(n,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const o=Object.getOwnPropertyDescriptor(n,t),l=Object.getOwnPropertyDescriptor(e,t);!E2(o,l)&&i||Object.defineProperty(n,t,l)},E2=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},T2=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},C2=(n,e)=>`/* Wrapped ${n}*/
${e}`,S2=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),I2=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),A2=(n,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,o=C2.bind(null,i,e.toString());Object.defineProperty(o,"name",I2);const{writable:l,enumerable:h,configurable:f}=S2;Object.defineProperty(n,"toString",{value:o,writable:l,enumerable:h,configurable:f})};function R2(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=n;for(const o of Reflect.ownKeys(e))w2(n,e,o,t);return T2(n,e),A2(n,e,i),n}const oc=2147483647,k2=new WeakMap,uf=new WeakMap,D2=new WeakMap;function P2(n,e){const t=n.get(e);if(t){if(t.maxAge<=Date.now()){n.delete(e);return}return t}}function vE(n,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"&&Number.isFinite(i)){if(i>oc)throw new TypeError(`The \`maxAge\` option cannot exceed ${oc}.`);if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...l){const h=e?e(l):l[0],f=P2(t,h);if(f)return f.data;const g=n.apply(this,l),y=typeof i=="function"?i(...l):i;if(y!==void 0&&y!==Number.POSITIVE_INFINITY){if(!Number.isFinite(y))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(y<=0)return g;if(y>oc)throw new TypeError(`The \`maxAge\` function result cannot exceed ${oc}.`)}if(t.set(h,{data:g,maxAge:y===void 0||y===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+y}),y!==void 0&&y!==Number.POSITIVE_INFINITY){const _=setTimeout(()=>{t.delete(h),uf.get(o)?.delete(_)},y);_.unref?.();const E=uf.get(o)??new Set;E.add(_),uf.set(o,E)}return g};return R2(o,n,{ignoreNonConfigurable:!0}),k2.set(o,t),D2.set(o,e??(l=>l[0])),o}function x2(n){return typeof n=="string"}function N2(n,e,t){return t.indexOf(n)===e}function b2(n){return n.toLowerCase()===n}function u_(n){return n.indexOf(",")===-1?n:n.split(",")}function zf(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return zf(t)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],t=i===void 0?"":i;return zf(t)}if(n.indexOf("-")===-1||!b2(n))return n;var o=n.split("-"),l=o[0],h=o[1],f=h===void 0?"":h;return"".concat(l,"-").concat(f.toUpperCase())}function O2(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,i=t===void 0?!0:t,o=e.fallbackLocale,l=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var f=navigator.languages||[],g=[],y=0,_=f;y<_.length;y++){var E=_[y];g=g.concat(u_(E))}var S=navigator.language,V=S&&u_(S);h=h.concat(g,V)}return i&&h.push(l),h.filter(x2).map(zf).filter(N2)}var V2=vE(O2,{cacheKey:JSON.stringify});function L2(n){return V2(n)[0]||null}var _E=vE(L2,{cacheKey:JSON.stringify});function yi(n,e,t){return function(o,l=t){const h=n(o)+l;return e(h)}}function Wl(n){return function(t){return new Date(n(t).getTime()-1)}}function Hl(n,e){return function(i){return[n(i),e(i)]}}function ot(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function us(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function hh(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function pa(n){const e=ot(n),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const M2=yi(ot,pa,-100),wE=yi(ot,pa,100),tm=Wl(wE),F2=yi(ot,tm,-100),EE=Hl(pa,tm);function cs(n){const e=ot(n),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const TE=yi(ot,cs,-10),nm=yi(ot,cs,10),dh=Wl(nm),CE=yi(ot,dh,-10),SE=Hl(cs,dh);function ma(n){const e=ot(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const IE=yi(ot,ma,-1),rm=yi(ot,ma,1),fh=Wl(rm),AE=yi(ot,fh,-1),j2=Hl(ma,fh);function im(n,e){return function(i,o=e){const l=ot(i),h=us(i)+o,f=new Date;return f.setFullYear(l,h,1),f.setHours(0,0,0,0),n(f)}}function to(n){const e=ot(n),t=us(n),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const RE=im(to,-1),sm=im(to,1),ql=Wl(sm),kE=im(ql,-1),U2=Hl(to,ql);function B2(n,e){return function(i,o=e){const l=ot(i),h=us(i),f=hh(i)+o,g=new Date;return g.setFullYear(l,h,f),g.setHours(0,0,0,0),n(g)}}function Gl(n){const e=ot(n),t=us(n),i=hh(n),o=new Date;return o.setFullYear(e,t,i),o.setHours(0,0,0,0),o}const z2=B2(Gl,1),om=Wl(z2),$2=Hl(Gl,om);function DE(n){return hh(ql(n))}var Bt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},W2={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},am=[0,1,2,3,4,5,6],cf=new Map;function H2(n){return function(t,i){var o=t||_E();cf.has(o)||cf.set(o,new Map);var l=cf.get(o);return l.has(n)||l.set(n,new Intl.DateTimeFormat(o||void 0,n).format),l.get(n)(i)}}function q2(n){var e=new Date(n);return new Date(e.setHours(12))}function no(n){return function(e,t){return H2(n)(e,q2(t))}}var G2={day:"numeric"},K2={day:"numeric",month:"long",year:"numeric"},Y2={month:"long"},Q2={month:"long",year:"numeric"},J2={weekday:"short"},X2={weekday:"long"},Z2={year:"numeric"},ex=no(G2),tx=no(K2),nx=no(Y2),PE=no(Q2),rx=no(J2),ix=no(X2),ph=no(Z2),sx=am[0],ox=am[5],c_=am[6];function Dl(n,e){e===void 0&&(e=Bt.ISO_8601);var t=n.getDay();switch(e){case Bt.ISO_8601:return(t+6)%7;case Bt.ISLAMIC:return(t+1)%7;case Bt.HEBREW:case Bt.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function ax(n){var e=pa(n);return ot(e)}function lx(n){var e=cs(n);return ot(e)}function $f(n,e){e===void 0&&(e=Bt.ISO_8601);var t=ot(n),i=us(n),o=n.getDate()-Dl(n,e);return new Date(t,i,o)}function ux(n,e){e===void 0&&(e=Bt.ISO_8601);var t=e===Bt.GREGORY?Bt.GREGORY:Bt.ISO_8601,i=$f(n,e),o=ot(n)+1,l,h;do l=new Date(o,0,t===Bt.ISO_8601?4:1),h=$f(l,e),o-=1;while(n<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function Ws(n,e){switch(n){case"century":return pa(e);case"decade":return cs(e);case"year":return ma(e);case"month":return to(e);case"day":return Gl(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function cx(n,e){switch(n){case"century":return M2(e);case"decade":return TE(e);case"year":return IE(e);case"month":return RE(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function xE(n,e){switch(n){case"century":return wE(e);case"decade":return nm(e);case"year":return rm(e);case"month":return sm(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function hx(n,e){switch(n){case"decade":return TE(e,-100);case"year":return IE(e,-10);case"month":return RE(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function dx(n,e){switch(n){case"decade":return nm(e,100);case"year":return rm(e,10);case"month":return sm(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function NE(n,e){switch(n){case"century":return tm(e);case"decade":return dh(e);case"year":return fh(e);case"month":return ql(e);case"day":return om(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function fx(n,e){switch(n){case"century":return F2(e);case"decade":return CE(e);case"year":return AE(e);case"month":return kE(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function px(n,e){switch(n){case"decade":return CE(e,-100);case"year":return AE(e,-10);case"month":return kE(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function h_(n,e){switch(n){case"century":return EE(e);case"decade":return SE(e);case"year":return j2(e);case"month":return U2(e);case"day":return $2(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function mx(n,e,t){var i=[e,t].sort(function(o,l){return o.getTime()-l.getTime()});return[Ws(n,i[0]),NE(n,i[1])]}function bE(n,e,t){return t.map(function(i){return(e||ph)(n,i)}).join("  ")}function gx(n,e,t){return bE(n,e,EE(t))}function OE(n,e,t){return bE(n,e,SE(t))}function yx(n){return n.getDay()===new Date().getDay()}function VE(n,e){e===void 0&&(e=Bt.ISO_8601);var t=n.getDay();switch(e){case Bt.ISLAMIC:case Bt.HEBREW:return t===ox||t===c_;case Bt.ISO_8601:case Bt.GREGORY:return t===c_||t===sx;default:throw new Error("Unsupported calendar type.")}}var Pr="react-calendar__navigation";function vx(n){var e=n.activeStartDate,t=n.drillUp,i=n.formatMonthYear,o=i===void 0?PE:i,l=n.formatYear,h=l===void 0?ph:l,f=n.locale,g=n.maxDate,y=n.minDate,_=n.navigationAriaLabel,E=_===void 0?"":_,S=n.navigationAriaLive,V=n.navigationLabel,H=n.next2AriaLabel,j=H===void 0?"":H,b=n.next2Label,q=b===void 0?"":b,G=n.nextAriaLabel,ne=G===void 0?"":G,le=n.nextLabel,me=le===void 0?"":le,ee=n.prev2AriaLabel,P=ee===void 0?"":ee,A=n.prev2Label,C=A===void 0?"":A,D=n.prevAriaLabel,x=D===void 0?"":D,M=n.prevLabel,k=M===void 0?"":M,Re=n.setActiveStartDate,Ye=n.showDoubleView,De=n.view,Fe=n.views,re=Fe.indexOf(De)>0,ce=De!=="century",N=cx(De,e),K=ce?hx(De,e):void 0,oe=xE(De,e),Ce=ce?dx(De,e):void 0,we=(function(){if(N.getFullYear()<0)return!0;var Je=fx(De,e);return y&&y>=Je})(),je=ce&&(function(){if(K.getFullYear()<0)return!0;var Je=px(De,e);return y&&y>=Je})(),Pe=g&&g<oe,Ne=ce&&g&&g<Ce;function xe(){Re(N,"prev")}function Qe(){Re(K,"prev2")}function hs(){Re(oe,"next")}function or(){Re(Ce,"next2")}function ar(Je){var lr=(function(){switch(De){case"century":return gx(f,h,Je);case"decade":return OE(f,h,Je);case"year":return h(f,Je);case"month":return o(f,Je);default:throw new Error("Invalid view: ".concat(De,"."))}})();return V?V({date:Je,label:lr,locale:f||_E()||void 0,view:De}):lr}function Rn(){var Je="".concat(Pr,"__label");return I.jsxs("button",{"aria-label":E,"aria-live":S,className:Je,disabled:!re,onClick:t,style:{flexGrow:1},type:"button",children:[I.jsx("span",{className:"".concat(Je,"__labelText ").concat(Je,"__labelText--from"),children:ar(e)}),Ye?I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"".concat(Je,"__divider"),children:"  "}),I.jsx("span",{className:"".concat(Je,"__labelText ").concat(Je,"__labelText--to"),children:ar(oe)})]}):null]})}return I.jsxs("div",{className:Pr,children:[C!==null&&ce?I.jsx("button",{"aria-label":P,className:"".concat(Pr,"__arrow ").concat(Pr,"__prev2-button"),disabled:je,onClick:Qe,type:"button",children:C}):null,k!==null&&I.jsx("button",{"aria-label":x,className:"".concat(Pr,"__arrow ").concat(Pr,"__prev-button"),disabled:we,onClick:xe,type:"button",children:k}),Rn(),me!==null&&I.jsx("button",{"aria-label":ne,className:"".concat(Pr,"__arrow ").concat(Pr,"__next-button"),disabled:Pe,onClick:hs,type:"button",children:me}),q!==null&&ce?I.jsx("button",{"aria-label":j,className:"".concat(Pr,"__arrow ").concat(Pr,"__next2-button"),disabled:Ne,onClick:or,type:"button",children:q}):null]})}var Ho=function(){return Ho=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ho.apply(this,arguments)},_x=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function d_(n){return"".concat(n,"%")}function lm(n){var e=n.children,t=n.className,i=n.count,o=n.direction,l=n.offset,h=n.style,f=n.wrap,g=_x(n,["children","className","count","direction","offset","style","wrap"]);return I.jsx("div",Ho({className:t,style:Ho({display:"flex",flexDirection:o,flexWrap:f?"wrap":"nowrap"},h)},g,{children:F.Children.map(e,function(y,_){var E=l&&_===0?d_(100*l/i):null;return F.cloneElement(y,Ho(Ho({},y.props),{style:{flexBasis:d_(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:E,marginInlineStart:E,marginInlineEnd:0}}))})}))}function wx(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Pl(n,e){return e[0]<=n&&e[1]>=n}function Ex(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function LE(n,e){return Pl(n[0],e)||Pl(n[1],e)}function f_(n,e,t){var i=LE(e,n),o=[];if(i){o.push(t);var l=Pl(n[0],e),h=Pl(n[1],e);l&&o.push("".concat(t,"Start")),h&&o.push("".concat(t,"End")),l&&h&&o.push("".concat(t,"BothEnds"))}return o}function Tx(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function Cx(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,i=n.hover,o="react-calendar__tile",l=[o];if(!t)return l;var h=new Date,f=(function(){if(Array.isArray(t))return t;var V=n.dateType;if(!V)throw new Error("dateType is required when date is not an array of two dates");return h_(V,t)})();if(Pl(h,f)&&l.push("".concat(o,"--now")),!e||!Tx(e))return l;var g=(function(){if(Array.isArray(e))return e;var V=n.valueType;if(!V)throw new Error("valueType is required when value is not an array of two dates");return h_(V,e)})();Ex(g,f)?l.push("".concat(o,"--active")):LE(g,f)&&l.push("".concat(o,"--hasActive"));var y=f_(g,f,"".concat(o,"--range"));l.push.apply(l,y);var _=Array.isArray(e)?e:[e];if(i&&_.length===1){var E=i>g[0]?[g[0],i]:[i,g[0]],S=f_(E,f,"".concat(o,"--hover"));l.push.apply(l,S)}return l}function mh(n){for(var e=n.className,t=n.count,i=t===void 0?3:t,o=n.dateTransform,l=n.dateType,h=n.end,f=n.hover,g=n.offset,y=n.renderTile,_=n.start,E=n.step,S=E===void 0?1:E,V=n.value,H=n.valueType,j=[],b=_;b<=h;b+=S){var q=o(b);j.push(y({classes:Cx({date:q,dateType:l,hover:f,value:V,valueType:H}),date:q}))}return I.jsx(lm,{className:e,count:i,offset:g,wrap:!0,children:j})}function gh(n){var e=n.activeStartDate,t=n.children,i=n.classes,o=n.date,l=n.formatAbbr,h=n.locale,f=n.maxDate,g=n.maxDateTransform,y=n.minDate,_=n.minDateTransform,E=n.onClick,S=n.onMouseOver,V=n.style,H=n.tileClassName,j=n.tileContent,b=n.tileDisabled,q=n.view,G=F.useMemo(function(){var le={activeStartDate:e,date:o,view:q};return typeof H=="function"?H(le):H},[e,o,H,q]),ne=F.useMemo(function(){var le={activeStartDate:e,date:o,view:q};return typeof j=="function"?j(le):j},[e,o,j,q]);return I.jsxs("button",{className:ch(i,G),disabled:y&&_(y)>o||f&&g(f)<o||b?.({activeStartDate:e,date:o,view:q}),onClick:E?function(le){return E(o,le)}:void 0,onFocus:S?function(){return S(o)}:void 0,onMouseOver:S?function(){return S(o)}:void 0,style:V,type:"button",children:[l?I.jsx("abbr",{"aria-label":l(h,o),children:t}):t,ne]})}var Wf=function(){return Wf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Wf.apply(this,arguments)},Sx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},p_="react-calendar__century-view__decades__decade";function Ix(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentCentury,o=n.formatYear,l=o===void 0?ph:o,h=Sx(n,["classes","currentCentury","formatYear"]),f=h.date,g=h.locale,y=[];return t&&y.push.apply(y,t),y.push(p_),pa(f).getFullYear()!==i&&y.push("".concat(p_,"--neighboringCentury")),I.jsx(gh,Wf({},h,{classes:y,maxDateTransform:dh,minDateTransform:cs,view:"century",children:OE(g,l,f)}))}var Hf=function(){return Hf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Hf.apply(this,arguments)},m_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function Ax(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringCentury,o=n.value,l=n.valueType,h=m_(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),f=ax(e),g=f+(i?119:99);return I.jsx(mh,{className:"react-calendar__century-view__decades",dateTransform:cs,dateType:"decade",end:g,hover:t,renderTile:function(y){var _=y.date,E=m_(y,["date"]);return I.jsx(Ix,Hf({},h,E,{activeStartDate:e,currentCentury:f,date:_}),_.getTime())},start:f,step:10,value:o,valueType:l})}var qf=function(){return qf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},qf.apply(this,arguments)};function Rx(n){function e(){return I.jsx(Ax,qf({},n))}return I.jsx("div",{className:"react-calendar__century-view",children:e()})}var Gf=function(){return Gf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Gf.apply(this,arguments)},kx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},g_="react-calendar__decade-view__years__year";function Dx(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentDecade,o=n.formatYear,l=o===void 0?ph:o,h=kx(n,["classes","currentDecade","formatYear"]),f=h.date,g=h.locale,y=[];return t&&y.push.apply(y,t),y.push(g_),cs(f).getFullYear()!==i&&y.push("".concat(g_,"--neighboringDecade")),I.jsx(gh,Gf({},h,{classes:y,maxDateTransform:fh,minDateTransform:ma,view:"decade",children:l(g,f)}))}var Kf=function(){return Kf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Kf.apply(this,arguments)},y_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function Px(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringDecade,o=n.value,l=n.valueType,h=y_(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),f=lx(e),g=f+(i?11:9);return I.jsx(mh,{className:"react-calendar__decade-view__years",dateTransform:ma,dateType:"year",end:g,hover:t,renderTile:function(y){var _=y.date,E=y_(y,["date"]);return I.jsx(Dx,Kf({},h,E,{activeStartDate:e,currentDecade:f,date:_}),_.getTime())},start:f,value:o,valueType:l})}var Yf=function(){return Yf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Yf.apply(this,arguments)};function xx(n){function e(){return I.jsx(Px,Yf({},n))}return I.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Qf=function(){return Qf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Qf.apply(this,arguments)},Nx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},v_=function(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))},bx="react-calendar__year-view__months__month";function Ox(n){var e=n.classes,t=e===void 0?[]:e,i=n.formatMonth,o=i===void 0?nx:i,l=n.formatMonthYear,h=l===void 0?PE:l,f=Nx(n,["classes","formatMonth","formatMonthYear"]),g=f.date,y=f.locale;return I.jsx(gh,Qf({},f,{classes:v_(v_([],t,!0),[bx],!1),formatAbbr:h,maxDateTransform:ql,minDateTransform:to,view:"year",children:o(y,g)}))}var Jf=function(){return Jf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Jf.apply(this,arguments)},__=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function Vx(n){var e=n.activeStartDate,t=n.hover,i=n.value,o=n.valueType,l=__(n,["activeStartDate","hover","value","valueType"]),h=0,f=11,g=ot(e);return I.jsx(mh,{className:"react-calendar__year-view__months",dateTransform:function(y){var _=new Date;return _.setFullYear(g,y,1),to(_)},dateType:"month",end:f,hover:t,renderTile:function(y){var _=y.date,E=__(y,["date"]);return I.jsx(Ox,Jf({},l,E,{activeStartDate:e,date:_}),_.getTime())},start:h,value:i,valueType:o})}var Xf=function(){return Xf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Xf.apply(this,arguments)};function Lx(n){function e(){return I.jsx(Vx,Xf({},n))}return I.jsx("div",{className:"react-calendar__year-view",children:e()})}var Zf=function(){return Zf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Zf.apply(this,arguments)},Mx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},hf="react-calendar__month-view__days__day";function Fx(n){var e=n.calendarType,t=n.classes,i=t===void 0?[]:t,o=n.currentMonthIndex,l=n.formatDay,h=l===void 0?ex:l,f=n.formatLongDate,g=f===void 0?tx:f,y=Mx(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=y.date,E=y.locale,S=[];return i&&S.push.apply(S,i),S.push(hf),VE(_,e)&&S.push("".concat(hf,"--weekend")),_.getMonth()!==o&&S.push("".concat(hf,"--neighboringMonth")),I.jsx(gh,Zf({},y,{classes:S,formatAbbr:g,maxDateTransform:om,minDateTransform:Gl,view:"month",children:h(E,_)}))}var ep=function(){return ep=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ep.apply(this,arguments)},w_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function jx(n){var e=n.activeStartDate,t=n.calendarType,i=n.hover,o=n.showFixedNumberOfWeeks,l=n.showNeighboringMonth,h=n.value,f=n.valueType,g=w_(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=ot(e),_=us(e),E=o||l,S=Dl(e,t),V=E?0:S,H=(E?-S:0)+1,j=(function(){if(o)return H+42-1;var b=DE(e);if(l){var q=new Date;q.setFullYear(y,_,b),q.setHours(0,0,0,0);var G=7-Dl(q,t)-1;return b+G}return b})();return I.jsx(mh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var q=new Date;return q.setFullYear(y,_,b),Gl(q)},dateType:"day",hover:i,end:j,renderTile:function(b){var q=b.date,G=w_(b,["date"]);return I.jsx(Fx,ep({},g,G,{activeStartDate:e,calendarType:t,currentMonthIndex:_,date:q}),q.getTime())},offset:V,start:H,value:h,valueType:f})}var ME="react-calendar__month-view__weekdays",df="".concat(ME,"__weekday");function Ux(n){for(var e=n.calendarType,t=n.formatShortWeekday,i=t===void 0?rx:t,o=n.formatWeekday,l=o===void 0?ix:o,h=n.locale,f=n.onMouseLeave,g=new Date,y=to(g),_=ot(y),E=us(y),S=[],V=1;V<=7;V+=1){var H=new Date(_,E,V-Dl(y,e)),j=l(h,H);S.push(I.jsx("div",{className:ch(df,yx(H)&&"".concat(df,"--current"),VE(H,e)&&"".concat(df,"--weekend")),children:I.jsx("abbr",{"aria-label":j,title:j,children:i(h,H).replace(".","")})},V))}return I.jsx(lm,{className:ME,count:7,onFocus:f,onMouseOver:f,children:S})}var Wc=function(){return Wc=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Wc.apply(this,arguments)},E_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t},T_="react-calendar__tile";function Bx(n){var e=n.onClickWeekNumber,t=n.weekNumber,i=I.jsx("span",{children:t});if(e){var o=n.date,l=n.onClickWeekNumber,h=n.weekNumber,f=E_(n,["date","onClickWeekNumber","weekNumber"]);return I.jsx("button",Wc({},f,{className:T_,onClick:function(g){return l(h,o,g)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var f=E_(n,["date","onClickWeekNumber","weekNumber"]);return I.jsx("div",Wc({},f,{className:T_,children:i}))}}function zx(n){var e=n.activeStartDate,t=n.calendarType,i=n.onClickWeekNumber,o=n.onMouseLeave,l=n.showFixedNumberOfWeeks,h=(function(){if(l)return 6;var y=DE(e),_=Dl(e,t),E=y-(7-_);return 1+Math.ceil(E/7)})(),f=(function(){for(var y=ot(e),_=us(e),E=hh(e),S=[],V=0;V<h;V+=1)S.push($f(new Date(y,_,E+V*7),t));return S})(),g=f.map(function(y){return ux(y,t)});return I.jsx(lm,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,_){var E=f[_];if(!E)throw new Error("date is not defined");return I.jsx(Bx,{date:E,onClickWeekNumber:i,weekNumber:y},y)})})}var tp=function(){return tp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},tp.apply(this,arguments)},$x=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function Wx(n){if(n)for(var e=0,t=Object.entries(W2);e<t.length;e++){var i=t[e],o=i[0],l=i[1];if(l.includes(n))return o}return Bt.ISO_8601}function Hx(n){var e=n.activeStartDate,t=n.locale,i=n.onMouseLeave,o=n.showFixedNumberOfWeeks,l=n.calendarType,h=l===void 0?Wx(t):l,f=n.formatShortWeekday,g=n.formatWeekday,y=n.onClickWeekNumber,_=n.showWeekNumbers,E=$x(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return I.jsx(Ux,{calendarType:h,formatShortWeekday:f,formatWeekday:g,locale:t,onMouseLeave:i})}function V(){return _?I.jsx(zx,{activeStartDate:e,calendarType:h,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function H(){return I.jsx(jx,tp({calendarType:h},E))}var j="react-calendar__month-view";return I.jsx("div",{className:ch(j,_?"".concat(j,"--weekNumbers"):""),children:I.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[V(),I.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[S(),H()]})]})})}var qo=function(){return qo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},qo.apply(this,arguments)},ac="react-calendar",Cc=["century","decade","year","month"],qx=["decade","year","month","day"],um=new Date;um.setFullYear(1,0,1);um.setHours(0,0,0,0);var Gx=new Date(864e13);function ll(n){return n instanceof Date?n:new Date(n)}function FE(n,e){return Cc.slice(Cc.indexOf(n),Cc.indexOf(e)+1)}function Kx(n,e,t){var i=FE(e,t);return i.indexOf(n)!==-1}function cm(n,e,t){return n&&Kx(n,e,t)?n:t}function jE(n){var e=Cc.indexOf(n);return qx[e]}function Yx(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var i=ll(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function UE(n,e){var t=n.value,i=n.minDate,o=n.maxDate,l=n.maxDetail,h=Yx(t,e);if(!h)return null;var f=jE(l),g=(function(){switch(e){case 0:return Ws(f,h);case 1:return NE(f,h);default:throw new Error("Invalid index value: ".concat(e))}})();return wx(g,i,o)}var hm=function(n){return UE(n,0)},BE=function(n){return UE(n,1)},Qx=function(n){return[hm,BE].map(function(e){return e(n)})};function zE(n){var e=n.maxDate,t=n.maxDetail,i=n.minDate,o=n.minDetail,l=n.value,h=n.view,f=cm(h,o,t),g=hm({value:l,minDate:i,maxDate:e,maxDetail:t})||new Date;return Ws(f,g)}function Jx(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,i=n.defaultValue,o=n.defaultView,l=n.maxDate,h=n.maxDetail,f=n.minDate,g=n.minDetail,y=n.value,_=n.view,E=cm(_,g,h),S=e||t;return S?Ws(E,S):zE({maxDate:l,maxDetail:h,minDate:f,minDetail:g,value:y||i,view:_||o})}function ff(n){return n&&(!Array.isArray(n)||n.length===1)}function lc(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var Xx=F.forwardRef(function(e,t){var i=e.activeStartDate,o=e.allowPartialRange,l=e.calendarType,h=e.className,f=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,_=e.formatDay,E=e.formatLongDate,S=e.formatMonth,V=e.formatMonthYear,H=e.formatShortWeekday,j=e.formatWeekday,b=e.formatYear,q=e.goToRangeStartOnSelect,G=q===void 0?!0:q,ne=e.inputRef,le=e.locale,me=e.maxDate,ee=me===void 0?Gx:me,P=e.maxDetail,A=P===void 0?"month":P,C=e.minDate,D=C===void 0?um:C,x=e.minDetail,M=x===void 0?"century":x,k=e.navigationAriaLabel,Re=e.navigationAriaLive,Ye=e.navigationLabel,De=e.next2AriaLabel,Fe=e.next2Label,re=e.nextAriaLabel,ce=e.nextLabel,N=e.onActiveStartDateChange,K=e.onChange,oe=e.onClickDay,Ce=e.onClickDecade,we=e.onClickMonth,je=e.onClickWeekNumber,Pe=e.onClickYear,Ne=e.onDrillDown,xe=e.onDrillUp,Qe=e.onViewChange,hs=e.prev2AriaLabel,or=e.prev2Label,ar=e.prevAriaLabel,Rn=e.prevLabel,Je=e.returnValue,lr=Je===void 0?"start":Je,St=e.selectRange,kn=e.showDoubleView,vi=e.showFixedNumberOfWeeks,at=e.showNavigation,lt=at===void 0?!0:at,fn=e.showNeighboringCentury,ds=e.showNeighboringDecade,_i=e.showNeighboringMonth,ro=_i===void 0?!0:_i,ur=e.showWeekNumbers,fs=e.tileClassName,wi=e.tileContent,cr=e.tileDisabled,Ei=e.value,hr=e.view,Hn=F.useState(f),io=Hn[0],pn=Hn[1],Br=F.useState(null),ps=Br[0],tn=Br[1],zr=F.useState(Array.isArray(g)?g.map(function(ke){return ke!==null?ll(ke):null}):g!=null?ll(g):null),Dn=zr[0],Ti=zr[1],Pn=F.useState(y),qn=Pn[0],Ze=Pn[1],_t=i||io||Jx({activeStartDate:i,defaultActiveStartDate:f,defaultValue:g,defaultView:y,maxDate:ee,maxDetail:A,minDate:D,minDetail:M,value:Ei,view:hr}),ut=(function(){var ke=(function(){return St&&ff(Dn)?Dn:Ei!==void 0?Ei:Dn})();return ke?Array.isArray(ke)?ke.map(function(Ge){return Ge!==null?ll(Ge):null}):ke!==null?ll(ke):null:null})(),mn=jE(A),qe=cm(hr||qn,M,A),Xt=FE(M,A),xn=St?ps:null,Ci=Xt.indexOf(qe)<Xt.length-1,dr=Xt.indexOf(qe)>0,Gn=F.useCallback(function(ke){var Ge=(function(){switch(lr){case"start":return hm;case"end":return BE;case"range":return Qx;default:throw new Error("Invalid returnValue.")}})();return Ge({maxDate:ee,maxDetail:A,minDate:D,value:ke})},[ee,A,D,lr]),Nn=F.useCallback(function(ke,Ge){pn(ke);var et={action:Ge,activeStartDate:ke,value:ut,view:qe};N&&!lc(_t,ke)&&N(et)},[_t,N,ut,qe]),$r=F.useCallback(function(ke,Ge){var et=(function(){switch(qe){case"century":return Ce;case"decade":return Pe;case"year":return we;case"month":return oe;default:throw new Error("Invalid view: ".concat(qe,"."))}})();et&&et(ke,Ge)},[oe,Ce,we,Pe,qe]),gn=F.useCallback(function(ke,Ge){if(Ci){$r(ke,Ge);var et=Xt[Xt.indexOf(qe)+1];if(!et)throw new Error("Attempted to drill down from the lowest view.");pn(ke),Ze(et);var $t={action:"drillDown",activeStartDate:ke,value:ut,view:et};N&&!lc(_t,ke)&&N($t),Qe&&qe!==et&&Qe($t),Ne&&Ne($t)}},[_t,Ci,N,$r,Ne,Qe,ut,qe,Xt]),nn=F.useCallback(function(){if(dr){var ke=Xt[Xt.indexOf(qe)-1];if(!ke)throw new Error("Attempted to drill up from the highest view.");var Ge=Ws(ke,_t);pn(Ge),Ze(ke);var et={action:"drillUp",activeStartDate:Ge,value:ut,view:ke};N&&!lc(_t,Ge)&&N(et),Qe&&qe!==ke&&Qe(et),xe&&xe(et)}},[_t,dr,N,xe,Qe,ut,qe,Xt]),fr=F.useCallback(function(ke,Ge){var et=ut;$r(ke,Ge);var $t=St&&!ff(et),It;if(St)if($t)It=Ws(mn,ke);else{if(!et)throw new Error("previousValue is required");if(Array.isArray(et))throw new Error("previousValue must not be an array");It=mx(mn,et,ke)}else It=Gn(ke);var Wr=!St||$t||G?zE({maxDate:ee,maxDetail:A,minDate:D,minDetail:M,value:It,view:qe}):null;Ge.persist(),pn(Wr),Ti(It);var Ii={action:"onChange",activeStartDate:Wr,value:It,view:qe};if(N&&!lc(_t,Wr)&&N(Ii),K)if(St){var Hr=ff(It);if(!Hr)K(It||null,Ge);else if(o){if(Array.isArray(It))throw new Error("value must not be an array");K([It||null,null],Ge)}}else K(It||null,Ge)},[_t,o,Gn,G,ee,A,D,M,N,K,$r,St,ut,mn,qe]);function rn(ke){tn(ke)}function Si(){tn(null)}F.useImperativeHandle(t,function(){return{activeStartDate:_t,drillDown:gn,drillUp:nn,onChange:fr,setActiveStartDate:Nn,value:ut,view:qe}},[_t,gn,nn,fr,Nn,ut,qe]);function ms(ke){var Ge=ke?xE(qe,_t):Ws(qe,_t),et=Ci?gn:fr,$t={activeStartDate:Ge,hover:xn,locale:le,maxDate:ee,minDate:D,onClick:et,onMouseOver:St?rn:void 0,tileClassName:fs,tileContent:wi,tileDisabled:cr,value:ut,valueType:mn};switch(qe){case"century":return I.jsx(Rx,qo({formatYear:b,showNeighboringCentury:fn},$t));case"decade":return I.jsx(xx,qo({formatYear:b,showNeighboringDecade:ds},$t));case"year":return I.jsx(Lx,qo({formatMonth:S,formatMonthYear:V},$t));case"month":return I.jsx(Hx,qo({calendarType:l,formatDay:_,formatLongDate:E,formatShortWeekday:H,formatWeekday:j,onClickWeekNumber:je,onMouseLeave:St?Si:void 0,showFixedNumberOfWeeks:typeof vi<"u"?vi:kn,showNeighboringMonth:ro,showWeekNumbers:ur},$t));default:throw new Error("Invalid view: ".concat(qe,"."))}}function gs(){return lt?I.jsx(vx,{activeStartDate:_t,drillUp:nn,formatMonthYear:V,formatYear:b,locale:le,maxDate:ee,minDate:D,navigationAriaLabel:k,navigationAriaLive:Re,navigationLabel:Ye,next2AriaLabel:De,next2Label:Fe,nextAriaLabel:re,nextLabel:ce,prev2AriaLabel:hs,prev2Label:or,prevAriaLabel:ar,prevLabel:Rn,setActiveStartDate:Nn,showDoubleView:kn,view:qe,views:Xt}):null}var yn=Array.isArray(ut)?ut:[ut];return I.jsxs("div",{className:ch(ac,St&&yn.length===1&&"".concat(ac,"--selectRange"),kn&&"".concat(ac,"--doubleView"),h),ref:ne,children:[gs(),I.jsxs("div",{className:"".concat(ac,"__viewContainer"),onBlur:St?Si:void 0,onMouseLeave:St?Si:void 0,children:[ms(),kn?ms(!0):null]})]})});function C_(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`}function Zx(){const[n,e]=F.useState(null),[t,i]=F.useState(""),[o,l]=F.useState(""),h=C=>{e(C),i(C.title),l(C.dueDate)},f=()=>{if(!n)return;const C=t.trim();C&&(H(D=>D.map(x=>x.id===n.id?{...x,title:C,dueDate:o}:x)),e(null))},{uid:g,ready:y,hydrated:_,cohort:E,setCohort:S,tasks:V,setTasksAndSave:H}=em(),[j,b]=F.useState(new Date),[q,G]=F.useState(""),ne=ls();F.useEffect(()=>{const D=new URLSearchParams(ne.search).get("date");if(!D)return;const[x,M,k]=D.split("-").map(Number);!x||!M||!k||b(new Date(x,M-1,k))},[ne.search]);const le=F.useMemo(()=>C_(j),[j]),me=F.useMemo(()=>E?V.filter(C=>C.cohort===E):[],[V,E]),ee=F.useMemo(()=>{const C=new Map;for(const D of me){const x=C.get(D.dueDate)??[];x.push(D),C.set(D.dueDate,x)}return C},[me]),P=F.useMemo(()=>ee.get(le)??[],[ee,le]),A=C=>{const D=C_(C),x=ee.get(D)??[];return x.length===0?"none":x.every(M=>M.done)?"done":"todo"};return y?g?_?I.jsxs("div",{children:[I.jsx("h1",{children:""}),I.jsx("div",{className:"card",style:{marginTop:12},children:I.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[I.jsx("strong",{children:" "}),I.jsxs("select",{value:E,onChange:C=>S(C.target.value),style:{height:36,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),kl.map(C=>I.jsx("option",{value:C.key,children:C.label},C.key))]}),I.jsx("span",{style:{color:"var(--muted)"},children:"       /  /  "})]})}),I.jsxs("div",{className:"calendar-layout",children:[I.jsx("div",{className:"card",children:E?I.jsx(Xx,{onChange:C=>{const D=Array.isArray(C)?C[0]:C;D instanceof Date&&b(D)},value:j,tileClassName:({date:C,view:D})=>{if(D!=="month")return"";const x=A(C);return x==="done"?"cal-day-done":x==="todo"?"cal-day-todo":""},tileContent:({date:C,view:D})=>{if(D!=="month")return null;const x=A(C);return I.jsx("div",{className:"cal-marker",children:I.jsx("span",{className:`dot ${x==="todo"?"on":""} ${x==="done"?"done":""}`,children:""})})}}):I.jsx("div",{style:{color:"var(--muted)"},children:"  ."})}),I.jsxs("div",{className:"card",children:[I.jsx("h3",{style:{marginTop:0},children:le}),E&&I.jsxs("div",{style:{display:"flex",gap:8,marginTop:10,alignItems:"center"},children:[I.jsx("input",{value:q,onChange:C=>G(C.target.value),placeholder:"   ",style:{flex:1,height:36,padding:"0 12px",borderRadius:10,border:"1px solid var(--border)"}}),I.jsx("button",{className:"btn",onClick:()=>{const C=q.trim();C&&(H(D=>Bf(D,{cohort:E,title:C,dueDate:le,phase:"during"})),G(""))},children:""})]}),!E&&I.jsx("div",{style:{color:"var(--muted)"},children:"   ."}),E&&P.length===0&&I.jsx("div",{style:{color:"var(--muted)",marginLeft:5,marginTop:16},children:"     ."}),E&&P.length>0&&I.jsx("div",{style:{display:"grid",gap:10,marginTop:10},children:P.map(C=>I.jsxs("div",{className:"card",style:{padding:12},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"center"},children:[I.jsxs("label",{style:{display:"flex",gap:10,alignItems:"center",flex:1},children:[I.jsx("input",{type:"checkbox",checked:C.done,onChange:()=>H(D=>fE(D,C.id))}),I.jsx("span",{style:{textDecoration:C.done?"line-through":"none"},children:C.title})]}),I.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[I.jsxs("select",{value:C.assignee,onChange:D=>H(x=>pE(x,C.id,D.target.value)),style:{height:34,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)"},children:[I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""}),I.jsx("option",{value:"",children:""})]}),I.jsx("button",{onClick:()=>h(C),style:{height:34,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)",background:"#fff",cursor:"pointer",fontWeight:700},children:""}),C.id.includes(":custom:")&&I.jsx("button",{onClick:()=>H(D=>mE(D,C.id)),style:{height:34,padding:"0 10px",borderRadius:10,border:"1px solid var(--border)",background:"#fff",cursor:"pointer",fontWeight:700},title:"    ",children:""})]})]}),I.jsxs("div",{style:{marginTop:6,color:"var(--muted)",fontSize:12},children:["due: ",C.dueDate]})]},`${C.id}|${C.cohort}|${C.dueDate}`))},`${E}|${le}`),n&&I.jsx("div",{onClick:()=>e(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"grid",placeItems:"center",zIndex:9999,padding:16},children:I.jsxs("div",{onClick:C=>C.stopPropagation(),style:{width:"min(520px, 100%)",background:"#fff",borderRadius:14,border:"1px solid var(--border)",padding:16},children:[I.jsx("h3",{style:{margin:0,marginBottom:12},children:"  "}),I.jsxs("div",{style:{display:"grid",gap:10},children:[I.jsxs("div",{style:{display:"grid",gap:6},children:[I.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:""}),I.jsx("input",{value:t,onChange:C=>i(C.target.value),style:{height:38,padding:"0 12px",borderRadius:10,border:"1px solid var(--border)"}})]}),I.jsxs("div",{style:{display:"grid",gap:6},children:[I.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:""}),I.jsx("input",{type:"date",value:o,onChange:C=>l(C.target.value),style:{height:38,padding:"0 12px",borderRadius:10,border:"1px solid var(--border)"}})]}),I.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:4},children:[I.jsx("button",{className:"btn",onClick:()=>e(null),children:""}),I.jsx("button",{className:"btn",onClick:f,children:""})]})]})]})})]})]})]}):I.jsx("div",{className:"card",style:{padding:16},children:"  "}):I.jsx("div",{className:"card",style:{padding:16},children:" ."}):I.jsx("div",{className:"card",style:{padding:16},children:" "})}function eN(){return I.jsxs("div",{children:[I.jsx("h1",{children:"404"}),I.jsx("p",{children:"   ."})]})}function tN(){return I.jsx(s1,{children:I.jsxs(Uo,{element:I.jsx(e2,{children:I.jsx(t2,{})}),children:[I.jsx(Uo,{path:"/",element:I.jsx(c2,{})}),I.jsx(Uo,{path:"/tasks",element:I.jsx(_2,{})}),I.jsx(Uo,{path:"/calendar",element:I.jsx(Zx,{})}),I.jsx(Uo,{path:"*",element:I.jsx(eN,{})})]})})}function nN(){return I.jsx(tN,{})}sC.createRoot(document.getElementById("root")).render(I.jsx(XT.StrictMode,{children:I.jsx(D1,{children:I.jsx(u2,{children:I.jsx(nN,{})})})}));
